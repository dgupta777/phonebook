(self.webpackChunkphonebook=self.webpackChunkphonebook||[]).push([[179],{440:(en,rt,S)=>{"use strict";S.d(rt,{nm:()=>Ar});var c=S(5813);S(4650),S(5867);var Be=S(5861),we=S(9681),Ie=S(3475),tt=S(2090),Et=S(1877);const ye=new Map,pt={activated:!1,tokenObservers:[]},Re={initialized:!1,enabled:!1};function Ye(X){return ye.get(X)||pt}function ct(X,me){ye.set(X,me)}function dt(){return Re}class Rn{constructor(me,Le,ht,Ut,un){if(this.operation=me,this.retryPolicy=Le,this.getWaitDuration=ht,this.lowerBound=Ut,this.upperBound=un,this.pending=null,this.nextErrorWaitInterval=Ut,Ut>un)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(me){var Le=this;return(0,Be.Z)(function*(){Le.stop();try{Le.pending=new tt.BH,yield function pn(X){return new Promise(me=>{setTimeout(me,X)})}(Le.getNextRun(me)),Le.pending.resolve(),yield Le.pending.promise,Le.pending=new tt.BH,yield Le.operation(),Le.pending.resolve(),yield Le.pending.promise,Le.process(!0).catch(()=>{})}catch(ht){Le.retryPolicy(ht)?Le.process(!1).catch(()=>{}):Le.stop()}})()}getNextRun(me){if(me)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Le=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Le}}}const zt=new tt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Nn(X){if(!Ye(X).activated)throw zt.create("use-before-activation",{appName:X.name})}function An(X,me){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,Be.Z)(function*({url:X,body:me},Le){var ht,Ut;const un={"Content-Type":"application/json"},Dn=Le.getImmediate({optional:!0});if(Dn){const Kn=yield Dn.getHeartbeatsHeader();Kn&&(un["X-Firebase-Client"]=Kn)}const Sr={method:"POST",body:JSON.stringify(me),headers:un};let te,lt;try{te=yield fetch(X,Sr)}catch(Kn){throw zt.create("fetch-network-error",{originalErrorMessage:null===(ht=Kn)||void 0===ht?void 0:ht.message})}if(200!==te.status)throw zt.create("fetch-status-error",{httpStatus:te.status});try{lt=yield te.json()}catch(Kn){throw zt.create("fetch-parse-error",{originalErrorMessage:null===(Ut=Kn)||void 0===Ut?void 0:Ut.message})}const Ue=lt.ttl.match(/^([\d.]+)(s)$/);if(!Ue||!Ue[2]||isNaN(Number(Ue[1])))throw zt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${lt.ttl}`});const bt=1e3*Number(Ue[1]),Sn=Date.now();return{token:lt.token,expireTimeMillis:Sn+bt,issuedAtTimeMillis:Sn}})).apply(this,arguments)}function Zn(X,me){const{projectId:Le,appId:ht,apiKey:Ut}=X.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Le}/apps/${ht}:exchangeDebugToken?key=${Ut}`,body:{debug_token:me}}}const Qn="firebase-app-check-store";let rr=null;function Xn(){return rr||(rr=new Promise((X,me)=>{var Le;try{const ht=indexedDB.open("firebase-app-check-database",1);ht.onsuccess=Ut=>{X(Ut.target.result)},ht.onerror=Ut=>{var un;me(zt.create("storage-open",{originalErrorMessage:null===(un=Ut.target.error)||void 0===un?void 0:un.message}))},ht.onupgradeneeded=Ut=>{0===Ut.oldVersion&&Ut.target.result.createObjectStore(Qn,{keyPath:"compositeKey"})}}catch(ht){me(zt.create("storage-open",{originalErrorMessage:null===(Le=ht)||void 0===Le?void 0:Le.message}))}}),rr)}function Pt(){return(Pt=(0,Be.Z)(function*(X,me){const ht=(yield Xn()).transaction(Qn,"readwrite"),un=ht.objectStore(Qn).put({compositeKey:X,value:me});return new Promise((Dn,Sr)=>{un.onsuccess=te=>{Dn()},ht.onerror=te=>{var lt;Sr(zt.create("storage-set",{originalErrorMessage:null===(lt=te.target.error)||void 0===lt?void 0:lt.message}))}})})).apply(this,arguments)}const hn=new Et.Yd("@firebase/app-check");function Qe(X,me){return(0,tt.hl)()?function cr(X,me){return function st(X,me){return Pt.apply(this,arguments)}(function _n(X){return`${X.options.appId}-${X.name}`}(X),me)}(X,me).catch(Le=>{hn.warn(`Failed to write token to IndexedDB. Error: ${Le}`)}):Promise.resolve()}function Z(){return dt().enabled}function q(){return Y.apply(this,arguments)}function Y(){return(Y=(0,Be.Z)(function*(){const X=dt();if(X.enabled&&X.token)return X.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ee={error:"UNKNOWN_ERROR"};function $(X){return tt.US.encodeString(JSON.stringify(X),!1)}function fe(X){return xe.apply(this,arguments)}function xe(){return(xe=(0,Be.Z)(function*(X,me=!1){const Le=X.app;Nn(Le);const ht=Ye(Le);let un,Ut=ht.token;if(!Ut){const te=yield ht.cachedTokenPromise;te&&mn(te)&&(Ut=te)}if(!me&&Ut&&mn(Ut))return{token:Ut.token};let Sr,Dn=!1;if(Z()){ht.exchangeTokenPromise||(ht.exchangeTokenPromise=An(Zn(Le,yield q()),X.heartbeatServiceProvider).then(lt=>(ht.exchangeTokenPromise=void 0,lt)),Dn=!0);const te=yield ht.exchangeTokenPromise;return yield Qe(Le,te),ct(Le,Object.assign(Object.assign({},ht),{token:te})),{token:te.token}}try{ht.exchangeTokenPromise||(ht.exchangeTokenPromise=ht.provider.getToken().then(te=>(ht.exchangeTokenPromise=void 0,te)),Dn=!0),Ut=yield ht.exchangeTokenPromise}catch(te){"appCheck/throttled"===te.code?hn.warn(te.message):hn.error(te),un=te}return Ut?(Sr={token:Ut.token},ct(Le,Object.assign(Object.assign({},ht),{token:Ut})),yield Qe(Le,Ut)):Sr=xn(un),Dn&&ln(Le,Sr),Sr})).apply(this,arguments)}function ot(X,me){const Le=Ye(X),ht=Le.tokenObservers.filter(Ut=>Ut.next!==me);0===ht.length&&Le.tokenRefresher&&Le.tokenRefresher.isRunning()&&Le.tokenRefresher.stop(),ct(X,Object.assign(Object.assign({},Le),{tokenObservers:ht}))}function Qt(X){const{app:me}=X,Le=Ye(me);let ht=Le.tokenRefresher;ht||(ht=function nn(X){const{app:me}=X;return new Rn((0,Be.Z)(function*(){let ht;if(ht=Ye(me).token?yield fe(X,!0):yield fe(X),ht.error)throw ht.error}),()=>!0,()=>{const Le=Ye(me);if(Le.token){let ht=Le.token.issuedAtTimeMillis+.5*(Le.token.expireTimeMillis-Le.token.issuedAtTimeMillis)+3e5;return ht=Math.min(ht,Le.token.expireTimeMillis-3e5),Math.max(0,ht-Date.now())}return 0},3e4,96e4)}(X),ct(me,Object.assign(Object.assign({},Le),{tokenRefresher:ht}))),!ht.isRunning()&&Le.isTokenAutoRefreshEnabled&&ht.start()}function ln(X,me){const Le=Ye(X).tokenObservers;for(const ht of Le)try{"EXTERNAL"===ht.type&&null!=me.error?ht.error(me.error):ht.next(me)}catch{}}function mn(X){return X.expireTimeMillis-Date.now()>0}function xn(X){return{token:$(ee),error:X}}class ar{constructor(me,Le){this.app=me,this.heartbeatServiceProvider=Le}_delete(){const{tokenObservers:me}=Ye(this.app);for(const Le of me)ot(this.app,Le.next);return Promise.resolve()}}const qr="app-check-internal";!function Ui(){(0,we._registerComponent)(new Ie.wA("app-check",X=>function mt(X,me){return new ar(X,me)}(X.getProvider("app").getImmediate(),X.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((X,me,Le)=>{X.getProvider(qr).initialize()})),(0,we._registerComponent)(new Ie.wA(qr,X=>function Xe(X){return{getToken:me=>fe(X,me),addTokenListener:me=>function Ge(X,me,Le,ht){const{app:Ut}=X,un=Ye(Ut),Dn={next:Le,error:ht,type:me};if(ct(Ut,Object.assign(Object.assign({},un),{tokenObservers:[...un.tokenObservers,Dn]})),un.token&&mn(un.token)){const Sr=un.token;Promise.resolve().then(()=>{Le({token:Sr.token}),Qt(X)}).catch(()=>{})}un.cachedTokenPromise.then(()=>Qt(X))}(X,"INTERNAL",me),removeTokenListener:me=>ot(X.app,me)}}(X.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,we.registerVersion)("@firebase/app-check","0.5.12")}();class Ar{constructor(){return(0,c.vb)("app-check")}}typeof window<"u"&&window},1205:(en,rt,S)=>{"use strict";S.d(rt,{zQ:()=>jt,ww:()=>Gt,rT:()=>Re,f7:()=>ct,L6:()=>ye,_Q:()=>pt,lh:()=>Ye,Qv:()=>Et,nw:()=>dt});var c=S(4650),C=S(7579),I=S(9646),re=S(9751),ge=S(8996),Me=S(6451),Ne=S(5363),Te=S(3900),ke=S(4004),ce=S(6063);class be extends C.x{constructor(fn=1/0,tn=1/0,Nt=ce.l){super(),this._bufferSize=fn,this._windowTime=tn,this._timestampProvider=Nt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=tn===1/0,this._bufferSize=Math.max(1,fn),this._windowTime=Math.max(1,tn)}next(fn){const{isStopped:tn,_buffer:Nt,_infiniteTimeWindow:Rn,_timestampProvider:pn,_windowTime:gn}=this;tn||(Nt.push(fn),!Rn&&Nt.push(pn.now()+gn)),this._trimBuffer(),super.next(fn)}_subscribe(fn){this._throwIfClosed(),this._trimBuffer();const tn=this._innerSubscribe(fn),{_infiniteTimeWindow:Nt,_buffer:Rn}=this,pn=Rn.slice();for(let gn=0;gn<pn.length&&!fn.closed;gn+=Nt?1:2)fn.next(pn[gn]);return this._checkFinalizedStatuses(fn),tn}_trimBuffer(){const{_bufferSize:fn,_timestampProvider:tn,_buffer:Nt,_infiniteTimeWindow:Rn}=this,pn=(Rn?1:2)*fn;if(fn<1/0&&pn<Nt.length&&Nt.splice(0,Nt.length-pn),!Rn){const gn=tn.now();let zt=0;for(let Hn=1;Hn<Nt.length&&Nt[Hn]<=gn;Hn+=2)zt=Hn;zt&&Nt.splice(0,zt+1)}}}var De=S(3099);function it(Kt,fn,tn){let Nt,Rn=!1;return Kt&&"object"==typeof Kt?({bufferSize:Nt=1/0,windowTime:fn=1/0,refCount:Rn=!1,scheduler:tn}=Kt):Nt=Kt??1/0,(0,De.B)({connector:()=>new be(Nt,fn,tn),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Rn})}var nt=S(590),ze=S(576);function _t(Kt,fn){return(0,ze.m)(fn)?(0,Te.w)(()=>Kt,fn):(0,Te.w)(()=>Kt)}var Je=S(9468),at=S(9300),Fe=S(5813),Rt=S(2011),Be=S(6895),we=S(440),Ie=S(127);const Et=new c.OlP("angularfire2.auth.use-emulator"),ye=new c.OlP("angularfire2.auth.settings"),pt=new c.OlP("angularfire2.auth.tenant-id"),Re=new c.OlP("angularfire2.auth.langugage-code"),Ye=new c.OlP("angularfire2.auth.use-device-language"),ct=new c.OlP("angularfire.auth.persistence"),dt=(Kt,fn,tn,Nt,Rn,pn,gn,zt)=>(0,Rt.cc)(`${Kt.name}.auth`,"AngularFireAuth",Kt.name,()=>{const Hn=fn.runOutsideAngular(()=>Kt.auth());if(tn&&Hn.useEmulator(...tn),Nt&&(Hn.tenantId=Nt),Hn.languageCode=Rn,pn&&Hn.useDeviceLanguage(),gn)for(const[Nn,wn]of Object.entries(gn))Hn.settings[Nn]=wn;return zt&&Hn.setPersistence(zt),Hn},[tn,Nt,Rn,pn,gn,zt]);let jt=(()=>{class Kt{constructor(tn,Nt,Rn,pn,gn,zt,Hn,Nn,wn,xr,An,Gn){const or=new C.x,$n=(0,I.of)(void 0).pipe((0,Ne.Q)(gn.outsideAngular),(0,Te.w)(()=>pn.runOutsideAngular(()=>Promise.resolve().then(S.bind(S,2476)))),(0,ke.U)(()=>(0,Rt.on)(tn,pn,Nt)),(0,ke.U)(Zn=>dt(Zn,pn,zt,Nn,wn,xr,Hn,An)),it({bufferSize:1,refCount:!1}));if((0,Be.PM)(Rn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,I.of)(null);else{$n.pipe((0,nt.P)()).subscribe();const hr=$n.pipe((0,Te.w)($t=>$t.getRedirectResult().then(rr=>rr,()=>null)),Fe.iC,it({bufferSize:1,refCount:!1})),Bn=$n.pipe((0,Te.w)($t=>new re.y(rr=>({unsubscribe:pn.runOutsideAngular(()=>$t.onAuthStateChanged(Xn=>rr.next(Xn),Xn=>rr.error(Xn),()=>rr.complete()))})))),Qn=$n.pipe((0,Te.w)($t=>new re.y(rr=>({unsubscribe:pn.runOutsideAngular(()=>$t.onIdTokenChanged(Xn=>rr.next(Xn),Xn=>rr.error(Xn),()=>rr.complete()))}))));this.authState=hr.pipe(_t(Bn),(0,Je.R)(gn.outsideAngular),(0,Ne.Q)(gn.insideAngular)),this.user=hr.pipe(_t(Qn),(0,Je.R)(gn.outsideAngular),(0,Ne.Q)(gn.insideAngular)),this.idToken=this.user.pipe((0,Te.w)($t=>$t?(0,ge.D)($t.getIdToken()):(0,I.of)(null))),this.idTokenResult=this.user.pipe((0,Te.w)($t=>$t?(0,ge.D)($t.getIdTokenResult()):(0,I.of)(null))),this.credential=(0,Me.T)(hr,or,this.authState.pipe((0,at.h)($t=>!$t))).pipe((0,ke.U)($t=>$t?.user?$t:null),(0,Je.R)(gn.outsideAngular),(0,Ne.Q)(gn.insideAngular))}return(0,Rt.pX)(this,$n,pn,{spy:{apply:(Zn,hr,Bn)=>{(Zn.startsWith("signIn")||Zn.startsWith("createUser"))&&Bn.then(Qn=>or.next(Qn))}}})}}return Kt.\u0275fac=function(tn){return new(tn||Kt)(c.LFG(Rt.Dh),c.LFG(Rt.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Fe.HU),c.LFG(Et,8),c.LFG(ye,8),c.LFG(pt,8),c.LFG(Re,8),c.LFG(Ye,8),c.LFG(ct,8),c.LFG(we.nm,8))},Kt.\u0275prov=c.Yz7({token:Kt,factory:Kt.\u0275fac,providedIn:"any"}),Kt})(),Gt=(()=>{class Kt{constructor(){Ie.Z.registerVersion("angularfire",Fe.q4.full,"auth-compat")}}return Kt.\u0275fac=function(tn){return new(tn||Kt)},Kt.\u0275mod=c.oAB({type:Kt}),Kt.\u0275inj=c.cJS({providers:[jt]}),Kt})()},7407:(en,rt,S)=>{"use strict";S.d(rt,{ST:()=>ky,yb:()=>Qc});var c=S(4650),C=S(4986),I=S(9751),re=S(8996),ge=S(9646),Me=S(5813),Ne=S(8675),Te=S(4482),ke=S(5403);function ce(){return(0,Te.e)((i,e)=>{let t,o=!1;i.subscribe((0,ke.x)(e,l=>{const h=t;t=l,o&&e.next([h,l]),o=!0}))})}var ye,be=S(4004),De=S(5026),it=S(1884),nt=S(9300),ze=S(2011),_t=S(6895),at=(S(2476),S(3942)),Fe=S(5861),Rt=S(9681),Be=S(3475),we=S(1877),Ie=S(2090),tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Et={},pt=pt||{},Re=tt||self;function Ye(){}function ct(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function dt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Gt="closure_uid_"+(1e9*Math.random()>>>0),Kt=0;function fn(i,e,t){return i.call.apply(i.bind,arguments)}function tn(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function Nt(i,e,t){return(Nt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fn:tn).apply(null,arguments)}function Rn(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function pn(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,l,h){for(var g=Array(arguments.length-2),x=2;x<arguments.length;x++)g[x-2]=arguments[x];return e.prototype[l].apply(o,g)}}function gn(){this.s=this.s,this.o=this.o}var Hn={};gn.prototype.s=!1,gn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function jt(i){return Object.prototype.hasOwnProperty.call(i,Gt)&&i[Gt]||(i[Gt]=++Kt)}(this);delete Hn[i]}},gn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Nn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function wn(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function xr(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(ct(o)){const l=i.length||0,h=o.length||0;i.length=l+h;for(let g=0;g<h;g++)i[l+g]=o[g]}else i.push(o)}}function An(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}An.prototype.h=function(){this.defaultPrevented=!0};var Gn=function(){if(!Re.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Re.addEventListener("test",Ye,e),Re.removeEventListener("test",Ye,e)}catch{}return i}();function or(i){return/^[\s\xa0]*$/.test(i)}var $n=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Zn(i,e){return i<e?-1:i>e?1:0}function hr(){var i=Re.navigator;return i&&(i=i.userAgent)?i:""}function Bn(i){return-1!=hr().indexOf(i)}function Qn(i){return Qn[" "](i),i}Qn[" "]=Ye;var Pt,i,rr=Bn("Opera"),Xn=Bn("Trident")||Bn("MSIE"),ir=Bn("Edge"),cr=ir||Xn,sn=Bn("Gecko")&&!(-1!=hr().toLowerCase().indexOf("webkit")&&!Bn("Edge"))&&!(Bn("Trident")||Bn("MSIE"))&&!Bn("Edge"),Ct=-1!=hr().toLowerCase().indexOf("webkit")&&!Bn("Edge");function st(){var i=Re.document;return i?i.documentMode:void 0}e:{var Tt="",Bt=(i=hr(),sn?/rv:([^\);]+)(\)|;)/.exec(i):ir?/Edge\/([\d\.]+)/.exec(i):Xn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Ct?/WebKit\/(\S+)/.exec(i):rr?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Bt&&(Tt=Bt?Bt[1]:""),Xn){var _n=st();if(null!=_n&&_n>parseFloat(Tt)){Pt=String(_n);break e}}Pt=Tt}var hn={};var qe=Re.document&&Xn&&(st()||parseInt(Pt,10))||void 0;function N(i,e){if(An.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(sn){e:{try{Qn(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Z[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&N.X.h.call(this)}}pn(N,An);var Z={2:"touch",3:"pen",4:"mouse"};N.prototype.h=function(){N.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),Y=0;function j(i,e,t,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=l,this.key=++Y,this.ba=this.ea=!1}function ee(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function $(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function fe(i){const e={};for(const t in i)e[t]=i[t];return e}const xe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ge(i,e){let t,o;for(let l=1;l<arguments.length;l++){for(t in o=arguments[l],o)i[t]=o[t];for(let h=0;h<xe.length;h++)t=xe[h],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function ot(i){this.src=i,this.g={},this.h=0}function Qt(i,e){var t=e.type;if(t in i.g){var h,o=i.g[t],l=Nn(o,e);(h=0<=l)&&Array.prototype.splice.call(o,l,1),h&&(ee(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function nn(i,e,t,o){for(var l=0;l<i.length;++l){var h=i[l];if(!h.ba&&h.listener==e&&h.capture==!!t&&h.ha==o)return l}return-1}ot.prototype.add=function(i,e,t,o,l){var h=i.toString();(i=this.g[h])||(i=this.g[h]=[],this.h++);var g=nn(i,e,o,l);return-1<g?(e=i[g],t||(e.ea=!1)):((e=new j(e,this.src,h,!!o,l)).ea=t,i.push(e)),e};var ln="closure_lm_"+(1e6*Math.random()|0),mn={};function xn(i,e,t,o,l){if(o&&o.once)return Xe(i,e,t,o,l);if(Array.isArray(e)){for(var h=0;h<e.length;h++)xn(i,e[h],t,o,l);return null}return t=ue(t),i&&i[q]?i.N(e,t,dt(o)?!!o.capture:!!o,l):ar(i,e,t,!1,o,l)}function ar(i,e,t,o,l,h){if(!e)throw Error("Invalid event type");var g=dt(l)?!!l.capture:!!l,x=he(i);if(x||(i[ln]=x=new ot(i)),(t=x.add(e,t,o,g,h)).proxy)return t;if(o=function mt(){const e=Ce;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)Gn||(l=g),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(ie(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Xe(i,e,t,o,l){if(Array.isArray(e)){for(var h=0;h<e.length;h++)Xe(i,e[h],t,o,l);return null}return t=ue(t),i&&i[q]?i.O(e,t,dt(o)?!!o.capture:!!o,l):ar(i,e,t,!0,o,l)}function je(i,e,t,o,l){if(Array.isArray(e))for(var h=0;h<e.length;h++)je(i,e[h],t,o,l);else o=dt(o)?!!o.capture:!!o,t=ue(t),i&&i[q]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=nn(h=i.g[e],t,o,l))&&(ee(h[t]),Array.prototype.splice.call(h,t,1),0==h.length&&(delete i.g[e],i.h--))):i&&(i=he(i))&&(e=i.g[e.toString()],i=-1,e&&(i=nn(e,t,o,l)),(t=-1<i?e[i]:null)&&yt(t))}function yt(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[q])Qt(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(ie(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=he(e))?(Qt(t,i),0==t.h&&(t.src=null,e[ln]=null)):ee(i)}}}function ie(i){return i in mn?mn[i]:mn[i]="on"+i}function Ce(i,e){if(i.ba)i=!0;else{e=new N(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&yt(i),i=t.call(o,e)}return i}function he(i){return(i=i[ln])instanceof ot?i:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function ue(i){return"function"==typeof i?i:(i[_e]||(i[_e]=function(e){return i.handleEvent(e)}),i[_e])}function ne(){gn.call(this),this.i=new ot(this),this.P=this,this.I=null}function Ve(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new An(e,i);else if(e instanceof An)e.target=e.target||i;else{var l=e;Ge(e=new An(o,i),l)}if(l=!0,t)for(var h=t.length-1;0<=h;h--){var g=e.g=t[h];l=gt(g,o,!0,e)&&l}if(l=gt(g=e.g=i,o,!0,e)&&l,l=gt(g,o,!1,e)&&l,t)for(h=0;h<t.length;h++)l=gt(g=e.g=t[h],o,!1,e)&&l}function gt(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,h=0;h<e.length;++h){var g=e[h];if(g&&!g.ba&&g.capture==t){var x=g.listener,H=g.ha||g.src;g.ea&&Qt(i.i,g),l=!1!==x.call(H,o)&&l}}return l&&!o.defaultPrevented}pn(ne,gn),ne.prototype[q]=!0,ne.prototype.removeEventListener=function(i,e,t,o){je(this,i,e,t,o)},ne.prototype.M=function(){if(ne.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)ee(t[o]);delete i.g[e],i.h--}}this.I=null},ne.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},ne.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Lt=Re.JSON.stringify;function cn(){var i=Hr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var br,vn=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Rr,i=>i.reset());class Rr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ei(i){Re.setTimeout(()=>{throw i},0)}function Xr(i,e){br||function Jr(){var i=Re.Promise.resolve(void 0);br=function(){i.then(Pr)}}(),Lr||(br(),Lr=!0),Hr.add(i,e)}var Lr=!1,Hr=new class an{constructor(){this.h=this.g=null}add(e,t){const o=vn.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Pr(){for(var i;i=cn();){try{i.h.call(i.g)}catch(t){ei(t)}var e=vn;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Lr=!1}function Ir(i,e){ne.call(this),this.h=i||1,this.g=e||Re,this.j=Nt(this.kb,this),this.l=Date.now()}function gr(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function vi(i,e,t){if("function"==typeof i)t&&(i=Nt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Nt(i.handleEvent,i)}return 2147483647<Number(e)?-1:Re.setTimeout(i,e||0)}function qr(i){i.g=vi(()=>{i.g=null,i.i&&(i.i=!1,qr(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}pn(Ir,ne),(ye=Ir.prototype).ca=!1,ye.R=null,ye.kb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ve(this,"tick"),this.ca&&(gr(this),this.start()))}},ye.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ye.M=function(){Ir.X.M.call(this),gr(this),delete this.g};class Ui extends gn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qr(this)}M(){super.M(),this.g&&(Re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ki(i){gn.call(this),this.h=i,this.g={}}pn(ki,gn);var Ai=[];function Ar(i,e,t,o){Array.isArray(t)||(t&&(Ai[0]=t.toString()),t=Ai);for(var l=0;l<t.length;l++){var h=xn(e,t[l],o||i.handleEvent,!1,i.h||i);if(!h)break;i.g[h.key]=h}}function xi(i){$(i.g,function(e,t){this.g.hasOwnProperty(t)&&yt(e)},i),i.g={}}function _r(){this.g=!0}function oi(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Pi(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var h=l[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var g=1;g<l.length;g++)l[g]=""}}}return Lt(t)}catch{return e}}(i,t)+(o?" "+o:"")})}ki.prototype.M=function(){ki.X.M.call(this),xi(this)},ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_r.prototype.Aa=function(){this.g=!1},_r.prototype.info=function(){};var es={},_i=null;function Is(){return _i=_i||new ne}function Rs(i){An.call(this,es.Oa,i)}function ls(i){const e=Is();Ve(e,new Rs(e,i))}function zs(i,e){An.call(this,es.STAT_EVENT,i),this.stat=e}function oe(i){const e=Is();Ve(e,new zs(e,i))}function Ee(i,e){An.call(this,es.Pa,i),this.size=e}function X(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Re.setTimeout(function(){i()},e)}es.Oa="serverreachability",pn(Rs,An),es.STAT_EVENT="statevent",pn(zs,An),es.Pa="timingevent",pn(Ee,An);var me={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},Le={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ht(){}function un(){}ht.prototype.h=null;var lt,Dn={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function Sr(){An.call(this,"d")}function te(){An.call(this,"c")}function Ue(){}function bt(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new ki(this),this.O=Kn,this.T=new Ir(i=cr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Sn}function Sn(){this.i=null,this.g="",this.h=!1}pn(Sr,An),pn(te,An),pn(Ue,ht),Ue.prototype.g=function(){return new XMLHttpRequest},Ue.prototype.i=function(){return{}},lt=new Ue;var Kn=45e3,bi={},fi={};function us(i,e,t){i.K=1,i.v=$i(Ws(e)),i.s=t,i.P=!0,ts(i,null)}function ts(i,e){i.F=Date.now(),ks(i),i.A=Ws(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Go(t.i,"t",o),i.C=0,t=i.l.H,i.h=new Sn,i.g=y(i.l,t?e:null,!i.s),0<i.N&&(i.L=new Ui(Nt(i.Ka,i,i.g),i.N)),Ar(i.S,i.g,"readystatechange",i.hb),e=i.H?fe(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),ls(1),function ji(i,e,t,o,l,h){i.info(function(){if(i.g)if(h)for(var g="",x=h.split("&"),H=0;H<x.length;H++){var Q=x[H].split("=");if(1<Q.length){var Ae=Q[0];Q=Q[1];var Ze=Ae.split("_");g=2<=Ze.length&&"type"==Ze[1]?g+(Ae+"=")+Q+"&":g+(Ae+"=redacted&")}}else g=null;else g=h;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+t+"\n"+g})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Gi(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function As(i,e,t){let l,o=!0;for(;!i.I&&i.C<t.length;){if(l=Os(i,t),l==fi){4==e&&(i.o=4,oe(14),o=!1),oi(i.j,i.m,null,"[Incomplete Response]");break}if(l==bi){i.o=4,oe(15),oi(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}oi(i.j,i.m,l,null),ds(i,l)}Gi(i)&&l!=fi&&l!=bi&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,oe(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Kr(e),e.K=!0,oe(11))):(oi(i.j,i.m,t,"[Invalid Chunked Response]"),cs(i),_o(i))}function Os(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?fi:(t=Number(e.substring(t,o)),isNaN(t)?bi:(o+=1)+t>e.length?fi:(e=e.substr(o,t),i.C=o+t,e))}function ks(i){i.V=Date.now()+i.O,vo(i,i.O)}function vo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=X(Nt(i.fb,i),e)}function no(i){i.B&&(Re.clearTimeout(i.B),i.B=null)}function _o(i){0==i.l.G||i.I||li(i.l,i)}function cs(i){no(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,gr(i.T),xi(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function ds(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Er(t.h,i)))if(!i.J&&Er(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;Mi(t),K(t)}Yr(t),oe(18)}}else t.Ba=l[1],0<t.Ba-t.T&&37500>l[2]&&t.L&&0==t.A&&!t.v&&(t.v=X(Nt(t.bb,t),6e3));if(1>=Wt(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Ss(t,11)}else if((i.J||t.g==i)&&Mi(t),!or(e))for(l=t.Fa.g.parse(e),e=0;e<l.length;e++){let Q=l[e];if(t.T=Q[0],Q=Q[1],2==t.G)if("c"==Q[0]){t.I=Q[1],t.ka=Q[2];const Ae=Q[3];null!=Ae&&(t.ma=Ae,t.j.info("VER="+t.ma));const Ze=Q[4];null!=Ze&&(t.Ca=Ze,t.j.info("SVER="+t.Ca));const xt=Q[5];null!=xt&&"number"==typeof xt&&0<xt&&(t.J=o=1.5*xt,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Yt=i.g;if(Yt){const Jt=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jt){var h=o.h;h.g||-1==Jt.indexOf("spdy")&&-1==Jt.indexOf("quic")&&-1==Jt.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(Eo(h,h.h),h.h=null))}if(o.D){const Pn=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;Pn&&(o.za=Pn,Vr(o.F,o.D,Pn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var g=i;if((o=t).sa=z(o,o.H?o.ka:null,o.V),g.J){is(o.h,g);var x=g,H=o.J;H&&x.setTimeout(H),x.B&&(no(x),ks(x)),o.g=g}else Wr(o);0<t.i.length&&le(t)}else"stop"!=Q[0]&&"close"!=Q[0]||Ss(t,7);else 3==t.G&&("stop"==Q[0]||"close"==Q[0]?"stop"==Q[0]?Ss(t,7):T(t):"noop"!=Q[0]&&t.l&&t.l.wa(Q),t.A=0)}ls(4)}catch{}}function Ps(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ct(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function hs(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ct(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function ys(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ct(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),l=o.length,h=0;h<l;h++)e.call(void 0,o[h],t&&t[h],i)}(ye=bt.prototype).setTimeout=function(i){this.O=i},ye.hb=function(i){i=i.target;const e=this.L;e&&3==xs(i)?e.l():this.Ka(i)},ye.Ka=function(i){try{if(i==this.g)e:{const Ae=xs(this.g);var e=this.g.Ea();const Ze=this.g.aa();if(!(3>Ae)&&(3!=Ae||cr||this.g&&(this.h.h||this.g.fa()||ea(this.g)))){this.I||4!=Ae||7==e||ls(8==e||0>=Ze?3:2),no(this);var t=this.g.aa();this.Y=t;t:if(Gi(this)){var o=ea(this.g);i="";var l=o.length,h=4==xs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){cs(this),_o(this);var g="";break t}this.h.i=new Re.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:h&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,g=this.h.g}else g=this.g.fa();if(this.i=200==t,function ti(i,e,t,o,l,h,g){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+h+" "+g})}(this.j,this.u,this.A,this.m,this.U,Ae,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var x,H=this.g;if((x=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!or(x)){var Q=x;break t}}Q=null}if(!(t=Q)){this.i=!1,this.o=3,oe(12),cs(this),_o(this);break e}oi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ds(this,t)}this.P?(As(this,Ae,g),cr&&this.i&&3==Ae&&(Ar(this.S,this.T,"tick",this.gb),this.T.start())):(oi(this.j,this.m,g,null),ds(this,g)),4==Ae&&cs(this),this.i&&!this.I&&(4==Ae?li(this.l,this):(this.i=!1,ks(this)))}else 400==t&&0<g.indexOf("Unknown SID")?(this.o=3,oe(12)):(this.o=0,oe(13)),cs(this),_o(this)}}}catch{}},ye.gb=function(){if(this.g){var i=xs(this.g),e=this.g.fa();this.C<e.length&&(no(this),As(this,i,e),this.i&&4!=i&&ks(this))}},ye.cancel=function(){this.I=!0,cs(this)},ye.fb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function Ki(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ls(3),oe(17)),cs(this),this.o=2,_o(this)):vo(this,this.V-i)};var ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vs(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof vs){this.h=void 0!==e?e:i.h,ni(this,i.j),this.s=i.s,this.g=i.g,Ks(this,i.m),this.l=i.l,e=i.i;var t=new wi;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),da(this,t),this.o=i.o}else i&&(t=String(i).match(ro))?(this.h=!!e,ni(this,t[1]||"",!0),this.s=Ns(t[2]||""),this.g=Ns(t[3]||"",!0),Ks(this,t[4]),this.l=Ns(t[5]||"",!0),da(this,t[6]||"",!0),this.o=Ns(t[7]||"")):(this.h=!!e,this.i=new wi(null,this.h))}function Ws(i){return new vs(i)}function ni(i,e,t){i.j=t?Ns(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Ks(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function da(i,e,t){e instanceof wi?(i.i=e,function bo(i,e){e&&!i.j&&(Gr(i),i.i=null,i.g.forEach(function(t,o){var l=o.toLowerCase();o!=l&&(tr(this,o),Go(this,l,t))},i)),i.j=e}(i.i,i.h)):(t||(e=ns(e,qi)),i.i=new wi(e,i.h))}function Vr(i,e,t){i.i.set(e,t)}function $i(i){return Vr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ns(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ns(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,qs),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function qs(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}vs.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ns(e,Fr,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ns(e,Fr,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(ns(t,"/"==t.charAt(0)?Ls:jo,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",ns(t,fs)),i.join("")};var Fr=/[#\/\?@]/g,jo=/[#\?:]/g,Ls=/[#\?]/g,qi=/[#\?@]/g,fs=/#/g;function wi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Gr(i){i.g||(i.g=new Map,i.h=0,i.i&&function Hi(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),l=null;if(0<=o){var h=i[t].substring(0,o);l=i[t].substring(o+1)}else h=i[t];e(h,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function tr(i,e){Gr(i),e=Vs(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function uo(i,e){return Gr(i),e=Vs(i,e),i.g.has(e)}function Go(i,e,t){tr(i,e),0<t.length&&(i.i=null,i.g.set(Vs(i,e),wn(t)),i.h+=t.length)}function Vs(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function rs(i){this.l=i||Oo,i=Re.PerformanceNavigationTiming?0<(i=Re.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Re.g&&Re.g.Ga&&Re.g.Ga()&&Re.g.Ga().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ye=wi.prototype).add=function(i,e){Gr(this),this.i=null,i=Vs(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ye.forEach=function(i,e){Gr(this),this.g.forEach(function(t,o){t.forEach(function(l){i.call(e,l,o,this)},this)},this)},ye.oa=function(){Gr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const l=i[o];for(let h=0;h<l.length;h++)t.push(e[o])}return t},ye.W=function(i){Gr(this);let e=[];if("string"==typeof i)uo(this,i)&&(e=e.concat(this.g.get(Vs(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},ye.set=function(i,e){return Gr(this),this.i=null,uo(this,i=Vs(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ye.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const h=encodeURIComponent(String(o)),g=this.W(o);for(o=0;o<g.length;o++){var l=h;""!==g[o]&&(l+="="+encodeURIComponent(String(g[o]))),i.push(l)}}return this.i=i.join("&")};var Oo=10;function ko(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Wt(i){return i.h?1:i.g?i.g.size:0}function Er(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Eo(i,e){i.g?i.g.add(e):i.h=e}function is(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ai(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return wn(i.i)}function U(){}function L(){this.g=new U}function R(i,e,t){const o=t||"";try{Ps(i,function(l,h){let g=l;dt(l)&&(g=Lt(l)),e.push(o+h+"="+encodeURIComponent(g))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function Mt(i,e,t,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch{}}function Tn(i){this.l=i.$b||null,this.j=i.ib||!1}function pi(i,e){ne.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=ss,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rs.prototype.cancel=function(){if(this.i=ai(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},U.prototype.stringify=function(i){return Re.JSON.stringify(i,void 0)},U.prototype.parse=function(i){return Re.JSON.parse(i,void 0)},pn(Tn,ht),Tn.prototype.g=function(){return new pi(this.l,this.j)},Tn.prototype.i=function(i){return function(){return i}}({}),pn(pi,ne);var ss=0;function Fs(i){i.j.read().then(i.Sa.bind(i)).catch(i.ga.bind(i))}function ri(i){i.readyState=4,i.l=null,i.j=null,i.A=null,_s(i)}function _s(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ye=pi.prototype).open=function(i,e){if(this.readyState!=ss)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,_s(this)},ye.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Re).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ri(this)),this.readyState=ss},ye.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof Re.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fs(this)}else i.text().then(this.Ua.bind(this),this.ga.bind(this))},ye.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?ri(this):_s(this),3==this.readyState&&Fs(this)}},ye.Ua=function(i){this.g&&(this.response=this.responseText=i,ri(this))},ye.Ta=function(i){this.g&&(this.response=i,ri(this))},ye.ga=function(){this.g&&ri(this)},ye.setRequestHeader=function(i,e){this.v.append(i,e)},ye.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ye.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ma=Re.JSON.parse;function Ei(i){ne.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=io,this.K=this.L=!1}pn(Ei,ne);var io="",Xa=/^https?$/i,$o=["POST","PUT"];function zo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Jo(i),Po(i)}function Jo(i){i.D||(i.D=!0,Ve(i,"complete"),Ve(i,"error"))}function co(i){if(i.h&&typeof pt<"u"&&(!i.C[1]||4!=xs(i)||2!=i.aa()))if(i.v&&4==xs(i))vi(i.Ha,0,i);else if(Ve(i,"readystatechange"),4==xs(i)){i.h=!1;try{const x=i.aa();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===x){var l=String(i.H).match(ro)[1]||null;if(!l&&Re.self&&Re.self.location){var h=Re.self.location.protocol;l=h.substr(0,h.length-1)}o=!Xa.test(l?l.toLowerCase():"")}t=o}if(t)Ve(i,"complete"),Ve(i,"success");else{i.m=6;try{var g=2<xs(i)?i.g.statusText:""}catch{g=""}i.j=g+" ["+i.aa()+"]",Jo(i)}}finally{Po(i)}}}function Po(i,e){if(i.g){wo(i);const t=i.g,o=i.C[0]?Ye:null;i.g=null,i.C=null,e||Ve(i,"ready");try{t.onreadystatechange=o}catch{}}}function wo(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Re.clearTimeout(i.A),i.A=null)}function xs(i){return i.g?i.g.readyState:0}function ea(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case io:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function ta(i){let e="";return $(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function na(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=ta(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Vr(i,e,t))}function Co(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function ho(i){this.Ca=0,this.i=[],this.j=new _r,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Co("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Co("baseRetryDelayMs",5e3,i),this.ab=Co("retryDelaySeedMs",1e4,i),this.Za=Co("forwardChannelMaxRetries",2,i),this.ta=Co("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Yb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new rs(i&&i.concurrentRequestLimit),this.Fa=new L,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=i&&i.Wb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function T(i){if(P(i),3==i.G){var e=i.U++,t=Ws(i.F);Vr(t,"SID",i.I),Vr(t,"RID",e),Vr(t,"TYPE","terminate"),Vt(i,t),(e=new bt(i,i.j,e,void 0)).K=2,e.v=$i(Ws(t)),t=!1,Re.navigator&&Re.navigator.sendBeacon&&(t=Re.navigator.sendBeacon(e.v.toString(),"")),!t&&Re.Image&&((new Image).src=e.v,t=!0),t||(e.g=y(e.l,null),e.g.da(e.v)),e.F=Date.now(),ks(e)}Zs(i)}function K(i){i.g&&(Kr(i),i.g.cancel(),i.g=null)}function P(i){K(i),i.u&&(Re.clearTimeout(i.u),i.u=null),Mi(i),i.h.cancel(),i.m&&("number"==typeof i.m&&Re.clearTimeout(i.m),i.m=null)}function le(i){ko(i.h)||i.m||(i.m=!0,Xr(i.Ja,i),i.C=0)}function Dt(i,e){var t;t=e?e.m:i.U++;const o=Ws(i.F);Vr(o,"SID",i.I),Vr(o,"RID",t),Vr(o,"AID",i.T),Vt(i,o),i.o&&i.s&&na(o,i.o,i.s),t=new bt(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=Vn(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),Eo(i.h,t),us(t,o,e)}function Vt(i,e){i.ia&&$(i.ia,function(t,o){Vr(e,o,t)}),i.l&&Ps({},function(t,o){Vr(e,o,t)})}function Vn(i,e,t){t=Math.min(i.i.length,t);var o=i.l?Nt(i.l.Qa,i.l,i):null;e:{var l=i.i;let h=-1;for(;;){const g=["count="+t];-1==h?0<t?(h=l[0].h,g.push("ofs="+h)):h=0:g.push("ofs="+h);let x=!0;for(let H=0;H<t;H++){let Q=l[H].h;const Ae=l[H].g;if(Q-=h,0>Q)h=Math.max(0,l[H].h-100),x=!1;else try{R(Ae,g,"req"+Q+"_")}catch{o&&o(Ae)}}if(x){o=g.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function Wr(i){i.g||i.u||(i.Z=1,Xr(i.Ia,i),i.A=0)}function Yr(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=X(Nt(i.Ia,i),Fi(i,i.A)),i.A++,0))}function Kr(i){null!=i.B&&(Re.clearTimeout(i.B),i.B=null)}function Br(i){i.g=new bt(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Ws(i.sa);Vr(e,"RID","rpc"),Vr(e,"SID",i.I),Vr(e,"CI",i.L?"0":"1"),Vr(e,"AID",i.T),Vr(e,"TYPE","xmlhttp"),Vt(i,e),i.o&&i.s&&na(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=$i(Ws(e)),t.s=null,t.P=!0,ts(t,i)}function Mi(i){null!=i.v&&(Re.clearTimeout(i.v),i.v=null)}function li(i,e){var t=null;if(i.g==e){Mi(i),Kr(i),i.g=null;var o=2}else{if(!Er(i.h,e))return;t=e.D,is(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;Ve(o=Is(),new Ee(o,t,e,l)),le(i)}else Wr(i);else if(3==(l=e.o)||0==l&&0<i.pa||!(1==o&&function Ke(i,e){return!(Wt(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Ya?0:i.Za)||(i.m=X(Nt(i.Ja,i,e),Fi(i,i.C)),i.C++,0)))}(i,e)||2==o&&Yr(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),l){case 1:Ss(i,5);break;case 4:Ss(i,10);break;case 3:Ss(i,6);break;default:Ss(i,2)}}function Fi(i,e){let t=i.Wa+Math.floor(Math.random()*i.ab);return i.l||(t*=2),t*e}function Ss(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=Nt(i.jb,i);t||(t=new vs("//www.google.com/images/cleardot.gif"),Re.location&&"http"==Re.location.protocol||ni(t,"https"),$i(t)),function pe(i,e){const t=new _r;if(Re.Image){const o=new Image;o.onload=Rn(Mt,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Rn(Mt,t,o,"TestLoadImage: error",!1,e),o.onabort=Rn(Mt,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Rn(Mt,t,o,"TestLoadImage: timeout",!1,e),Re.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else oe(2);i.G=0,i.l&&i.l.va(e),Zs(i),P(i)}function Zs(i){if(i.G=0,i.la=[],i.l){const e=ai(i.h);(0!=e.length||0!=i.i.length)&&(xr(i.la,e),xr(i.la,i.i),i.h.i.length=0,wn(i.i),i.i.length=0),i.l.ua()}}function z(i,e,t){var o=t instanceof vs?Ws(t):new vs(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),Ks(o,o.m);else{var l=Re.location;o=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var h=new vs(null,void 0);o&&ni(h,o),e&&(h.g=e),l&&Ks(h,l),t&&(h.l=t),o=h}return e=i.za,(t=i.D)&&e&&Vr(o,t,e),Vr(o,"VER",i.ma),Vt(i,o),o}function y(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ei(t&&i.Da&&!i.ra?new Tn({ib:!0}):i.ra)).L=i.H,e}function b(){}function F(){if(Xn&&!(10<=Number(qe)))throw Error("Environmental error: no available transport.")}function J(i,e){ne.call(this),this.g=new ho(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Xb)&&!or(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!or(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new et(this)}function Se(i){Sr.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function We(){te.call(this),this.status=1}function et(i){this.g=i}(ye=Ei.prototype).da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lt.g(),this.C=function Ut(i){return i.h||(i.h=i.i())}(this.u?this.u:lt),this.g.onreadystatechange=Nt(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(h){return void zo(this,h)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var l in o)t.set(l,o[l]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const h of o.keys())t.set(h,o.get(h))}o=Array.from(t.keys()).find(h=>"content-type"==h.toLowerCase()),l=Re.FormData&&i instanceof Re.FormData,!(0<=Nn($o,e))||o||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[h,g]of t)this.g.setRequestHeader(h,g);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wo(this),0<this.B&&((this.K=function ya(i){return Xn&&function Ln(){return function $t(i){var e=hn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=$n(String(Pt)).split("."),t=$n("9").split("."),o=Math.max(e.length,t.length);for(let g=0;0==i&&g<o;g++){var l=e[g]||"",h=t[g]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==l[0].length&&0==h[0].length)break;i=Zn(0==l[1].length?0:parseInt(l[1],10),0==h[1].length?0:parseInt(h[1],10))||Zn(0==l[2].length,0==h[2].length)||Zn(l[2],h[2]),l=l[3],h=h[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nt(this.qa,this)):this.A=vi(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(h){zo(this,h)}},ye.qa=function(){typeof pt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ve(this,"timeout"),this.abort(8))},ye.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Ve(this,"complete"),Ve(this,"abort"),Po(this))},ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Po(this,!0)),Ei.X.M.call(this)},ye.Ha=function(){this.s||(this.F||this.v||this.l?co(this):this.eb())},ye.eb=function(){co(this)},ye.aa=function(){try{return 2<xs(this)?this.g.status:-1}catch{return-1}},ye.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ye.Ra=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),ma(e)}},ye.Ea=function(){return this.m},ye.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(ye=ho.prototype).ma=8,ye.G=1,ye.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const l=new bt(this,this.j,i,void 0);let h=this.s;if(this.S&&(h?(h=fe(h),Ge(h,this.S)):h=this.S),null!==this.o||this.N||(l.H=h,h=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Vn(this,l,e),Vr(t=Ws(this.F),"RID",i),Vr(t,"CVER",22),this.D&&Vr(t,"X-HTTP-Session-Id",this.D),Vt(this,t),h&&(this.N?e="headers="+encodeURIComponent(String(ta(h)))+"&"+e:this.o&&na(t,this.o,h)),Eo(this.h,l),this.Xa&&Vr(t,"TYPE","init"),this.O?(Vr(t,"$req",e),Vr(t,"SID","null"),l.Z=!0,us(l,t,null)):us(l,t,e),this.G=2}}else 3==this.G&&(i?Dt(this,i):0==this.i.length||ko(this.h)||Dt(this))},ye.Ia=function(){if(this.u=null,Br(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=X(Nt(this.cb,this),i)}},ye.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,oe(10),K(this),Br(this))},ye.bb=function(){null!=this.v&&(this.v=null,K(this),Yr(this),oe(19))},ye.jb=function(i){i?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))},(ye=b.prototype).xa=function(){},ye.wa=function(){},ye.va=function(){},ye.ua=function(){},ye.Qa=function(){},F.prototype.g=function(i,e){return new J(i,e)},pn(J,ne),J.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;oe(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=z(i,null,i.V),le(i)},J.prototype.close=function(){T(this.g)},J.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Lt(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.$a++,i)),3==e.G&&le(e)},J.prototype.M=function(){this.g.l=null,delete this.j,T(this.g),delete this.g,J.X.M.call(this)},pn(Se,Sr),pn(We,te),pn(et,b),et.prototype.xa=function(){Ve(this.g,"a")},et.prototype.wa=function(i){Ve(this.g,new Se(i))},et.prototype.va=function(i){Ve(this.g,new We(i))},et.prototype.ua=function(){Ve(this.g,"b")},F.prototype.createWebChannel=F.prototype.g,J.prototype.send=J.prototype.u,J.prototype.open=J.prototype.m,J.prototype.close=J.prototype.close,me.NO_ERROR=0,me.TIMEOUT=8,me.HTTP_ERROR=6,Le.COMPLETE="complete",un.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",ne.prototype.listen=ne.prototype.N,Ei.prototype.listenOnce=Ei.prototype.O,Ei.prototype.getLastError=Ei.prototype.Na,Ei.prototype.getLastErrorCode=Ei.prototype.Ea,Ei.prototype.getStatus=Ei.prototype.aa,Ei.prototype.getResponseJson=Ei.prototype.Ra,Ei.prototype.getResponseText=Ei.prototype.fa,Ei.prototype.send=Ei.prototype.da;var It=Et.createWebChannelTransport=function(){return new F},qt=Et.getStatEventTarget=function(){return Is()},kn=Et.ErrorCode=me,jn=Et.EventType=Le,Or=Et.Event=es,wr=Et.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},lr=Et.FetchXmlHttpFactory=Tn,dr=Et.WebChannel=un,ii=Et.XhrIo=Ei;const ui="@firebase/firestore";class ur{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ur.UNAUTHENTICATED=new ur(null),ur.GOOGLE_CREDENTIALS=new ur("google-credentials-uid"),ur.FIRST_PARTY=new ur("first-party-uid"),ur.MOCK_USER=new ur("mock-user");let Ni="9.10.0";const Ci=new we.Yd("@firebase/firestore");function bs(){return Ci.logLevel}function rn(i,...e){if(Ci.logLevel<=we.in.DEBUG){const t=e.map(ci);Ci.debug(`Firestore (${Ni}): ${i}`,...t)}}function Zr(i,...e){if(Ci.logLevel<=we.in.ERROR){const t=e.map(ci);Ci.error(`Firestore (${Ni}): ${i}`,...t)}}function zi(i,...e){if(Ci.logLevel<=we.in.WARN){const t=e.map(ci);Ci.warn(`Firestore (${Ni}): ${i}`,...t)}}function ci(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function In(i="Unexpected state"){const e=`FIRESTORE (${Ni}) INTERNAL ASSERTION FAILED: `+i;throw Zr(e),new Error(e)}function Yn(i,e){i||In()}function Cn(i,e){return i}const kt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wt extends Ie.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class On{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class fr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ur.UNAUTHENTICATED))}shutdown(){}}class Yi{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ps{constructor(e){this.t=e,this.currentUser=ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let l=this.i;const h=Q=>this.i!==l?(l=this.i,t(Q)):Promise.resolve();let g=new On;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new On,e.enqueueRetryable(()=>h(this.currentUser))};const x=()=>{const Q=g;e.enqueueRetryable((0,Fe.Z)(function*(){yield Q.promise,yield h(o.currentUser)}))},H=Q=>{rn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),x()};this.t.onInit(Q=>H(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?H(Q):(rn("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new On)}},0),x()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(rn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Yn("string"==typeof o.accessToken),new fr(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Yn(null===e||"string"==typeof e),new ur(e)}}class Qr{constructor(e,t,o,l){this.h=e,this.l=t,this.m=o,this.g=l,this.type="FirstParty",this.user=ur.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Yn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Do{constructor(e,t,o,l){this.h=e,this.l=t,this.m=o,this.g=l}getToken(){return Promise.resolve(new Qr(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class di{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class so{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=h=>{null!=h.error&&rn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const g=h.token!==this.A;return this.A=h.token,rn("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?t(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>o(h))};const l=h=>{rn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.T.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.T.getImmediate({optional:!0});h?l(h):rn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Yn("string"==typeof t.token),this.A=t.token,new di(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function os(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class Xs{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=os(40);for(let h=0;h<l.length;++h)o.length<20&&l[h]<t&&(o+=e.charAt(l[h]%e.length))}return o}}function Wn(i,e){return i<e?-1:i>e?1:0}function Fo(i,e,t){return i.length===e.length&&i.every((o,l)=>t(o,e[l]))}function Ia(i){return i+"\0"}class Ri{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new wt(kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new wt(kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new wt(kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wt(kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ri.fromMillis(Date.now())}static fromDate(e){return Ri.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Ri(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wn(this.nanoseconds,e.nanoseconds):Wn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Jn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Jn(e)}static min(){return new Jn(new Ri(0,0))}static max(){return new Jn(new Ri(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ra{constructor(e,t,o){void 0===t?t=0:t>e.length&&In(),void 0===o?o=e.length-t:o>e.length-t&&In(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===ra.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ra?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let l=0;l<o;l++){const h=e.get(l),g=t.get(l);if(h<g)return-1;if(h>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class jr extends ra{construct(e,t,o){return new jr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new wt(kt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(l=>l.length>0))}return new jr(t)}static emptyPath(){return new jr([])}}const fo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gi extends ra{construct(e,t,o){return new gi(e,t,o)}static isValidIdentifier(e){return fo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gi(["__name__"])}static fromServerFormat(e){const t=[];let o="",l=0;const h=()=>{if(0===o.length)throw new wt(kt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let g=!1;for(;l<e.length;){const x=e[l];if("\\"===x){if(l+1===e.length)throw new wt(kt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const H=e[l+1];if("\\"!==H&&"."!==H&&"`"!==H)throw new wt(kt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=H,l+=2}else"`"===x?(g=!g,l++):"."!==x||g?(o+=x,l++):(h(),l++)}if(h(),g)throw new wt(kt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gi(t)}static emptyPath(){return new gi([])}}class yn{constructor(e){this.path=e}static fromPath(e){return new yn(jr.fromString(e))}static fromName(e){return new yn(jr.fromString(e).popFirst(5))}static empty(){return new yn(jr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===jr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return jr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yn(new jr(e.slice()))}}class No{constructor(e,t,o,l){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=l}}function Aa(i){return i.fields.find(e=>2===e.kind)}function oo(i){return i.fields.filter(e=>2!==e.kind)}No.UNKNOWN_ID=-1;class Lo{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ja{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ja(0,Io.min())}}function vu(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=Jn.fromTimestamp(1e9===o?new Ri(t+1,0):new Ri(t,o));return new Io(l,yn.empty(),e)}function El(i){return new Io(i.readTime,i.key,-1)}class Io{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Io(Jn.min(),yn.empty(),-1)}static max(){return new Io(Jn.max(),yn.empty(),-1)}}function _u(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=yn.comparator(i.documentKey,e.documentKey),0!==t?t:Wn(i.largestBatchId,e.largestBatchId))}const xa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ao(i){return $l.apply(this,arguments)}function $l(){return $l=(0,Fe.Z)(function*(i){if(i.code!==kt.FAILED_PRECONDITION||i.message!==xa)throw i;rn("LocalStore","Unexpectedly lost primary lease")}),$l.apply(this,arguments)}class Ot{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&In(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ot((o,l)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(o,l)},this.catchCallback=h=>{this.wrapFailure(t,h).next(o,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ot?t:Ot.resolve(t)}catch(t){return Ot.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ot.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ot.reject(t)}static resolve(e){return new Ot((t,o)=>{t(e)})}static reject(e){return new Ot((t,o)=>{o(e)})}static waitFor(e){return new Ot((t,o)=>{let l=0,h=0,g=!1;e.forEach(x=>{++l,x.next(()=>{++h,g&&h===l&&t()},H=>o(H))}),g=!0,h===l&&t()})}static or(e){let t=Ot.resolve(!1);for(const o of e)t=t.next(l=>l?Ot.resolve(l):o());return t}static forEach(e,t){const o=[];return e.forEach((l,h)=>{o.push(t.call(this,l,h))}),this.waitFor(o)}static mapArray(e,t){return new Ot((o,l)=>{const h=e.length,g=new Array(h);let x=0;for(let H=0;H<h;H++){const Q=H;t(e[Q]).next(Ae=>{g[Q]=Ae,++x,x===h&&o(g)},Ae=>l(Ae))}})}static doWhile(e,t){return new Ot((o,l)=>{const h=()=>{!0===e()?t().next(()=>{h()},l):o()};h()})}}class as{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new On,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Ga(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const l=_a(o.target.error);this.P.reject(new Ga(e,l))}}static open(e,t,o,l){try{return new as(t,e.transaction(l,o))}catch(h){throw new Ga(t,h)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(rn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new go(t)}}class po{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===po.D((0,Ie.z$)())&&Zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return rn("SimpleDb","Removing database:",e),Ts(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Ie.hl)())return!1;if(po.N())return!0;const e=(0,Ie.z$)(),t=po.D(e),o=0<t&&t<10,l=po.k(e),h=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||h)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,Fe.Z)(function*(){return t.db||(rn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,l)=>{const h=indexedDB.open(t.name,t.version);h.onsuccess=g=>{o(g.target.result)},h.onblocked=()=>{l(new Ga(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=g=>{const x=g.target.error;l("VersionError"===x.name?new wt(kt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new wt(kt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new Ga(e,x))},h.onupgradeneeded=g=>{rn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',g.oldVersion),t.S.$(g.target.result,h.transaction,g.oldVersion,t.version).next(()=>{rn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,l){var h=this;return(0,Fe.Z)(function*(){const g="readonly"===t;let x=0;for(;;){++x;try{h.db=yield h.F(e);const H=as.open(h.db,e,g?"readonly":"readwrite",o),Q=l(H).next(Ae=>(H.V(),Ae)).catch(Ae=>(H.abort(Ae),Ot.reject(Ae))).toPromise();return Q.catch(()=>{}),yield H.v,Q}catch(H){const Q=H,Ae="FirebaseError"!==Q.name&&x<3;if(rn("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",Ae),h.close(),!Ae)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Sa{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Ts(this.U.delete())}}class Ga extends wt{constructor(e,t){super(kt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Vo(i){return"IndexedDbTransactionError"===i.name}class go{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(rn("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(rn("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Ts(o)}add(e){return rn("SimpleDb","ADD",this.store.name,e,e),Ts(this.store.add(e))}get(e){return Ts(this.store.get(e)).next(t=>(void 0===t&&(t=null),rn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return rn("SimpleDb","DELETE",this.store.name,e),Ts(this.store.delete(e))}count(){return rn("SimpleDb","COUNT",this.store.name),Ts(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),h=[];return this.H(l,(g,x)=>{h.push(x)}).next(()=>h)}{const l=this.store.getAll(o.range);return new Ot((h,g)=>{l.onerror=x=>{g(x.target.error)},l.onsuccess=x=>{h(x.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new Ot((l,h)=>{o.onerror=g=>{h(g.target.error)},o.onsuccess=g=>{l(g.target.result)}})}Y(e,t){rn("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const l=this.cursor(o);return this.H(l,(h,g,x)=>x.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const l=this.cursor(o);return this.H(l,t)}tt(e){const t=this.cursor({});return new Ot((o,l)=>{t.onerror=h=>{const g=_a(h.target.error);l(g)},t.onsuccess=h=>{const g=h.target.result;g?e(g.primaryKey,g.value).next(x=>{x?g.continue():o()}):o()}})}H(e,t){const o=[];return new Ot((l,h)=>{e.onerror=g=>{h(g.target.error)},e.onsuccess=g=>{const x=g.target.result;if(!x)return void l();const H=new Sa(x),Q=t(x.primaryKey,x.value,H);if(Q instanceof Ot){const Ae=Q.catch(Ze=>(H.done(),Ot.reject(Ze)));o.push(Ae)}H.isDone?l():null===H.G?x.continue():x.continue(H.G)}}).next(()=>Ot.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ts(i){return new Ot((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=_a(o.target.error);t(l)}})}let wl=!1;function _a(i){const e=po.D((0,Ie.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new wt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wl||(wl=!0,setTimeout(()=>{throw o},0)),o}}return i}class w{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;rn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Fe.Z)(function*(){t.task=null;try{rn("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){Vo(o)?rn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Ao(o)}yield t.nt(6e4)}))}}class D{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Fe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let l=t,h=!0;return Ot.doWhile(()=>!0===h&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!o.has(g))return rn("IndexBackiller",`Processing collection: ${g}`),this.rt(e,g,l).next(x=>{l-=x,o.add(g)});h=!1})).next(()=>t-l)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(l=>this.localStore.localDocuments.getNextDocuments(e,t,l,o).next(h=>{const g=h.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.ot(l,h)).next(x=>(rn("IndexBackiller",`Updating offset: ${x}`),this.localStore.indexManager.updateCollectionGroup(e,t,x))).next(()=>g.size)}))}ot(e,t){let o=e;return t.changes.forEach((l,h)=>{const g=El(h);_u(g,o)>0&&(o=g)}),new Io(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}class _{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>t.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function O(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function V(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function ae(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}_.at=-1;class Oe{constructor(e,t){this.comparator=e,this.root=t||St.EMPTY}insert(e,t){return new Oe(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return t+o.left.size;l<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $e(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $e(this.root,e,this.comparator,!1)}getReverseIterator(){return new $e(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $e(this.root,e,this.comparator,!0)}}class $e{constructor(e,t,o,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=t?o(e.key,t):1,t&&l&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,t,o,l,h){this.key=e,this.value=t,this.color=o??St.RED,this.left=l??St.EMPTY,this.right=h??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,l,h){return new St(e??this.key,t??this.value,o??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let l=this;const h=o(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,t,o),null):0===h?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return St.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw In();const e=this.left.check();if(e!==this.right.check())throw In();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1,St.EMPTY=new class{constructor(){this.size=0}get key(){throw In()}get value(){throw In()}get color(){throw In()}get left(){throw In()}get right(){throw In()}copy(i,e,t,o,l){return this}insert(i,e,t){return new St(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Tr(this.data.getIterator())}getIteratorFrom(e){return new Tr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=o.getNext().key;if(0!==this.comparator(l,h))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Xt(this.comparator);return t.data=e,t}}class Tr{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fn(i){return i.hasNext()?i.getNext():void 0}class Mr{constructor(e){this.fields=e,e.sort(gi.comparator)}static empty(){return new Mr([])}unionWith(e){let t=new Xt(gi.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Mr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class mi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new mi(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new mi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mi.EMPTY_BYTE_STRING=new mi("");const Ta=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(i){if(Yn(!!i),"string"==typeof i){let e=0;const t=Ta.exec(i);if(Yn(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Zi(i.seconds),nanos:Zi(i.nanos)}}function Zi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Js(i){return"string"==typeof i?mi.fromBase64String(i):mi.fromUint8Array(i)}function ha(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function el(i){const e=i.mapValue.fields.__previous_value__;return ha(e)?el(e):e}function xo(i){const e=Es(i.mapValue.fields.__local_write_time__.timestampValue);return new Ri(e.seconds,e.nanos)}class bu{constructor(e,t,o,l,h,g,x,H){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=l,this.ssl=h,this.forceLongPolling=g,this.autoDetectLongPolling=x,this.useFetchStreams=H}}class sa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sa&&e.projectId===this.projectId&&e.database===this.database}}function Bo(i){return null==i}function $a(i){return 0===i&&1/i==-1/0}function fa(i){return"number"==typeof i&&Number.isInteger(i)&&!$a(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Ma={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ba={nullValue:"NULL_VALUE"};function So(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ha(i)?4:Ur(i)?9007199254740991:10:In()}function oa(i,e){if(i===e)return!0;const t=So(i);if(t!==So(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return xo(i).isEqual(xo(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Es(o.timestampValue),g=Es(l.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,Js(i.bytesValue).isEqual(Js(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return Zi(o.geoPointValue.latitude)===Zi(l.geoPointValue.latitude)&&Zi(o.geoPointValue.longitude)===Zi(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Zi(o.integerValue)===Zi(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=Zi(o.doubleValue),g=Zi(l.doubleValue);return h===g?$a(h)===$a(g):isNaN(h)&&isNaN(g)}return!1}(i,e);case 9:return Fo(i.arrayValue.values||[],e.arrayValue.values||[],oa);case 10:return function(o,l){const h=o.mapValue.fields||{},g=l.mapValue.fields||{};if(O(h)!==O(g))return!1;for(const x in h)if(h.hasOwnProperty(x)&&(void 0===g[x]||!oa(h[x],g[x])))return!1;return!0}(i,e);default:return In()}var l}function Qi(i,e){return void 0!==(i.values||[]).find(t=>oa(t,e))}function Ra(i,e){if(i===e)return 0;const t=So(i),o=So(e);if(t!==o)return Wn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Wn(i.booleanValue,e.booleanValue);case 2:return function(l,h){const g=Zi(l.integerValue||l.doubleValue),x=Zi(h.integerValue||h.doubleValue);return g<x?-1:g>x?1:g===x?0:isNaN(g)?isNaN(x)?0:-1:1}(i,e);case 3:return k(i.timestampValue,e.timestampValue);case 4:return k(xo(i),xo(e));case 5:return Wn(i.stringValue,e.stringValue);case 6:return function(l,h){const g=Js(l),x=Js(h);return g.compareTo(x)}(i.bytesValue,e.bytesValue);case 7:return function(l,h){const g=l.split("/"),x=h.split("/");for(let H=0;H<g.length&&H<x.length;H++){const Q=Wn(g[H],x[H]);if(0!==Q)return Q}return Wn(g.length,x.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,h){const g=Wn(Zi(l.latitude),Zi(h.latitude));return 0!==g?g:Wn(Zi(l.longitude),Zi(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,h){const g=l.values||[],x=h.values||[];for(let H=0;H<g.length&&H<x.length;++H){const Q=Ra(g[H],x[H]);if(Q)return Q}return Wn(g.length,x.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,h){if(l===Ma.mapValue&&h===Ma.mapValue)return 0;if(l===Ma.mapValue)return 1;if(h===Ma.mapValue)return-1;const g=l.fields||{},x=Object.keys(g),H=h.fields||{},Q=Object.keys(H);x.sort(),Q.sort();for(let Ae=0;Ae<x.length&&Ae<Q.length;++Ae){const Ze=Wn(x[Ae],Q[Ae]);if(0!==Ze)return Ze;const xt=Ra(g[x[Ae]],H[Q[Ae]]);if(0!==xt)return xt}return Wn(x.length,Q.length)}(i.mapValue,e.mapValue);default:throw In()}}function k(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Wn(i,e);const t=Es(i),o=Es(e),l=Wn(t.seconds,o.seconds);return 0!==l?l:Wn(t.nanos,o.nanos)}function B(i){return se(i)}function se(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=Es(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Js(i.bytesValue).toBase64():"referenceValue"in i?yn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",h=!0;for(const g of o.values||[])h?h=!1:l+=",",l+=se(g);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let h="{",g=!0;for(const x of l)g?g=!1:h+=",",h+=`${x}:${se(o.fields[x])}`;return h+"}"}(i.mapValue):In();var e}function He(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function vt(i){return!!i&&"integerValue"in i}function Ft(i){return!!i&&"arrayValue"in i}function on(i){return!!i&&"nullValue"in i}function Mn(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function sr(i){return!!i&&"mapValue"in i}function mr(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return V(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=mr(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mr(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Ur(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function yr(i){return"nullValue"in i?ba:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?He(sa.empty(),yn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:In()}function gs(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?He(sa.empty(),yn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ma:In()}function eo(i,e){const t=Ra(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function za(i,e){const t=Ra(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class ms{constructor(e){this.value=e}static empty(){return new ms({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!sr(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mr(t)}setAll(e){let t=gi.emptyPath(),o={},l=[];e.forEach((g,x)=>{if(!t.isImmediateParentOf(x)){const H=this.getFieldsMap(t);this.applyChanges(H,o,l),o={},l=[],t=x.popLast()}g?o[x.lastSegment()]=mr(g):l.push(x.lastSegment())});const h=this.getFieldsMap(t);this.applyChanges(h,o,l)}delete(e){const t=this.field(e.popLast());sr(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=t.mapValue.fields[e.get(o)];sr(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,o){V(t,(l,h)=>e[l]=h);for(const l of o)delete e[l]}clone(){return new ms(mr(this.value))}}function Oa(i){const e=[];return V(i.fields,(t,o)=>{const l=new gi([t]);if(sr(o)){const h=Oa(o.mapValue).fields;if(0===h.length)e.push(l);else for(const g of h)e.push(l.child(g))}else e.push(l)}),new Mr(e)}class Di{constructor(e,t,o,l,h,g){this.key=e,this.documentType=t,this.version=o,this.readTime=l,this.data=h,this.documentState=g}static newInvalidDocument(e){return new Di(e,0,Jn.min(),Jn.min(),ms.empty(),0)}static newFoundDocument(e,t,o){return new Di(e,1,t,Jn.min(),o,0)}static newNoDocument(e,t){return new Di(e,2,t,Jn.min(),ms.empty(),0)}static newUnknownDocument(e,t){return new Di(e,3,t,Jn.min(),ms.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ms.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ms.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Di&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Di(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ka{constructor(e,t=null,o=[],l=[],h=null,g=null,x=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=l,this.limit=h,this.startAt=g,this.endAt=x,this.ht=null}}function Pa(i,e=null,t=[],o=[],l=null,h=null,g=null){return new ka(i,e,t,o,l,h,g)}function Wo(i){const e=Cn(i);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(l=o).field.canonicalString()+l.op.toString()+B(l.value);var l}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),Bo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>B(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>B(o)).join(",")),e.ht=t}return e.ht}function tl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!nd(i.orderBy[l],e.orderBy[l]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((t=i.filters[l]).op!==(o=e.filters[l]).op||!t.field.isEqual(o.field)||!oa(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!uh(i.startAt,e.startAt)&&uh(i.endAt,e.endAt)}function Eu(i){return yn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Zu(i,e){return i.filters.filter(t=>t instanceof Hs&&t.field.isEqual(e))}function oh(i,e,t){let o=ba,l=!0;for(const h of Zu(i,e)){let g=ba,x=!0;switch(h.op){case"<":case"<=":g=yr(h.value);break;case"==":case"in":case">=":g=h.value;break;case">":g=h.value,x=!1;break;case"!=":case"not-in":g=ba}eo({value:o,inclusive:l},{value:g,inclusive:x})<0&&(o=g,l=x)}if(null!==t)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const g=t.position[h];eo({value:o,inclusive:l},{value:g,inclusive:t.inclusive})<0&&(o=g,l=t.inclusive);break}return{value:o,inclusive:l}}function ed(i,e,t){let o=Ma,l=!0;for(const h of Zu(i,e)){let g=Ma,x=!0;switch(h.op){case">=":case">":g=gs(h.value),x=!1;break;case"==":case"in":case"<=":g=h.value;break;case"<":g=h.value,x=!1;break;case"!=":case"not-in":g=Ma}za({value:o,inclusive:l},{value:g,inclusive:x})>0&&(o=g,l=x)}if(null!==t)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const g=t.position[h];za({value:o,inclusive:l},{value:g,inclusive:t.inclusive})>0&&(o=g,l=t.inclusive);break}return{value:o,inclusive:l}}class Hs extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,o):new wu(e,t,o):"array-contains"===t?new lh(e,o):"in"===t?new Dg(e,o):"not-in"===t?new td(e,o):"array-contains-any"===t?new Mf(e,o):new Hs(e,t,o)}static lt(e,t,o){return"in"===t?new Sf(e,o):new ah(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Ra(t,this.value)):null!==t&&So(this.value)===So(t)&&this.ft(Ra(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return In()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class wu extends Hs{constructor(e,t,o){super(e,t,o),this.key=yn.fromName(o.referenceValue)}matches(e){const t=yn.comparator(e.key,this.key);return this.ft(t)}}class Sf extends Hs{constructor(e,t){super(e,"in",t),this.keys=Tf(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ah extends Hs{constructor(e,t){super(e,"not-in",t),this.keys=Tf(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Tf(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>yn.fromName(o.referenceValue))}class lh extends Hs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ft(t)&&Qi(t.arrayValue,this.value)}}class Dg extends Hs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qi(this.value.arrayValue,t)}}class td extends Hs{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Qi(this.value.arrayValue,t)}}class Mf extends Hs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ft(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Qi(this.value.arrayValue,o))}}class Ka{constructor(e,t){this.position=e,this.inclusive=t}}class Ea{constructor(e,t="asc"){this.field=e,this.dir=t}}function nd(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Cl(i,e,t){let o=0;for(let l=0;l<i.position.length;l++){const h=e[l],g=i.position[l];if(o=h.field.isKeyField()?yn.comparator(yn.fromName(g.referenceValue),t.key):Ra(g,t.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return o}function uh(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!oa(i.position[t],e.position[t]))return!1;return!0}class qa{constructor(e,t=null,o=[],l=[],h=null,g="F",x=null,H=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=l,this.limit=h,this.limitType=g,this.startAt=x,this.endAt=H,this._t=null,this.wt=null}}function Rf(i,e,t,o,l,h,g,x){return new qa(i,e,t,o,l,h,g,x)}function Fa(i){return new qa(i)}function Qu(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Xu(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Ju(i){for(const e of i.filters)if(e.dt())return e.field;return null}function ec(i){return null!==i.collectionGroup}function Ko(i){const e=Cn(i);if(null===e._t){e._t=[];const t=Ju(e),o=Xu(e);if(null!==t&&null===o)t.isKeyField()||e._t.push(new Ea(t)),e._t.push(new Ea(gi.keyField(),"asc"));else{let l=!1;for(const h of e.explicitOrderBy)e._t.push(h),h.field.isKeyField()&&(l=!0);if(!l){const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Ea(gi.keyField(),h))}}}return e._t}function qo(i){const e=Cn(i);if(!e.wt)if("F"===e.limitType)e.wt=Pa(e.path,e.collectionGroup,Ko(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const h of Ko(e))t.push(new Ea(h.field,"desc"===h.dir?"asc":"desc"));const o=e.endAt?new Ka(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Ka(e.startAt.position,e.startAt.inclusive):null;e.wt=Pa(e.path,e.collectionGroup,t,e.filters,e.limit,o,l)}return e.wt}function zl(i,e,t){return new qa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Cu(i,e){return tl(qo(i),qo(e))&&i.limitType===e.limitType}function rd(i){return`${Wo(qo(i))}|lt:${i.limitType}`}function id(i){return`Query(target=${function Wa(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${B(o.value)}`;var o}).join(", ")}]`),Bo(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>B(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>B(t)).join(",")),`Target(${e})`}(qo(i))}; limitType=${i.limitType})`}function aa(i,e){return e.isFoundDocument()&&function(t,o){const l=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):yn.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,o){for(const l of t.explicitOrderBy)if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(t,o){for(const l of t.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(l,h,g){const x=Cl(l,h,g);return l.inclusive?x<=0:x<0}(t.startAt,Ko(t),o)||t.endAt&&!function(l,h,g){const x=Cl(l,h,g);return l.inclusive?x>=0:x>0}(t.endAt,Ko(t),o)));var t,o}function Dl(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function sd(i){return(e,t)=>{let o=!1;for(const l of Ko(i)){const h=ch(l,e,t);if(0!==h)return h;o=o||l.field.isKeyField()}return 0}}function ch(i,e,t){const o=i.field.isKeyField()?yn.comparator(e.key,t.key):function(l,h,g){const x=h.data.field(l),H=g.data.field(l);return null!==x&&null!==H?Ra(x,H):In()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return In()}}function dh(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$a(e)?"-0":e}}function hh(i){return{integerValue:""+i}}function fh(i,e){return fa(e)?hh(e):dh(i,e)}class od{constructor(){this._=void 0}}function nl(i,e,t){return i instanceof rl?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):i instanceof Il?Al(i,e):i instanceof Uo?Wl(i,e):function(o,l){const h=ph(o,l),g=ad(h)+ad(o.yt);return vt(h)&&vt(o.yt)?hh(g):dh(o.It,g)}(i,e)}function Of(i,e,t){return i instanceof Il?Al(i,e):i instanceof Uo?Wl(i,e):t}function ph(i,e){return i instanceof Ya?vt(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class rl extends od{}class Il extends od{constructor(e){super(),this.elements=e}}function Al(i,e){const t=ld(e);for(const o of i.elements)t.some(l=>oa(l,o))||t.push(o);return{arrayValue:{values:t}}}class Uo extends od{constructor(e){super(),this.elements=e}}function Wl(i,e){let t=ld(e);for(const o of i.elements)t=t.filter(l=>!oa(l,o));return{arrayValue:{values:t}}}class Ya extends od{constructor(e,t){super(),this.It=e,this.yt=t}}function ad(i){return Zi(i.integerValue||i.doubleValue)}function ld(i){return Ft(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Kl{constructor(e,t){this.field=e,this.transform=t}}class Ag{constructor(e,t){this.version=e,this.transformResults=t}}class Xi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xi}static exists(e){return new Xi(void 0,e)}static updateTime(e){return new Xi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ql(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class ud{}function gh(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Zl(i.key,Xi.none()):new il(i.key,i.data,Xi.none());{const t=i.data,o=ms.empty();let l=new Xt(gi.comparator);for(let h of e.fields)if(!l.has(h)){let g=t.field(h);null===g&&h.length>1&&(h=h.popLast(),g=t.field(h)),null===g?o.delete(h):o.set(h,g),l=l.add(h)}return new Na(i.key,o,new Mr(l.toArray()),Xi.none())}}function tc(i,e,t){i instanceof il?function(o,l,h){const g=o.value.clone(),x=Yl(o.fieldTransforms,l,h.transformResults);g.setAll(x),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,t):i instanceof Na?function(o,l,h){if(!ql(o.precondition,l))return void l.convertToUnknownDocument(h.version);const g=Yl(o.fieldTransforms,l,h.transformResults),x=l.data;x.setAll(Iu(o)),x.setAll(g),l.convertToFoundDocument(h.version,x).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Du(i,e,t,o){return i instanceof il?function(l,h,g,x){if(!ql(l.precondition,h))return g;const H=l.value.clone(),Q=rc(l.fieldTransforms,x,h);return H.setAll(Q),h.convertToFoundDocument(h.version,H).setHasLocalMutations(),null}(i,e,t,o):i instanceof Na?function(l,h,g,x){if(!ql(l.precondition,h))return g;const H=rc(l.fieldTransforms,x,h),Q=h.data;return Q.setAll(Iu(l)),Q.setAll(H),h.convertToFoundDocument(h.version,Q).setHasLocalMutations(),null===g?null:g.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(Ae=>Ae.field))}(i,e,t,o):(g=t,ql(i.precondition,h=e)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g);var h,g}function kf(i,e){let t=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),h=ph(o.transform,l||null);null!=h&&(null===t&&(t=ms.empty()),t.set(o.field,h))}return t||null}function nc(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Fo(t,o,(l,h)=>function Ig(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof Il&&o instanceof Il||t instanceof Uo&&o instanceof Uo?Fo(t.elements,o.elements,oa):t instanceof Ya&&o instanceof Ya?oa(t.yt,o.yt):t instanceof rl&&o instanceof rl);var t,o}(l,h))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class il extends ud{constructor(e,t,o,l=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Na extends ud{constructor(e,t,o,l,h=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Iu(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Yl(i,e,t){const o=new Map;Yn(i.length===t.length);for(let l=0;l<t.length;l++){const h=i[l],g=h.transform,x=e.data.field(h.field);o.set(h.field,Of(g,x,t[l]))}return o}function rc(i,e,t){const o=new Map;for(const l of i){const h=l.transform,g=t.data.field(l.field);o.set(l.field,nl(h,g,e))}return o}class Zl extends ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ws extends ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mh{constructor(e){this.count=e}}var js,hi;function cd(i){switch(i){default:return In();case kt.CANCELLED:case kt.UNKNOWN:case kt.DEADLINE_EXCEEDED:case kt.RESOURCE_EXHAUSTED:case kt.INTERNAL:case kt.UNAVAILABLE:case kt.UNAUTHENTICATED:return!1;case kt.INVALID_ARGUMENT:case kt.NOT_FOUND:case kt.ALREADY_EXISTS:case kt.PERMISSION_DENIED:case kt.FAILED_PRECONDITION:case kt.ABORTED:case kt.OUT_OF_RANGE:case kt.UNIMPLEMENTED:case kt.DATA_LOSS:return!0}}function yh(i){if(void 0===i)return Zr("GRPC error has no .code"),kt.UNKNOWN;switch(i){case js.OK:return kt.OK;case js.CANCELLED:return kt.CANCELLED;case js.UNKNOWN:return kt.UNKNOWN;case js.DEADLINE_EXCEEDED:return kt.DEADLINE_EXCEEDED;case js.RESOURCE_EXHAUSTED:return kt.RESOURCE_EXHAUSTED;case js.INTERNAL:return kt.INTERNAL;case js.UNAVAILABLE:return kt.UNAVAILABLE;case js.UNAUTHENTICATED:return kt.UNAUTHENTICATED;case js.INVALID_ARGUMENT:return kt.INVALID_ARGUMENT;case js.NOT_FOUND:return kt.NOT_FOUND;case js.ALREADY_EXISTS:return kt.ALREADY_EXISTS;case js.PERMISSION_DENIED:return kt.PERMISSION_DENIED;case js.FAILED_PRECONDITION:return kt.FAILED_PRECONDITION;case js.ABORTED:return kt.ABORTED;case js.OUT_OF_RANGE:return kt.OUT_OF_RANGE;case js.UNIMPLEMENTED:return kt.UNIMPLEMENTED;case js.DATA_LOSS:return kt.DATA_LOSS;default:return In()}}(hi=js||(js={}))[hi.OK=0]="OK",hi[hi.CANCELLED=1]="CANCELLED",hi[hi.UNKNOWN=2]="UNKNOWN",hi[hi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hi[hi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hi[hi.NOT_FOUND=5]="NOT_FOUND",hi[hi.ALREADY_EXISTS=6]="ALREADY_EXISTS",hi[hi.PERMISSION_DENIED=7]="PERMISSION_DENIED",hi[hi.UNAUTHENTICATED=16]="UNAUTHENTICATED",hi[hi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hi[hi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hi[hi.ABORTED=10]="ABORTED",hi[hi.OUT_OF_RANGE=11]="OUT_OF_RANGE",hi[hi.UNIMPLEMENTED=12]="UNIMPLEMENTED",hi[hi.INTERNAL=13]="INTERNAL",hi[hi.UNAVAILABLE=14]="UNAVAILABLE",hi[hi.DATA_LOSS=15]="DATA_LOSS";class pa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[l,h]of o)if(this.equalsFn(l,e))return h}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,t]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return void(l[h]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[t]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){V(this.inner,(t,o)=>{for(const[l,h]of o)e(l,h)})}isEmpty(){return ae(this.inner)}size(){return this.innerSize}}const Pf=new Oe(yn.comparator);function Ho(){return Pf}const vh=new Oe(yn.comparator);function ic(...i){let e=vh;for(const t of i)e=e.insert(t.key,t);return e}function Ff(i){let e=vh;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Yo(){return sl()}function Au(){return sl()}function sl(){return new pa(i=>i.toString(),(i,e)=>i.isEqual(e))}const sc=new Oe(yn.comparator),dd=new Xt(yn.comparator);function $r(...i){let e=dd;for(const t of i)e=e.add(t);return e}const oc=new Xt(Wn);function xu(){return oc}class to{constructor(e,t,o,l,h){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,ol.createSynthesizedTargetChangeForCurrentChange(e,t)),new to(Jn.min(),o,xu(),Ho(),$r())}}class ol{constructor(e,t,o,l,h){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ol(mi.EMPTY_BYTE_STRING,t,$r(),$r(),$r())}}class Su{constructor(e,t,o,l){this.Tt=e,this.removedTargetIds=t,this.key=o,this.Et=l}}class ac{constructor(e,t){this.targetId=e,this.At=t}}class Tu{constructor(e,t,o=mi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=l}}class Mu{constructor(){this.Rt=0,this.bt=lc(),this.Pt=mi.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=$r(),t=$r(),o=$r();return this.bt.forEach((l,h)=>{switch(h){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:o=o.add(l);break;default:In()}}),new ol(this.Pt,this.vt,e,t,o)}Nt(){this.Vt=!1,this.bt=lc()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class xl{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Ho(),this.qt=hd(),this.Kt=new Xt(Wn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const o=this.zt(t);switch(e.state){case 0:this.Ht(t)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),o.Ct(e.resumeToken));break;default:In()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((o,l)=>{this.Ht(l)&&t(l)})}Yt(e){const t=e.targetId,o=e.At.count,l=this.Xt(t);if(l){const h=l.target;if(Eu(h))if(0===o){const g=new yn(h.path);this.jt(t,g,Di.newNoDocument(g,Jn.min()))}else Yn(1===o);else this.Zt(t)!==o&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((h,g)=>{const x=this.Xt(g);if(x){if(h.current&&Eu(x.target)){const H=new yn(x.target.path);null!==this.Ut.get(H)||this.ee(g,H)||this.jt(g,H,Di.newNoDocument(H,e))}h.Dt&&(t.set(g,h.xt()),h.Nt())}});let o=$r();this.qt.forEach((h,g)=>{let x=!0;g.forEachWhile(H=>{const Q=this.Xt(H);return!Q||2===Q.purpose||(x=!1,!1)}),x&&(o=o.add(h))}),this.Ut.forEach((h,g)=>g.setReadTime(e));const l=new to(e,t,this.Kt,this.Ut,o);return this.Ut=Ho(),this.qt=hd(),this.Kt=new Xt(Wn),l}Qt(e,t){if(!this.Ht(e))return;const o=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,o),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,o){if(!this.Ht(e))return;const l=this.zt(e);this.ee(e,t)?l.kt(t,1):l.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),o&&(this.Ut=this.Ut.insert(t,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new Mu,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Xt(Wn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||rn("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Mu),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function hd(){return new Oe(yn.comparator)}function lc(){return new Oe(yn.comparator)}const wa={asc:"ASCENDING",desc:"DESCENDING"},_h={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class fd{constructor(e,t){this.databaseId=e,this.gt=t}}function al(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ll(i,e){return i.gt?e.toBase64():e.toUint8Array()}function pd(i,e){return al(i,e.toTimestamp())}function Ii(i){return Yn(!!i),Jn.fromTimestamp(function(e){const t=Es(e);return new Ri(t.seconds,t.nanos)}(i))}function Ru(i,e){return(t=i,new jr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function uc(i){const e=jr.fromString(i);return Yn(Tl(e)),e}function Ql(i,e){return Ru(i.databaseId,e.path)}function Cs(i,e){const t=uc(e);if(t.get(1)!==i.databaseId.projectId)throw new wt(kt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new wt(kt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new yn(bh(t))}function Sl(i,e){return Ru(i.databaseId,e)}function gd(i){const e=uc(i);return 4===e.length?jr.emptyPath():bh(e)}function Xl(i){return new jr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function bh(i){return Yn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Jl(i,e,t){return{name:Ql(i,e),fields:t.value.mapValue.fields}}function Eh(i,e,t){const o=Cs(i,e.name),l=Ii(e.updateTime),h=new ms({mapValue:{fields:e.fields}}),g=Di.newFoundDocument(o,l,h);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function eu(i,e){let t;if(e instanceof il)t={update:Jl(i,e.key,e.value)};else if(e instanceof Zl)t={delete:Ql(i,e.key)};else if(e instanceof Na)t={update:Jl(i,e.key,e.data),updateMask:ga(e.fieldMask)};else{if(!(e instanceof ws))return In();t={verify:Ql(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,h){const g=h.transform;if(g instanceof rl)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Il)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Uo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ya)return{fieldPath:h.field.canonicalString(),increment:g.yt};throw In()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:pd(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:In()),t;var l}function m(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?Xi.updateTime(Ii(l.updateTime)):void 0!==l.exists?Xi.exists(l.exists):Xi.none():Xi.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(h,g){let x=null;"setToServerValue"in g?(Yn("REQUEST_TIME"===g.setToServerValue),x=new rl):"appendMissingElements"in g?x=new Il(g.appendMissingElements.values||[]):"removeAllFromArray"in g?x=new Uo(g.removeAllFromArray.values||[]):"increment"in g?x=new Ya(h,g.increment):In();const H=gi.fromServerFormat(g.fieldPath);return new Kl(H,x)}(i,l)):[];var l;if(e.update){const l=Cs(i,e.update.name),h=new ms({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new Mr((e.updateMask.fieldPaths||[]).map(Q=>gi.fromServerFormat(Q)));return new Na(l,h,g,t,o)}return new il(l,h,t,o)}if(e.delete){const l=Cs(i,e.delete);return new Zl(l,t)}if(e.verify){const l=Cs(i,e.verify);return new ws(l,t)}return In()}function p(i,e){return{documents:[Sl(i,e.path)]}}function E(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Sl(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Sl(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(H){if(0===H.length)return;const Q=H.map(Ae=>function(Ze){if("=="===Ze.op){if(Mn(Ze.value))return{unaryFilter:{field:zn(Ze.field),op:"IS_NAN"}};if(on(Ze.value))return{unaryFilter:{field:zn(Ze.field),op:"IS_NULL"}}}else if("!="===Ze.op){if(Mn(Ze.value))return{unaryFilter:{field:zn(Ze.field),op:"IS_NOT_NAN"}};if(on(Ze.value))return{unaryFilter:{field:zn(Ze.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zn(Ze.field),op:bn(Ze.op),value:Ze.value}}}(Ae));return 1===Q.length?Q[0]:{compositeFilter:{op:"AND",filters:Q}}}(e.filters);l&&(t.structuredQuery.where=l);const h=function(H){if(0!==H.length)return H.map(Q=>{return{field:zn((Ae=Q).field),direction:Ht(Ae.dir)};var Ae})}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const g=(Q=e.limit,i.gt||Bo(Q)?Q:{value:Q});var Q,x,H;return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(x=e.startAt).inclusive,values:x.position}),e.endAt&&(t.structuredQuery.endAt={before:!(H=e.endAt).inclusive,values:H.position}),t}function W(i){let e=gd(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let l=null;if(o>0){Yn(1===o);const Ae=t.from[0];Ae.allDescendants?l=Ae.collectionId:e=e.child(Ae.collectionId)}let h=[];t.where&&(h=ft(t.where));let g=[];t.orderBy&&(g=t.orderBy.map(Ae=>{return new Ea(pr((Ze=Ae).field),function(xt){switch(xt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ze.direction));var Ze}));let x=null;t.limit&&(x=function(Ae){let Ze;return Ze="object"==typeof Ae?Ae.value:Ae,Bo(Ze)?null:Ze}(t.limit));let H=null;var Ae;t.startAt&&(H=new Ka((Ae=t.startAt).values||[],!!Ae.before));let Q=null;return t.endAt&&(Q=function(Ae){return new Ka(Ae.values||[],!Ae.before)}(t.endAt)),Rf(e,l,g,h,x,"F",H,Q)}function ft(i){return i?void 0!==i.unaryFilter?[Gs(i)]:void 0!==i.fieldFilter?[vr(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>ft(e)).reduce((e,t)=>e.concat(t)):In():[]}function Ht(i){return wa[i]}function bn(i){return _h[i]}function zn(i){return{fieldPath:i.canonicalString()}}function pr(i){return gi.fromServerFormat(i.fieldPath)}function vr(i){return Hs.create(pr(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return In()}}(i.fieldFilter.op),i.fieldFilter.value)}function Gs(i){switch(i.unaryFilter.op){case"IS_NAN":const e=pr(i.unaryFilter.field);return Hs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=pr(i.unaryFilter.field);return Hs.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=pr(i.unaryFilter.field);return Hs.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=pr(i.unaryFilter.field);return Hs.create(l,"!=",{nullValue:"NULL_VALUE"});default:return In()}}function ga(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Tl(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function To(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Ou(e)),e=md(i.get(t),e);return Ou(e)}function md(i,e){let t=e;const o=i.length;for(let l=0;l<o;l++){const h=i.charAt(l);switch(h){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=h}}return t}function Ou(i){return i+"\x01\x01"}function La(i){const e=i.length;if(Yn(e>=2),2===e)return Yn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),jr.emptyPath();const t=e-2,o=[];let l="";for(let h=0;h<e;){const g=i.indexOf("\x01",h);switch((g<0||g>t)&&In(),i.charAt(g+1)){case"\x01":const x=i.substring(h,g);let H;0===l.length?H=x:(l+=x,H=l,l=""),o.push(H);break;case"\x10":l+=i.substring(h,g),l+="\0";break;case"\x11":l+=i.substring(h,g+1);break;default:In()}h=g+2}return new jr(o)}const yd=["userId","batchId"];function Ml(i,e){return[i,To(e)]}function Ch(i,e,t){return[i,To(e),t]}const Dh={},Lf=["prefixPath","collectionGroup","readTime","documentId"],xg=["prefixPath","collectionGroup","documentId"],Ih=["collectionGroup","readTime","prefixPath","documentId"],Vf=["canonicalId","targetId"],Sg=["targetId","path"],Bf=["path","targetId"],Tg=["collectionId","parent"],Mg=["indexId","uid"],Rg=["uid","sequenceNumber"],Uf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Wy=["indexId","uid","orderedDocumentKey"],Hf=["userId","collectionPath","documentId"],vd=["userId","collectionPath","largestBatchId"],Ky=["userId","collectionGroup","largestBatchId"],Og=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qy=[...Og,"documentOverlays"],jf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kg=jf,Yy=[...kg,"indexConfiguration","indexState","indexEntries"];class Gf extends Jc{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Mo(i,e){const t=Cn(i);return po.O(t.ie,e)}class _d{constructor(e,t,o,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(e.key)&&tc(h,e,o[l])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Du(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Du(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Au();return this.mutations.forEach(l=>{const h=e.get(l.key),g=h.overlayedDocument;let x=this.applyToLocalView(g,h.mutatedFields);x=t.has(l.key)?null:x;const H=gh(g,x);null!==H&&o.set(l.key,H),g.isValidDocument()||g.convertToNoDocument(Jn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$r())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(t,o)=>nc(t,o))&&Fo(this.baseMutations,e.baseMutations,(t,o)=>nc(t,o))}}class $f{constructor(e,t,o,l){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=l}static from(e,t,o){Yn(e.mutations.length===o.length);let l=sc;const h=e.mutations;for(let g=0;g<h.length;g++)l=l.insert(h[g].key,o[g].version);return new $f(e,t,o,l)}}class zf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class tu{constructor(e,t,o,l,h=Jn.min(),g=Jn.min(),x=mi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=x}withSequenceNumber(e){return new tu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new tu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new tu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Wf{constructor(e){this.re=e}}function Pg(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ro(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Ql(l=i.re,(h=e).key),fields:h.data.value.mapValue.fields,updateTime:al(l,h.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Rl(e.version)};else{if(!e.isUnknownDocument())return In();o.unknownDocument={path:t.path.toArray(),version:Rl(e.version)}}var l,h;return o}function Ro(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Rl(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function nu(i){const e=new Ri(i.seconds,i.nanoseconds);return Jn.fromTimestamp(e)}function Ol(i,e){const t=(e.baseMutations||[]).map(h=>m(i.re,h));for(let h=0;h<e.mutations.length-1;++h){const g=e.mutations[h];h+1<e.mutations.length&&void 0!==e.mutations[h+1].transform&&(g.updateTransforms=e.mutations[h+1].transform.fieldTransforms,e.mutations.splice(h+1,1),++h)}const o=e.mutations.map(h=>m(i.re,h)),l=Ri.fromMillis(e.localWriteTimeMs);return new _d(e.batchId,l,t,o)}function ao(i){const e=nu(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?nu(i.lastLimboFreeSnapshotVersion):Jn.min();let o;var l;return void 0!==i.query.documents?(Yn(1===(l=i.query).documents.length),o=qo(Fa(gd(l.documents[0])))):o=qo(W(i.query)),new tu(o,i.targetId,0,i.lastListenSequenceNumber,e,t,mi.fromBase64String(i.resumeToken))}function cc(i,e){const t=Rl(e.snapshotVersion),o=Rl(e.lastLimboFreeSnapshotVersion);let l;l=Eu(e.target)?p(i.re,e.target):E(i.re,e.target);const h=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Wo(e.target),readTime:t,resumeToken:h,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function Ah(i){const e=W({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?zl(e,e.limit,"L"):e}function Kf(i,e){return new zf(e.largestBatchId,m(i.re,e.overlayMutation))}function Fg(i,e){const t=e.path.lastSegment();return[i,To(e.path.popLast()),t]}function qf(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Rl(o.readTime),documentKey:To(o.documentKey.path),largestBatchId:o.largestBatchId}}class Qy{getBundleMetadata(e,t){return Yf(e).get(t).next(o=>{if(o)return{id:(l=o).bundleId,createTime:nu(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return Yf(e).put({bundleId:(o=t).id,createTime:Rl(Ii(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Ng(e).get(t).next(o=>{if(o)return{name:(l=o).name,query:Ah(l.bundledQuery),readTime:nu(l.readTime)};var l})}saveNamedQuery(e,t){return Ng(e).put({name:(o=t).name,readTime:Rl(Ii(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Yf(i){return Mo(i,"bundles")}function Ng(i){return Mo(i,"namedQueries")}class bd{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new bd(e,t.uid||"")}getOverlay(e,t){return Ed(e).get(Fg(this.userId,t)).next(o=>o?Kf(this.It,o):null)}getOverlays(e,t){const o=Yo();return Ot.forEach(t,l=>this.getOverlay(e,l).next(h=>{null!==h&&o.set(l,h)})).next(()=>o)}saveOverlays(e,t,o){const l=[];return o.forEach((h,g)=>{const x=new zf(t,g);l.push(this.ue(e,x))}),Ot.waitFor(l)}removeOverlaysForBatchId(e,t,o){const l=new Set;t.forEach(g=>l.add(To(g.getCollectionPath())));const h=[];return l.forEach(g=>{const x=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,o+1],!1,!0);h.push(Ed(e).Y("collectionPathOverlayIndex",x))}),Ot.waitFor(h)}getOverlaysForCollection(e,t,o){const l=Yo(),h=To(t),g=IDBKeyRange.bound([this.userId,h,o],[this.userId,h,Number.POSITIVE_INFINITY],!0);return Ed(e).W("collectionPathOverlayIndex",g).next(x=>{for(const H of x){const Q=Kf(this.It,H);l.set(Q.getKey(),Q)}return l})}getOverlaysForCollectionGroup(e,t,o,l){const h=Yo();let g;const x=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ed(e).Z({index:"collectionGroupOverlayIndex",range:x},(H,Q,Ae)=>{const Ze=Kf(this.It,Q);h.size()<l||Ze.largestBatchId===g?(h.set(Ze.getKey(),Ze),g=Ze.largestBatchId):Ae.done()}).next(()=>h)}ue(e,t){return Ed(e).put(function(o,l,h){const[g,x,H]=Fg(l,h.mutation.key);return{userId:l,collectionPath:x,documentId:H,collectionGroup:h.mutation.key.getCollectionGroup(),largestBatchId:h.largestBatchId,overlayMutation:eu(o.re,h.mutation)}}(this.It,this.userId,t))}}function Ed(i){return Mo(i,"documentOverlays")}class ku{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Zi(e.integerValue));else if("doubleValue"in e){const o=Zi(e.doubleValue);isNaN(o)?this.le(t,13):(this.le(t,15),$a(o)?t.fe(0):t.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(t,20),"string"==typeof o?t.de(o):(t.de(`${o.seconds||""}`),t.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Js(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(t,45),t.fe(o.latitude||0),t.fe(o.longitude||0)}else"mapValue"in e?Ur(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):In()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const o=e.fields||{};this.le(t,55);for(const l of Object.keys(o))this._e(l,t),this.ae(o[l],t)}pe(e,t){const o=e.values||[];this.le(t,50);for(const l of o)this.ae(l,t)}ge(e,t){this.le(t,37),yn.fromName(e).path.forEach(o=>{this.le(t,60),this.Ie(o,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Xy(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Lg(i){const e=64-function(t){let o=0;for(let l=0;l<8;++l){const h=Xy(255&t[l]);if(o+=h,8!==h)break}return o}(i);return Math.ceil(e/8)}ku.Te=new ku;class Jy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Pe(o.value),o=t.next();this.ve()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const l=t.codePointAt(0);this.Ae(240|l>>>18),this.Ae(128|63&l>>>12),this.Ae(128|63&l>>>6),this.Ae(128|63&l)}}this.Re()}Se(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const l=t.codePointAt(0);this.Pe(240|l>>>18),this.Pe(128|63&l>>>12),this.Pe(128|63&l>>>6),this.Pe(128|63&l)}}this.ve()}De(e){const t=this.Ce(e),o=Lg(t);this.xe(1+o),this.buffer[this.position++]=255&o;for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=255&t[l]}Ne(e){const t=this.Ce(e),o=Lg(t);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(l){const h=new DataView(new ArrayBuffer(8));return h.setFloat64(0,l,!1),new Uint8Array(h.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let l=1;l<t.length;++l)t[l]^=o?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class dc{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class kl{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class wd{constructor(){this.Be=new Jy,this.Le=new dc(this.Be),this.Ue=new kl(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Pu{constructor(e,t,o,l){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=l}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Pu(this.indexId,this.documentKey,this.arrayValue,o)}}function hc(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=ev(i.arrayValue,e.arrayValue),0!==t?t:(t=ev(i.directionalValue,e.directionalValue),0!==t?t:yn.comparator(i.documentKey,e.documentKey)))}function ev(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class Vg{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const o=t;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const t=Aa(e);if(void 0!==t&&!this.ze(t))return!1;const o=oo(e);let l=0,h=0;for(;l<o.length&&this.ze(o[l]);++l);if(l===o.length)return!0;if(void 0!==this.je){const g=o[l];if(!this.He(this.je,g)||!this.Je(this.Ge[h++],g))return!1;++l}for(;l<o.length;++l){const g=o[l];if(h>=this.Ge.length||!this.Je(this.Ge[h++],g))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class G_{constructor(){this.Ye=new Va}addToCollectionParentIndex(e,t){return this.Ye.add(t),Ot.resolve()}getCollectionParents(e,t){return Ot.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return Ot.resolve()}deleteFieldIndex(e,t){return Ot.resolve()}getDocumentsMatchingTarget(e,t){return Ot.resolve(null)}getIndexType(e,t){return Ot.resolve(0)}getFieldIndexes(e,t){return Ot.resolve([])}getNextCollectionGroupToUpdate(e){return Ot.resolve(null)}getMinOffset(e,t){return Ot.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,t){return Ot.resolve(Io.min())}updateCollectionGroup(e,t,o){return Ot.resolve()}updateIndexEntries(e,t){return Ot.resolve()}}class Va{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t]||new Xt(jr.comparator),h=!l.has(o);return this.index[t]=l.add(o),h}has(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t];return l&&l.has(o)}getEntries(e){return(this.index[e]||new Xt(jr.comparator)).toArray()}}const fc=new Uint8Array(0);class Zf{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Va,this.Ze=new pa(o=>Wo(o),(o,l)=>tl(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const o=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const h={collectionId:o,parent:To(l)};return Bg(e).put(h)}return Ot.resolve()}getCollectionParents(e,t){const o=[],l=IDBKeyRange.bound([t,""],[Ia(t),""],!1,!0);return Bg(e).W(l).next(h=>{for(const g of h){if(g.collectionId!==t)break;o.push(La(g.parent))}return o})}addFieldIndex(e,t){const o=xh(e),l={indexId:(g=t).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(x=>[x.fieldPath.canonicalString(),x.kind])};var g;delete l.indexId;const h=o.add(l);if(t.indexState){const g=Pl(e);return h.next(x=>{g.put(qf(x,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return h.next()}deleteFieldIndex(e,t){const o=xh(e),l=Pl(e),h=pc(e);return o.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=pc(e);let l=!0;const h=new Map;return Ot.forEach(this.tn(t),g=>this.en(e,g).next(x=>{l&&(l=!!x),h.set(g,x)})).next(()=>{if(l){let g=$r();const x=[];return Ot.forEach(h,(H,Q)=>{var Ae;rn("IndexedDbIndexManager",`Using index ${Ae=H,`id=${Ae.indexId}|cg=${Ae.collectionGroup}|f=${Ae.fields.map(Ti=>`${Ti.fieldPath}:${Ti.kind}`).join(",")}`} to execute ${Wo(t)}`);const Ze=function(Ti,Ms){const Oi=Aa(Ms);if(void 0===Oi)return null;for(const Bi of Zu(Ti,Oi.fieldPath))switch(Bi.op){case"array-contains-any":return Bi.value.arrayValue.values||[];case"array-contains":return[Bi.value]}return null}(Q,H),xt=function(Ti,Ms){const Oi=new Map;for(const Bi of oo(Ms))for(const yo of Zu(Ti,Bi.fieldPath))switch(yo.op){case"==":case"in":Oi.set(Bi.fieldPath.canonicalString(),yo.value);break;case"not-in":case"!=":return Oi.set(Bi.fieldPath.canonicalString(),yo.value),Array.from(Oi.values())}return null}(Q,H),Yt=function(Ti,Ms){const Oi=[];let Bi=!0;for(const yo of oo(Ms)){const jl=0===yo.kind?oh(Ti,yo.fieldPath,Ti.startAt):ed(Ti,yo.fieldPath,Ti.startAt);Oi.push(jl.value),Bi&&(Bi=jl.inclusive)}return new Ka(Oi,Bi)}(Q,H),Jt=function(Ti,Ms){const Oi=[];let Bi=!0;for(const yo of oo(Ms)){const jl=0===yo.kind?ed(Ti,yo.fieldPath,Ti.endAt):oh(Ti,yo.fieldPath,Ti.endAt);Oi.push(jl.value),Bi&&(Bi=jl.inclusive)}return new Ka(Oi,Bi)}(Q,H),Pn=this.nn(H,Q,Yt),er=this.nn(H,Q,Jt),Si=this.sn(H,Q,xt),Ji=this.rn(H.indexId,Ze,Pn,Yt.inclusive,er,Jt.inclusive,Si);return Ot.forEach(Ji,Ti=>o.J(Ti,t.limit).next(Ms=>{Ms.forEach(Oi=>{const Bi=yn.fromSegments(Oi.documentKey);g.has(Bi)||(g=g.add(Bi),x.push(Bi))})}))}).next(()=>x)}return Ot.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,o,l,h,g,x){const H=(null!=t?t.length:1)*Math.max(o.length,h.length),Q=H/(null!=t?t.length:1),Ae=[];for(let Ze=0;Ze<H;++Ze){const xt=t?this.on(t[Ze/Q]):fc,Yt=this.un(e,xt,o[Ze%Q],l),Jt=this.cn(e,xt,h[Ze%Q],g),Pn=x.map(er=>this.un(e,xt,er,!0));Ae.push(...this.createRange(Yt,Jt,Pn))}return Ae}un(e,t,o,l){const h=new Pu(e,yn.empty(),t,o);return l?h:h.Ke()}cn(e,t,o,l){const h=new Pu(e,yn.empty(),t,o);return l?h.Ke():h}en(e,t){const o=new Vg(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(h=>{let g=null;for(const x of h)o.We(x)&&(!g||x.fields.length>g.fields.length)&&(g=x);return g})}getIndexType(e,t){let o=2;return Ot.forEach(this.tn(t),l=>this.en(e,l).next(h=>{h?0!==o&&h.fields.length<function(g){let x=new Xt(gi.comparator),H=!1;for(const Q of g.filters){const Ae=Q;Ae.field.isKeyField()||("array-contains"===Ae.op||"array-contains-any"===Ae.op?H=!0:x=x.add(Ae.field))}for(const Q of g.orderBy)Q.field.isKeyField()||(x=x.add(Q.field));return x.size+(H?1:0)}(l)&&(o=1):o=0})).next(()=>o)}an(e,t){const o=new wd;for(const l of oo(e)){const h=t.data.field(l.fieldPath);if(null==h)return null;const g=o.qe(l.kind);ku.Te.ce(h,g)}return o.$e()}on(e){const t=new wd;return ku.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const o=new wd;return ku.Te.ce(He(this.databaseId,t),o.qe(function(l){const h=oo(l);return 0===h.length?0:h[h.length-1].kind}(e))),o.$e()}sn(e,t,o){if(null===o)return[];let l=[];l.push(new wd);let h=0;for(const g of oo(e)){const x=o[h++];for(const H of l)if(this.ln(t,g.fieldPath)&&Ft(x))l=this.fn(l,g,x);else{const Q=H.qe(g.kind);ku.Te.ce(x,Q)}}return this.dn(l)}nn(e,t,o){return this.sn(e,t,o.position)}dn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].$e();return t}fn(e,t,o){const l=[...e],h=[];for(const g of o.arrayValue.values||[])for(const x of l){const H=new wd;H.seed(x.$e()),ku.Te.ce(g,H.qe(t.kind)),h.push(H)}return h}ln(e,t){return!!e.filters.find(o=>o instanceof Hs&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=xh(e),l=Pl(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(h=>{const g=[];return Ot.forEach(h,x=>l.get([x.indexId,this.uid]).next(H=>{g.push(function(Q,Ae){const Ze=Ae?new Ja(Ae.sequenceNumber,new Io(nu(Ae.readTime),new yn(La(Ae.documentKey)),Ae.largestBatchId)):Ja.empty(),xt=Q.fields.map(([Yt,Jt])=>new Lo(gi.fromServerFormat(Yt),Jt));return new No(Q.indexId,Q.collectionGroup,xt,Ze)}(x,H))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,l)=>{const h=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==h?h:Wn(o.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const l=xh(e),h=Pl(e);return this._n(e).next(g=>l.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(x=>Ot.forEach(x,H=>h.put(qf(H.indexId,this.user,g,o)))))}updateIndexEntries(e,t){const o=new Map;return Ot.forEach(t,(l,h)=>{const g=o.get(l.collectionGroup);return(g?Ot.resolve(g):this.getFieldIndexes(e,l.collectionGroup)).next(x=>(o.set(l.collectionGroup,x),Ot.forEach(x,H=>this.wn(e,l,H).next(Q=>{const Ae=this.mn(h,H);return Q.isEqual(Ae)?Ot.resolve():this.gn(e,h,H,Q,Ae)}))))})}yn(e,t,o,l){return pc(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.hn(o,t.key),documentKey:t.key.path.toArray()})}pn(e,t,o,l){return pc(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.hn(o,t.key),t.key.path.toArray()])}wn(e,t,o){const l=pc(e);let h=new Xt(hc);return l.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,t)])},(g,x)=>{h=h.add(new Pu(o.indexId,t,x.arrayValue,x.directionalValue))}).next(()=>h)}mn(e,t){let o=new Xt(hc);const l=this.an(t,e);if(null==l)return o;const h=Aa(t);if(null!=h){const g=e.data.field(h.fieldPath);if(Ft(g))for(const x of g.arrayValue.values||[])o=o.add(new Pu(t.indexId,e.key,this.on(x),l))}else o=o.add(new Pu(t.indexId,e.key,fc,l));return o}gn(e,t,o,l,h){rn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const g=[];return function(x,H,Q,Ae,Ze){const xt=x.getIterator(),Yt=H.getIterator();let Jt=Fn(xt),Pn=Fn(Yt);for(;Jt||Pn;){let er=!1,Si=!1;if(Jt&&Pn){const Ji=Q(Jt,Pn);Ji<0?Si=!0:Ji>0&&(er=!0)}else null!=Jt?Si=!0:er=!0;er?(Ae(Pn),Pn=Fn(Yt)):Si?(Ze(Jt),Jt=Fn(xt)):(Jt=Fn(xt),Pn=Fn(Yt))}}(l,h,hc,x=>{g.push(this.yn(e,t,o,x))},x=>{g.push(this.pn(e,t,o,x))}),Ot.waitFor(g)}_n(e){let t=1;return Pl(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,h)=>{h.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((g,x)=>hc(g,x)).filter((g,x,H)=>!x||0!==hc(g,H[x-1]));const l=[];l.push(e);for(const g of o){const x=hc(g,e),H=hc(g,t);if(0===x)l[0]=e.Ke();else if(x>0&&H<0)l.push(g),l.push(g.Ke());else if(H>0)break}l.push(t);const h=[];for(let g=0;g<l.length;g+=2)h.push(IDBKeyRange.bound([l[g].indexId,this.uid,l[g].arrayValue,l[g].directionalValue,fc,[]],[l[g+1].indexId,this.uid,l[g+1].arrayValue,l[g+1].directionalValue,fc,[]]));return h}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ug)}getMinOffset(e,t){return Ot.mapArray(this.tn(t),o=>this.en(e,o).next(l=>l||In())).next(Ug)}}function Bg(i){return Mo(i,"collectionParents")}function pc(i){return Mo(i,"indexEntries")}function xh(i){return Mo(i,"indexConfiguration")}function Pl(i){return Mo(i,"indexState")}function Ug(i){Yn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const l=i[o].indexState.offset;_u(l,e)<0&&(e=l),t<l.largestBatchId&&(t=l.largestBatchId)}return new Io(e.readTime,e.documentKey,t)}const Hg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zo{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Zo(e,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Sh(i,e,t){const o=i.store("mutations"),l=i.store("documentMutations"),h=[],g=IDBKeyRange.only(t.batchId);let x=0;const H=o.Z({range:g},(Ae,Ze,xt)=>(x++,xt.delete()));h.push(H.next(()=>{Yn(1===x)}));const Q=[];for(const Ae of t.mutations){const Ze=Ch(e,Ae.key.path,t.batchId);h.push(l.delete(Ze)),Q.push(Ae.key)}return Ot.waitFor(h).next(()=>Q)}function Cd(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw In();e=i.noDocument}return JSON.stringify(e).length}Zo.DEFAULT_COLLECTION_PERCENTILE=10,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zo.DEFAULT=new Zo(41943040,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zo.DISABLED=new Zo(-1,0,0);class Qf{constructor(e,t,o,l){this.userId=e,this.It=t,this.indexManager=o,this.referenceDelegate=l,this.In={}}static oe(e,t,o,l){Yn(""!==e.uid);const h=e.isAuthenticated()?e.uid:"";return new Qf(h,t,o,l)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ul(e).Z({index:"userMutationsIndex",range:o},(l,h,g)=>{t=!1,g.done()}).next(()=>t)}addMutationBatch(e,t,o,l){const h=Nu(e),g=ul(e);return g.add({}).next(x=>{Yn("number"==typeof x);const H=new _d(x,t,o,l),Q=function(xt,Yt,Jt){const Pn=Jt.baseMutations.map(Si=>eu(xt.re,Si)),er=Jt.mutations.map(Si=>eu(xt.re,Si));return{userId:Yt,batchId:Jt.batchId,localWriteTimeMs:Jt.localWriteTime.toMillis(),baseMutations:Pn,mutations:er}}(this.It,this.userId,H),Ae=[];let Ze=new Xt((xt,Yt)=>Wn(xt.canonicalString(),Yt.canonicalString()));for(const xt of l){const Yt=Ch(this.userId,xt.key.path,x);Ze=Ze.add(xt.key.path.popLast()),Ae.push(g.put(Q)),Ae.push(h.put(Yt,Dh))}return Ze.forEach(xt=>{Ae.push(this.indexManager.addToCollectionParentIndex(e,xt))}),e.addOnCommittedListener(()=>{this.In[x]=H.keys()}),Ot.waitFor(Ae).next(()=>H)})}lookupMutationBatch(e,t){return ul(e).get(t).next(o=>o?(Yn(o.userId===this.userId),Ol(this.It,o)):null)}Tn(e,t){return this.In[t]?Ot.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const l=o.keys();return this.In[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,l=IDBKeyRange.lowerBound([this.userId,o]);let h=null;return ul(e).Z({index:"userMutationsIndex",range:l},(g,x,H)=>{x.userId===this.userId&&(Yn(x.batchId>=o),h=Ol(this.It,x)),H.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return ul(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(l,h,g)=>{o=h.batchId,g.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ul(e).W("userMutationsIndex",t).next(o=>o.map(l=>Ol(this.It,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Ml(this.userId,t.path),l=IDBKeyRange.lowerBound(o),h=[];return Nu(e).Z({range:l},(g,x,H)=>{const[Q,Ae,Ze]=g,xt=La(Ae);if(Q===this.userId&&t.path.isEqual(xt))return ul(e).get(Ze).next(Yt=>{if(!Yt)throw In();Yn(Yt.userId===this.userId),h.push(Ol(this.It,Yt))});H.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Xt(Wn);const l=[];return t.forEach(h=>{const g=Ml(this.userId,h.path),x=IDBKeyRange.lowerBound(g),H=Nu(e).Z({range:x},(Q,Ae,Ze)=>{const[xt,Yt,Jt]=Q,Pn=La(Yt);xt===this.userId&&h.path.isEqual(Pn)?o=o.add(Jt):Ze.done()});l.push(H)}),Ot.waitFor(l).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1,h=Ml(this.userId,o),g=IDBKeyRange.lowerBound(h);let x=new Xt(Wn);return Nu(e).Z({range:g},(H,Q,Ae)=>{const[Ze,xt,Yt]=H,Jt=La(xt);Ze===this.userId&&o.isPrefixOf(Jt)?Jt.length===l&&(x=x.add(Yt)):Ae.done()}).next(()=>this.En(e,x))}En(e,t){const o=[],l=[];return t.forEach(h=>{l.push(ul(e).get(h).next(g=>{if(null===g)throw In();Yn(g.userId===this.userId),o.push(Ol(this.It,g))}))}),Ot.waitFor(l).next(()=>o)}removeMutationBatch(e,t){return Sh(e.ie,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Ot.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ot.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return Nu(e).Z({range:o},(h,g,x)=>{if(h[0]===this.userId){const H=La(h[1]);l.push(H)}else x.done()}).next(()=>{Yn(0===l.length)})})}containsKey(e,t){return Fu(e,this.userId,t)}Rn(e){return jg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Fu(i,e,t){const o=Ml(e,t.path),l=o[1],h=IDBKeyRange.lowerBound(o);let g=!1;return Nu(i).Z({range:h,X:!0},(x,H,Q)=>{const[Ae,Ze,xt]=x;Ae===e&&Ze===l&&(g=!0),Q.done()}).next(()=>g)}function ul(i){return Mo(i,"mutations")}function Nu(i){return Mo(i,"documentMutations")}function jg(i){return Mo(i,"mutationQueues")}class Fl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Fl(0)}static vn(){return new Fl(-1)}}class tv{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new Fl(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Jn.fromTimestamp(new Ri(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(l=>(l.highestListenSequenceNumber=t,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.Sn(e,l)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(Yn(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let l=0;const h=[];return gc(e).Z((g,x)=>{const H=ao(x);H.sequenceNumber<=t&&null===o.get(H.targetId)&&(l++,h.push(this.removeTargetData(e,H)))}).next(()=>Ot.waitFor(h)).next(()=>l)}forEachTarget(e,t){return gc(e).Z((o,l)=>{const h=ao(l);t(h)})}Vn(e){return Gg(e).get("targetGlobalKey").next(t=>(Yn(null!==t),t))}Sn(e,t){return Gg(e).put("targetGlobalKey",t)}Dn(e,t){return gc(e).put(cc(this.It,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Wo(t),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let h=null;return gc(e).Z({range:l,index:"queryTargetsIndex"},(g,x,H)=>{const Q=ao(x);tl(t,Q.target)&&(h=Q,H.done())}).next(()=>h)}addMatchingKeys(e,t,o){const l=[],h=ru(e);return t.forEach(g=>{const x=To(g.path);l.push(h.put({targetId:o,path:x})),l.push(this.referenceDelegate.addReference(e,o,g))}),Ot.waitFor(l)}removeMatchingKeys(e,t,o){const l=ru(e);return Ot.forEach(t,h=>{const g=To(h.path);return Ot.waitFor([l.delete([o,g]),this.referenceDelegate.removeReference(e,o,h)])})}removeMatchingKeysForTargetId(e,t){const o=ru(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),l=ru(e);let h=$r();return l.Z({range:o,X:!0},(g,x,H)=>{const Q=La(g[1]),Ae=new yn(Q);h=h.add(Ae)}).next(()=>h)}containsKey(e,t){const o=To(t.path),l=IDBKeyRange.bound([o],[Ia(o)],!1,!0);let h=0;return ru(e).Z({index:"documentTargetsIndex",X:!0,range:l},([g,x],H,Q)=>{0!==g&&(h++,Q.done())}).next(()=>h>0)}se(e,t){return gc(e).get(t).next(o=>o?ao(o):null)}}function gc(i){return Mo(i,"targets")}function Gg(i){return Mo(i,"targetGlobal")}function ru(i){return Mo(i,"targetDocuments")}function $g([i,e],[t,o]){const l=Wn(i,t);return 0===l?Wn(e,o):l}class nv{constructor(e){this.xn=e,this.buffer=new Xt($g),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();$g(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class zg{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;rn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Fe.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){Vo(o)?rn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Ao(o)}yield t.Fn(3e5)}))}}class Xf{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return Ot.resolve(_.at);const o=new nv(t);return this.$n.forEachTarget(e,l=>o.Mn(l.sequenceNumber)).next(()=>this.$n.Ln(e,l=>o.Mn(l))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(rn("LruGarbageCollector","Garbage collection skipped; disabled"),Ot.resolve(Hg)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(rn("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hg):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let o,l,h,g,x,H,Q;const Ae=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ze=>(Ze>this.params.maximumSequenceNumbersToCollect?(rn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ze}`),l=this.params.maximumSequenceNumbersToCollect):l=Ze,g=Date.now(),this.nthSequenceNumber(e,l))).next(Ze=>(o=Ze,x=Date.now(),this.removeTargets(e,o,t))).next(Ze=>(h=Ze,H=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ze=>(Q=Date.now(),bs()<=we.in.DEBUG&&rn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-Ae}ms\n\tDetermined least recently used ${l} in `+(x-g)+`ms\n\tRemoved ${h} targets in `+(H-x)+`ms\n\tRemoved ${Ze} documents in `+(Q-H)+`ms\nTotal Duration: ${Q-Ae}ms`),Ot.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:Ze})))}}class Wg{constructor(e,t){this.db=e,this.garbageCollector=new Xf(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(l=>o+l))}qn(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,l)=>t(l))}addReference(e,t,o){return mc(e,o)}removeReference(e,t,o){return mc(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return mc(e,t)}Gn(e,t){return function(o,l){let h=!1;return jg(o).tt(g=>Fu(o,g,l).next(x=>(x&&(h=!0),Ot.resolve(!x)))).next(()=>h)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let h=0;return this.Kn(e,(g,x)=>{if(x<=t){const H=this.Gn(e,g).next(Q=>{if(!Q)return h++,o.getEntry(e,g).next(()=>(o.removeEntry(g,Jn.min()),ru(e).delete([0,To(g.path)])))});l.push(H)}}).next(()=>Ot.waitFor(l)).next(()=>o.apply(e)).next(()=>h)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return mc(e,t)}Kn(e,t){const o=ru(e);let l,h=_.at;return o.Z({index:"documentTargetsIndex"},([g,x],{path:H,sequenceNumber:Q})=>{0===g?(h!==_.at&&t(new yn(La(l)),h),h=Q,l=H):h=_.at}).next(()=>{h!==_.at&&t(new yn(La(l)),h)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function mc(i,e){return ru(i).put((o=i.currentSequenceNumber,{targetId:0,path:To(e.path),sequenceNumber:o}));var o}class Kg{constructor(){this.changes=new pa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Di.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Ot.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rv{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return su(e).put(o)}removeEntry(e,t,o){return su(e).delete(function(l,h){const g=l.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],Ro(h),g[g.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=Di.newInvalidDocument(t);return su(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(yc(t))},(l,h)=>{o=this.jn(t,h)}).next(()=>o)}Wn(e,t){let o={size:0,document:Di.newInvalidDocument(t)};return su(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(yc(t))},(l,h)=>{o={document:this.jn(t,h),size:Cd(h)}}).next(()=>o)}getEntries(e,t){let o=Ho();return this.zn(e,t,(l,h)=>{const g=this.jn(l,h);o=o.insert(l,g)}).next(()=>o)}Hn(e,t){let o=Ho(),l=new Oe(yn.comparator);return this.zn(e,t,(h,g)=>{const x=this.jn(h,g);o=o.insert(h,x),l=l.insert(h,Cd(g))}).next(()=>({documents:o,Jn:l}))}zn(e,t,o){if(t.isEmpty())return Ot.resolve();let l=new Xt(iv);t.forEach(H=>l=l.add(H));const h=IDBKeyRange.bound(yc(l.first()),yc(l.last())),g=l.getIterator();let x=g.getNext();return su(e).Z({index:"documentKeyIndex",range:h},(H,Q,Ae)=>{const Ze=yn.fromSegments([...Q.prefixPath,Q.collectionGroup,Q.documentId]);for(;x&&iv(x,Ze)<0;)o(x,null),x=g.getNext();x&&x.isEqual(Ze)&&(o(x,Q),x=g.hasNext()?g.getNext():null),x?Ae.j(yc(x)):Ae.done()}).next(()=>{for(;x;)o(x,null),x=g.hasNext()?g.getNext():null})}getAllFromCollection(e,t,o){const l=[t.popLast().toArray(),t.lastSegment(),Ro(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],h=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return su(e).W(IDBKeyRange.bound(l,h,!0)).next(g=>{let x=Ho();for(const H of g){const Q=this.jn(yn.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);x=x.insert(Q.key,Q)}return x})}getAllFromCollectionGroup(e,t,o,l){let h=Ho();const g=Yg(t,o),x=Yg(t,Io.max());return su(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,x,!0)},(H,Q,Ae)=>{const Ze=this.jn(yn.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);h=h.insert(Ze.key,Ze),h.size===l&&Ae.done()}).next(()=>h)}newChangeBuffer(e){return new qg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return iu(e).get("remoteDocumentGlobalKey").next(t=>(Yn(!!t),t))}Qn(e,t){return iu(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function Zy(i,e){let t;if(e.document)t=Eh(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=yn.fromSegments(e.noDocument.path),l=nu(e.noDocument.readTime);t=Di.newNoDocument(o,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return In();{const o=yn.fromSegments(e.unknownDocument.path),l=nu(e.unknownDocument.version);t=Di.newUnknownDocument(o,l)}}return e.readTime&&t.setReadTime(function(o){const l=new Ri(o[0],o[1]);return Jn.fromTimestamp(l)}(e.readTime)),t}(this.It,t);if(!o.isNoDocument()||!o.version.isEqual(Jn.min()))return o}return Di.newInvalidDocument(e)}}function Jf(i){return new rv(i)}class qg extends Kg{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new pa(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const t=[];let o=0,l=new Xt((h,g)=>Wn(h.canonicalString(),g.canonicalString()));return this.changes.forEach((h,g)=>{const x=this.Xn.get(h);if(t.push(this.Yn.removeEntry(e,h,x.readTime)),g.isValidDocument()){const H=Pg(this.Yn.It,g);l=l.add(h.path.popLast()),o+=Cd(H)-x.size,t.push(this.Yn.addEntry(e,h,H))}else if(o-=x.size,this.trackRemovals){const H=Pg(this.Yn.It,g.convertToNoDocument(Jn.min()));t.push(this.Yn.addEntry(e,h,H))}}),l.forEach(h=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,h))}),t.push(this.Yn.updateMetadata(e,o)),Ot.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:l})=>(l.forEach((h,g)=>{this.Xn.set(h,{size:g,readTime:o.get(h).readTime})}),o))}}function iu(i){return Mo(i,"remoteDocumentGlobal")}function su(i){return Mo(i,"remoteDocumentsV14")}function yc(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Yg(i,e){const t=e.documentKey.path.toArray();return[i,Ro(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function iv(i,e){const t=i.path.toArray(),o=e.path.toArray();let l=0;for(let h=0;h<t.length-2&&h<o.length-2;++h)if(l=Wn(t[h],o[h]),l)return l;return l=Wn(t.length,o.length),l||(l=Wn(t[t.length-2],o[o.length-2]),l||Wn(t[t.length-1],o[o.length-1]))}class Th{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Zg{constructor(e,t,o,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(o=l,this.getBaseDocument(e,t,o))).next(l=>(null!==o&&Du(o.mutation,l,Mr.empty(),Ri.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,$r()).next(()=>o))}getLocalViewOfDocuments(e,t,o=$r()){const l=Yo();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,o).next(h=>{let g=ic();return h.forEach((x,H)=>{g=g.insert(x,H.overlayedDocument)}),g}))}getOverlayedDocuments(e,t){const o=Yo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,$r()))}populateOverlays(e,t,o){const l=[];return o.forEach(h=>{t.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(e,l).next(h=>{h.forEach((g,x)=>{t.set(g,x)})})}computeViews(e,t,o,l){let h=Ho();const g=sl(),x=sl();return t.forEach((H,Q)=>{const Ae=o.get(Q.key);l.has(Q.key)&&(void 0===Ae||Ae.mutation instanceof Na)?h=h.insert(Q.key,Q):void 0!==Ae&&(g.set(Q.key,Ae.mutation.getFieldMask()),Du(Ae.mutation,Q,Ae.mutation.getFieldMask(),Ri.now()))}),this.recalculateAndSaveOverlays(e,h).next(H=>(H.forEach((Q,Ae)=>g.set(Q,Ae)),t.forEach((Q,Ae)=>{var Ze;return x.set(Q,new Th(Ae,null!==(Ze=g.get(Q))&&void 0!==Ze?Ze:null))}),x))}recalculateAndSaveOverlays(e,t){const o=sl();let l=new Oe((g,x)=>g-x),h=$r();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(g=>{for(const x of g)x.keys().forEach(H=>{const Q=t.get(H);if(null===Q)return;let Ae=o.get(H)||Mr.empty();Ae=x.applyToLocalView(Q,Ae),o.set(H,Ae);const Ze=(l.get(x.batchId)||$r()).add(H);l=l.insert(x.batchId,Ze)})}).next(()=>{const g=[],x=l.getReverseIterator();for(;x.hasNext();){const H=x.getNext(),Q=H.key,Ae=H.value,Ze=Au();Ae.forEach(xt=>{if(!h.has(xt)){const Yt=gh(t.get(xt),o.get(xt));null!==Yt&&Ze.set(xt,Yt),h=h.add(xt)}}),g.push(this.documentOverlayCache.saveOverlays(e,Q,Ze))}return Ot.waitFor(g)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return yn.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ec(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var l}getNextDocuments(e,t,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,l).next(h=>{const g=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,l-h.size):Ot.resolve(Yo());let x=-1,H=h;return g.next(Q=>Ot.forEach(Q,(Ae,Ze)=>(x<Ze.largestBatchId&&(x=Ze.largestBatchId),h.get(Ae)?Ot.resolve():this.getBaseDocument(e,Ae,Ze).next(xt=>{H=H.insert(Ae,xt)}))).next(()=>this.populateOverlays(e,Q,h)).next(()=>this.computeViews(e,H,Q,$r())).next(Ae=>({batchId:x,changes:Ff(Ae)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new yn(t)).next(o=>{let l=ic();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const l=t.collectionGroup;let h=ic();return this.indexManager.getCollectionParents(e,l).next(g=>Ot.forEach(g,x=>{const H=(Q=t,Ae=x.child(l),new qa(Ae,null,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt));var Q,Ae;return this.getDocumentsMatchingCollectionQuery(e,H,o).next(Q=>{Q.forEach((Ae,Ze)=>{h=h.insert(Ae,Ze)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,o){let l;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(h=>(l=h,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(h=>{h.forEach((x,H)=>{const Q=H.getKey();null===l.get(Q)&&(l=l.insert(Q,Di.newInvalidDocument(Q)))});let g=ic();return l.forEach((x,H)=>{const Q=h.get(x);void 0!==Q&&Du(Q.mutation,H,Mr.empty(),Ri.now()),aa(t,H)&&(g=g.insert(x,H))}),g})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):Ot.resolve(Di.newInvalidDocument(t))}}class Qg{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Ot.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:Ii(o.createTime)}),Ot.resolve()}getNamedQuery(e,t){return Ot.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:Ah(o.bundledQuery),readTime:Ii(o.readTime)}),Ot.resolve();var o}}class Xg{constructor(){this.overlays=new Oe(yn.comparator),this.es=new Map}getOverlay(e,t){return Ot.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Yo();return Ot.forEach(t,l=>this.getOverlay(e,l).next(h=>{null!==h&&o.set(l,h)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((l,h)=>{this.ue(e,t,h)}),Ot.resolve()}removeOverlaysForBatchId(e,t,o){const l=this.es.get(o);return void 0!==l&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.es.delete(o)),Ot.resolve()}getOverlaysForCollection(e,t,o){const l=Yo(),h=t.length+1,g=new yn(t.child("")),x=this.overlays.getIteratorFrom(g);for(;x.hasNext();){const H=x.getNext().value,Q=H.getKey();if(!t.isPrefixOf(Q.path))break;Q.path.length===h&&H.largestBatchId>o&&l.set(H.getKey(),H)}return Ot.resolve(l)}getOverlaysForCollectionGroup(e,t,o,l){let h=new Oe((Q,Ae)=>Q-Ae);const g=this.overlays.getIterator();for(;g.hasNext();){const Q=g.getNext().value;if(Q.getKey().getCollectionGroup()===t&&Q.largestBatchId>o){let Ae=h.get(Q.largestBatchId);null===Ae&&(Ae=Yo(),h=h.insert(Q.largestBatchId,Ae)),Ae.set(Q.getKey(),Q)}}const x=Yo(),H=h.getIterator();for(;H.hasNext()&&(H.getNext().value.forEach((Q,Ae)=>x.set(Q,Ae)),!(x.size()>=l)););return Ot.resolve(x)}ue(e,t,o){const l=this.overlays.get(o.key);if(null!==l){const g=this.es.get(l.largestBatchId).delete(o.key);this.es.set(l.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new zf(t,o));let h=this.es.get(t);void 0===h&&(h=$r(),this.es.set(t,h)),this.es.set(t,h.add(o.key))}}class Mh{constructor(){this.ns=new Xt(lo.ss),this.rs=new Xt(lo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new lo(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new lo(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new yn(new jr([])),o=new lo(t,e),l=new lo(t,e+1),h=[];return this.rs.forEachInRange([o,l],g=>{this.cs(g),h.push(g.key)}),h}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new yn(new jr([])),o=new lo(t,e),l=new lo(t,e+1);let h=$r();return this.rs.forEachInRange([o,l],g=>{h=h.add(g.key)}),h}containsKey(e){const t=new lo(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class lo{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return yn.comparator(e.key,t.key)||Wn(e._s,t._s)}static os(e,t){return Wn(e._s,t._s)||yn.comparator(e.key,t.key)}}class Jg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Xt(lo.ss)}checkEmpty(e){return Ot.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,l){const h=this.ws;this.ws++;const g=new _d(h,t,o,l);this.mutationQueue.push(g);for(const x of l)this.gs=this.gs.add(new lo(x.key,h)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return Ot.resolve(g)}lookupMutationBatch(e,t){return Ot.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.ps(t+1),h=l<0?0:l;return Ot.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Ot.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new lo(t,0),l=new lo(t,Number.POSITIVE_INFINITY),h=[];return this.gs.forEachInRange([o,l],g=>{const x=this.ys(g._s);h.push(x)}),Ot.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Xt(Wn);return t.forEach(l=>{const h=new lo(l,0),g=new lo(l,Number.POSITIVE_INFINITY);this.gs.forEachInRange([h,g],x=>{o=o.add(x._s)})}),Ot.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1;let h=o;yn.isDocumentKey(h)||(h=h.child(""));const g=new lo(new yn(h),0);let x=new Xt(Wn);return this.gs.forEachWhile(H=>{const Q=H.key.path;return!!o.isPrefixOf(Q)&&(Q.length===l&&(x=x.add(H._s)),!0)},g),Ot.resolve(this.Is(x))}Is(e){const t=[];return e.forEach(o=>{const l=this.ys(o);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){Yn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return Ot.forEach(t.mutations,l=>{const h=new lo(l.key,t.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new lo(t,0),l=this.gs.firstAfterOrEqual(o);return Ot.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return Ot.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Rh{constructor(e){this.Es=e,this.docs=new Oe(yn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,l=this.docs.get(o),h=l?l.size:0,g=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:g}),this.size+=g-h,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Ot.resolve(o?o.document.mutableCopy():Di.newInvalidDocument(t))}getEntries(e,t){let o=Ho();return t.forEach(l=>{const h=this.docs.get(l);o=o.insert(l,h?h.document.mutableCopy():Di.newInvalidDocument(l))}),Ot.resolve(o)}getAllFromCollection(e,t,o){let l=Ho();const h=new yn(t.child("")),g=this.docs.getIteratorFrom(h);for(;g.hasNext();){const{key:x,value:{document:H}}=g.getNext();if(!t.isPrefixOf(x.path))break;x.path.length>t.length+1||_u(El(H),o)<=0||(l=l.insert(H.key,H.mutableCopy()))}return Ot.resolve(l)}getAllFromCollectionGroup(e,t,o,l){In()}As(e,t){return Ot.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Oh(this)}getSize(e){return Ot.resolve(this.size)}}class Oh extends Kg{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?t.push(this.Yn.addEntry(e,l)):this.Yn.removeEntry(o)}),Ot.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class em{constructor(e){this.persistence=e,this.Rs=new pa(t=>Wo(t),tl),this.lastRemoteSnapshotVersion=Jn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Mh,this.targetCount=0,this.vs=Fl.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,l)=>t(l)),Ot.resolve()}getLastRemoteSnapshotVersion(e){return Ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ot.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Ot.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),Ot.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Fl(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Ot.resolve()}updateTargetData(e,t){return this.Dn(t),Ot.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Ot.resolve()}removeTargets(e,t,o){let l=0;const h=[];return this.Rs.forEach((g,x)=>{x.sequenceNumber<=t&&null===o.get(x.targetId)&&(this.Rs.delete(g),h.push(this.removeMatchingKeysForTargetId(e,x.targetId)),l++)}),Ot.waitFor(h).next(()=>l)}getTargetCount(e){return Ot.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return Ot.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),Ot.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const l=this.persistence.referenceDelegate,h=[];return l&&t.forEach(g=>{h.push(l.markPotentiallyOrphaned(e,g))}),Ot.waitFor(h)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Ot.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return Ot.resolve(o)}containsKey(e,t){return Ot.resolve(this.Ps.containsKey(t))}}class kh{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new _(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new em(this),this.indexManager=new G_,this.remoteDocumentCache=new Rh(o=>this.referenceDelegate.xs(o)),this.It=new Wf(t),this.Ns=new Qg(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Xg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new Jg(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){rn("MemoryPersistence","Starting transaction:",e);const l=new tm(this.Ss.next());return this.referenceDelegate.ks(),o(l).next(h=>this.referenceDelegate.Ms(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Os(e,t){return Ot.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class tm extends Jc{constructor(e){super(),this.currentSequenceNumber=e}}class vc{constructor(e){this.persistence=e,this.Fs=new Mh,this.$s=null}static Bs(e){return new vc(e)}get Ls(){if(this.$s)return this.$s;throw In()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),Ot.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),Ot.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Ot.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(l=>this.Ls.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(h=>this.Ls.add(h.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ot.forEach(this.Ls,o=>{const l=yn.fromPath(o);return this.Us(e,l).next(h=>{h||t.removeEntry(l,Jn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return Ot.or([()=>Ot.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class Dd{constructor(e){this.It=e}$(e,t,o,l){const h=new as("createOrUpgrade",t);var x;o<1&&l>=1&&(e.createObjectStore("owner"),(x=e).createObjectStore("mutationQueues",{keyPath:"userId"}),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yd,{unique:!0}),x.createObjectStore("documentMutations"),nm(e),function(x){x.createObjectStore("remoteDocuments")}(e));let g=Ot.resolve();return o<3&&l>=3&&(0!==o&&(function(x){x.deleteObjectStore("targetDocuments"),x.deleteObjectStore("targets"),x.deleteObjectStore("targetGlobal")}(e),nm(e)),g=g.next(()=>function(x){const H=x.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Jn.min().toTimestamp(),targetCount:0};return H.put("targetGlobalKey",Q)}(h))),o<4&&l>=4&&(0!==o&&(g=g.next(()=>function(x,H){return H.store("mutations").W().next(Q=>{x.deleteObjectStore("mutations"),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yd,{unique:!0});const Ae=H.store("mutations"),Ze=Q.map(xt=>Ae.put(xt));return Ot.waitFor(Ze)})}(e,h))),g=g.next(()=>{!function(x){x.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(g=g.next(()=>this.qs(h))),o<6&&l>=6&&(g=g.next(()=>(function(x){x.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(h)))),o<7&&l>=7&&(g=g.next(()=>this.Gs(h))),o<8&&l>=8&&(g=g.next(()=>this.Qs(e,h))),o<9&&l>=9&&(g=g.next(()=>{!function(x){x.objectStoreNames.contains("remoteDocumentChanges")&&x.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(g=g.next(()=>this.js(h))),o<11&&l>=11&&(g=g.next(()=>{(function(x){x.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(x){x.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(g=g.next(()=>{!function(x){const H=x.createObjectStore("documentOverlays",{keyPath:Hf});H.createIndex("collectionPathOverlayIndex",vd,{unique:!1}),H.createIndex("collectionGroupOverlayIndex",Ky,{unique:!1})}(e)})),o<13&&l>=13&&(g=g.next(()=>function(x){const H=x.createObjectStore("remoteDocumentsV14",{keyPath:Lf});H.createIndex("documentKeyIndex",xg),H.createIndex("collectionGroupIndex",Ih)}(e)).next(()=>this.Ws(e,h)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(g=g.next(()=>this.zs(e,h))),o<15&&l>=15&&(g=g.next(()=>function(x){x.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),x.createObjectStore("indexState",{keyPath:Mg}).createIndex("sequenceNumberIndex",Rg,{unique:!1}),x.createObjectStore("indexEntries",{keyPath:Uf}).createIndex("documentKeyIndex",Wy,{unique:!1})}(e))),g}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,l)=>{t+=Cd(l)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(l=>Ot.forEach(l,h=>{const g=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",g).next(x=>Ot.forEach(x,H=>{Yn(H.userId===h.userId);const Q=Ol(this.It,H);return Sh(e,h.userId,Q).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const h=[];return o.Z((g,x)=>{const H=new jr(g),Q=[0,To(H)];h.push(t.get(Q).next(Ae=>Ae?Ot.resolve():t.put({targetId:0,path:To(H),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>Ot.waitFor(h))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Tg});const o=t.store("collectionParents"),l=new Va,h=g=>{if(l.add(g)){const x=g.lastSegment(),H=g.popLast();return o.put({collectionId:x,parent:To(H)})}};return t.store("remoteDocuments").Z({X:!0},(g,x)=>{const H=new jr(g);return h(H.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([g,x,H],Q)=>{const Ae=La(x);return h(Ae.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,l)=>{const h=ao(l),g=cc(this.It,h);return t.put(g)})}Ws(e,t){const o=t.store("remoteDocuments"),l=[];return o.Z((h,g)=>{const x=t.store("remoteDocumentsV14"),H=(Q=g,Q.document?new yn(jr.fromString(Q.document.name).popFirst(5)):Q.noDocument?yn.fromSegments(Q.noDocument.path):Q.unknownDocument?yn.fromSegments(Q.unknownDocument.path):In()).path.toArray();var Q;const Ae={prefixPath:H.slice(0,H.length-2),collectionGroup:H[H.length-2],documentId:H[H.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};l.push(x.put(Ae))}).next(()=>Ot.waitFor(l))}zs(e,t){const o=t.store("mutations"),l=Jf(this.It),h=new kh(vc.Bs,this.It.re);return o.W().next(g=>{const x=new Map;return g.forEach(H=>{var Q;let Ae=null!==(Q=x.get(H.userId))&&void 0!==Q?Q:$r();Ol(this.It,H).keys().forEach(Ze=>Ae=Ae.add(Ze)),x.set(H.userId,Ae)}),Ot.forEach(x,(H,Q)=>{const Ae=new ur(Q),Ze=bd.oe(this.It,Ae),xt=h.getIndexManager(Ae),Yt=Qf.oe(Ae,this.It,xt,h.referenceDelegate);return new Zg(l,Yt,Ze,xt).recalculateAndSaveOverlaysForDocumentKeys(new Gf(t,_.at),H).next()})})}}function nm(i){i.createObjectStore("targetDocuments",{keyPath:Sg}).createIndex("documentTargetsIndex",Bf,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Vf,{unique:!0}),i.createObjectStore("targetGlobal")}const Ph="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ep{constructor(e,t,o,l,h,g,x,H,Q,Ae,Ze=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=h,this.window=g,this.document=x,this.Js=Q,this.Ys=Ae,this.Xs=Ze,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=xt=>Promise.resolve(),!ep.C())throw new wt(kt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Wg(this,l),this.ii=t+"main",this.It=new Wf(H),this.ri=new po(this.ii,this.Xs,new Dd(this.It)),this.Cs=new tv(this.referenceDelegate,this.It),this.remoteDocumentCache=Jf(this.It),this.Ns=new Qy,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===Ae&&Zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new wt(kt.FAILED_PRECONDITION,Ph);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new _(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,Fe.Z)(function*(l){if(t.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Fe.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Fe.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ad(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Vo(e))return rn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return rn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Id(e).get("owner").next(t=>Ot.resolve(this.mi(t)))}gi(e){return Ad(e).delete(this.clientId)}yi(){var e=this;return(0,Fe.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=Mo(o,"clientMetadata");return l.W().next(h=>{const g=e.Ii(h,18e5),x=h.filter(H=>-1===g.indexOf(H));return Ot.forEach(x,H=>l.delete(H.clientId)).next(()=>x)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Ot.resolve(!0):Id(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new wt(kt.FAILED_PRECONDITION,Ph);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ad(e).W().next(o=>void 0===this.Ii(o,5e3).find(l=>{if(this.clientId!==l.clientId){const g=!this.inForeground&&l.inForeground,x=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||g&&x)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&rn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Fe.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Gf(t,_.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Ad(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Qf.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Zf(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return bd.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){rn("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",h=15===(g=this.Xs)?Yy:14===g?kg:13===g?jf:12===g?qy:11===g?Og:void In();var g;let x;return this.ri.runTransaction(e,l,h,H=>(x=new Gf(H,this.Ss?this.Ss.next():_.at),"readwrite-primary"===t?this.fi(x).next(Q=>!!Q||this.di(x)).next(Q=>{if(!Q)throw Zr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new wt(kt.FAILED_PRECONDITION,xa);return o(x)}).next(Q=>this.wi(x).next(()=>Q)):this.Vi(x).next(()=>o(x)))).then(H=>(x.raiseOnCommittedEvent(),H))}Vi(e){return Id(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new wt(kt.FAILED_PRECONDITION,Ph)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Id(e).put("owner",t)}static C(){return po.C()}_i(e){const t=Id(e);return t.get("owner").next(o=>this.mi(o)?(rn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ot.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Zr(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Ie.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return rn("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Zr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Zr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Id(i){return Mo(i,"owner")}function Ad(i){return Mo(i,"clientMetadata")}function xd(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Fh{constructor(e,t,o,l){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=l}static Ci(e,t){let o=$r(),l=$r();for(const h of t.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Fh(e,t.fromCache,o,l)}}class sv{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,l){return this.ki(e,t).next(h=>h||this.Mi(e,t,l,o)).next(h=>h||this.Oi(e,t))}ki(e,t){if(Qu(t))return Ot.resolve(null);let o=qo(t);return this.indexManager.getIndexType(e,o).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=zl(t,null,"F"),o=qo(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(h=>{const g=$r(...h);return this.Ni.getDocuments(e,g).next(x=>this.indexManager.getMinOffset(e,o).next(H=>{const Q=this.Fi(t,x);return this.$i(t,Q,g,H.readTime)?this.ki(e,zl(t,null,"F")):this.Bi(e,Q,t,H)}))})))}Mi(e,t,o,l){return Qu(t)||l.isEqual(Jn.min())?this.Oi(e,t):this.Ni.getDocuments(e,o).next(h=>{const g=this.Fi(t,h);return this.$i(t,g,o,l)?this.Oi(e,t):(bs()<=we.in.DEBUG&&rn("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),id(t)),this.Bi(e,g,t,vu(l,-1)))})}Fi(e,t){let o=new Xt(sd(e));return t.forEach((l,h)=>{aa(e,h)&&(o=o.add(h))}),o}$i(e,t,o,l){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const h="F"===e.limitType?t.last():t.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Oi(e,t){return bs()<=we.in.DEBUG&&rn("QueryEngine","Using full collection scan to execute query:",id(t)),this.Ni.getDocumentsMatchingQuery(e,t,Io.min())}Bi(e,t,o,l){return this.Ni.getDocumentsMatchingQuery(e,o,l).next(h=>(t.forEach(g=>{h=h.insert(g.key,g)}),h))}}class rm{constructor(e,t,o,l){this.persistence=e,this.Li=t,this.It=l,this.Ui=new Oe(Wn),this.qi=new pa(h=>Wo(h),tl),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zg(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function im(i,e,t,o){return new rm(i,e,t,o)}function tp(i,e){return np.apply(this,arguments)}function np(){return np=(0,Fe.Z)(function*(i,e){const t=Cn(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let l;return t.mutationQueue.getAllMutationBatches(o).next(h=>(l=h,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(h=>{const g=[],x=[];let H=$r();for(const Q of l){g.push(Q.batchId);for(const Ae of Q.mutations)H=H.add(Ae.key)}for(const Q of h){x.push(Q.batchId);for(const Ae of Q.mutations)H=H.add(Ae.key)}return t.localDocuments.getDocuments(o,H).next(Q=>({ji:Q,removedBatchIds:g,addedBatchIds:x}))})})}),np.apply(this,arguments)}function ov(i,e){const t=Cn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),h=t.Gi.newChangeBuffer({trackRemovals:!0});return function(g,x,H,Q){const Ae=H.batch,Ze=Ae.keys();let xt=Ot.resolve();return Ze.forEach(Yt=>{xt=xt.next(()=>Q.getEntry(x,Yt)).next(Jt=>{const Pn=H.docVersions.get(Yt);Yn(null!==Pn),Jt.version.compareTo(Pn)<0&&(Ae.applyToRemoteDocument(Jt,H),Jt.isValidDocument()&&(Jt.setReadTime(H.commitVersion),Q.addEntry(Jt)))})}),xt.next(()=>g.mutationQueue.removeMutationBatch(x,Ae))}(t,o,e,h).next(()=>h.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(g){let x=$r();for(let H=0;H<g.mutationResults.length;++H)g.mutationResults[H].transformResults.length>0&&(x=x.add(g.batch.mutations[H].key));return x}(e))).next(()=>t.localDocuments.getDocuments(o,l))})}function Ba(i){const e=Cn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function av(i,e){const t=Cn(i),o=e.snapshotVersion;let l=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const g=t.Gi.newChangeBuffer({trackRemovals:!0});l=t.Ui;const x=[];e.targetChanges.forEach((Ae,Ze)=>{const xt=l.get(Ze);if(!xt)return;x.push(t.Cs.removeMatchingKeys(h,Ae.removedDocuments,Ze).next(()=>t.Cs.addMatchingKeys(h,Ae.addedDocuments,Ze)));let Yt=xt.withSequenceNumber(h.currentSequenceNumber);var Jt,Pn,er;e.targetMismatches.has(Ze)?Yt=Yt.withResumeToken(mi.EMPTY_BYTE_STRING,Jn.min()).withLastLimboFreeSnapshotVersion(Jn.min()):Ae.resumeToken.approximateByteSize()>0&&(Yt=Yt.withResumeToken(Ae.resumeToken,o)),l=l.insert(Ze,Yt),Pn=Yt,er=Ae,(0===(Jt=xt).resumeToken.approximateByteSize()||Pn.snapshotVersion.toMicroseconds()-Jt.snapshotVersion.toMicroseconds()>=3e8||er.addedDocuments.size+er.modifiedDocuments.size+er.removedDocuments.size>0)&&x.push(t.Cs.updateTargetData(h,Yt))});let H=Ho(),Q=$r();if(e.documentUpdates.forEach(Ae=>{e.resolvedLimboDocuments.has(Ae)&&x.push(t.persistence.referenceDelegate.updateLimboDocument(h,Ae))}),x.push(rp(h,g,e.documentUpdates).next(Ae=>{H=Ae.Wi,Q=Ae.zi})),!o.isEqual(Jn.min())){const Ae=t.Cs.getLastRemoteSnapshotVersion(h).next(Ze=>t.Cs.setTargetsMetadata(h,h.currentSequenceNumber,o));x.push(Ae)}return Ot.waitFor(x).next(()=>g.apply(h)).next(()=>t.localDocuments.getLocalViewOfDocuments(h,H,Q)).next(()=>H)}).then(h=>(t.Ui=l,h))}function rp(i,e,t){let o=$r(),l=$r();return t.forEach(h=>o=o.add(h)),e.getEntries(i,o).next(h=>{let g=Ho();return t.forEach((x,H)=>{const Q=h.get(x);H.isFoundDocument()!==Q.isFoundDocument()&&(l=l.add(x)),H.isNoDocument()&&H.version.isEqual(Jn.min())?(e.removeEntry(x,H.readTime),g=g.insert(x,H)):!Q.isValidDocument()||H.version.compareTo(Q.version)>0||0===H.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry(H),g=g.insert(x,H)):rn("LocalStore","Ignoring outdated watch update for ",x,". Current version:",Q.version," Watch version:",H.version)}),{Wi:g,zi:l}})}function lv(i,e){const t=Cn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function _c(i,e){const t=Cn(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return t.Cs.getTargetData(o,e).next(h=>h?(l=h,Ot.resolve(l)):t.Cs.allocateTargetId(o).next(g=>(l=new tu(e,g,0,o.currentSequenceNumber),t.Cs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=t.Ui.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}function bc(i,e,t){return ip.apply(this,arguments)}function ip(){return ip=(0,Fe.Z)(function*(i,e,t){const o=Cn(i),l=o.Ui.get(e),h=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",h,g=>o.persistence.referenceDelegate.removeTarget(g,l)))}catch(g){if(!Vo(g))throw g;rn("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.Ui=o.Ui.remove(e),o.qi.delete(l.target)}),ip.apply(this,arguments)}function Sd(i,e,t){const o=Cn(i);let l=Jn.min(),h=$r();return o.persistence.runTransaction("Execute query","readonly",g=>function(x,H,Q){const Ae=Cn(x),Ze=Ae.qi.get(Q);return void 0!==Ze?Ot.resolve(Ae.Ui.get(Ze)):Ae.Cs.getTargetData(H,Q)}(o,g,qo(e)).next(x=>{if(x)return l=x.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(g,x.targetId).next(H=>{h=H})}).next(()=>o.Li.getDocumentsMatchingQuery(g,e,t?l:Jn.min(),t?h:$r())).next(x=>(am(o,Dl(e),x),{documents:x,Hi:h})))}function sm(i,e){const t=Cn(i),o=Cn(t.Cs),l=t.Ui.get(e);return l?Promise.resolve(l.target):t.persistence.runTransaction("Get target data","readonly",h=>o.se(h,e).next(g=>g?g.target:null))}function om(i,e){const t=Cn(i),o=t.Ki.get(e)||Jn.min();return t.persistence.runTransaction("Get new document changes","readonly",l=>t.Gi.getAllFromCollectionGroup(l,e,vu(o,-1),Number.MAX_SAFE_INTEGER)).then(l=>(am(t,e,l),l))}function am(i,e,t){let o=Jn.min();t.forEach((l,h)=>{h.readTime.compareTo(o)>0&&(o=h.readTime)}),i.Ki.set(e,o)}function Nh(){return Nh=(0,Fe.Z)(function*(i,e,t,o){const l=Cn(i);let h=$r(),g=Ho();for(const Q of t){const Ae=e.Ji(Q.metadata.name);Q.document&&(h=h.add(Ae));const Ze=e.Yi(Q);Ze.setReadTime(e.Xi(Q.metadata.readTime)),g=g.insert(Ae,Ze)}const x=l.Gi.newChangeBuffer({trackRemovals:!0}),H=yield _c(l,(Q=o,qo(Fa(jr.fromString(`__bundle__/docs/${Q}`)))));var Q;return l.persistence.runTransaction("Apply bundle documents","readwrite",Q=>rp(Q,x,g).next(Ae=>(x.apply(Q),Ae)).next(Ae=>l.Cs.removeMatchingKeysForTargetId(Q,H.targetId).next(()=>l.Cs.addMatchingKeys(Q,h,H.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(Q,Ae.Wi,Ae.zi)).next(()=>Ae.Wi)))}),Nh.apply(this,arguments)}function lm(i,e){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,Fe.Z)(function*(i,e,t=$r()){const o=yield _c(i,qo(Ah(e.bundledQuery))),l=Cn(i);return l.persistence.runTransaction("Save named query","readwrite",h=>{const g=Ii(e.readTime);if(o.snapshotVersion.compareTo(g)>=0)return l.Ns.saveNamedQuery(h,e);const x=o.withResumeToken(mi.EMPTY_BYTE_STRING,g);return l.Ui=l.Ui.insert(x.targetId,x),l.Cs.updateTargetData(h,x).next(()=>l.Cs.removeMatchingKeysForTargetId(h,o.targetId)).next(()=>l.Cs.addMatchingKeys(h,t,o.targetId)).next(()=>l.Ns.saveNamedQuery(h,e))})}),Lh.apply(this,arguments)}function um(i,e){return`firestore_clients_${i}_${e}`}function cm(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Vh(i,e){return`firestore_targets_${i}_${e}`}class Bh{constructor(e,t,o,l){this.user=e,this.batchId=t,this.state=o,this.error=l}static Zi(e,t,o){const l=JSON.parse(o);let h,g="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return g&&l.error&&(g="string"==typeof l.error.message&&"string"==typeof l.error.code,g&&(h=new wt(l.error.code,l.error.message))),g?new Bh(e,t,l.state,h):(Zr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ec{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Zi(e,t){const o=JSON.parse(t);let l,h="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new wt(o.error.code,o.error.message))),h?new Ec(e,o.state,l):(Zr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Uh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const o=JSON.parse(t);let l="object"==typeof o&&o.activeTargetIds instanceof Array,h=xu();for(let g=0;l&&g<o.activeTargetIds.length;++g)l=fa(o.activeTargetIds[g]),h=h.add(o.activeTargetIds[g]);return l?new Uh(e,h):(Zr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class sp{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new sp(t.clientId,t.onlineState):(Zr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dm{constructor(){this.activeTargetIds=xu()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hh{constructor(e,t,o,l,h){this.window=e,this.Hs=t,this.persistenceKey=o,this.sr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Oe(Wn),this.started=!1,this.cr=[];const g=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.ar=um(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new dm),this.lr=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(x){return`firestore_bundle_loaded_v2_${x}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Fe.Z)(function*(){const t=yield e.syncEngine.vi();for(const l of t){if(l===e.sr)continue;const h=e.getItem(um(e.persistenceKey,l));if(h){const g=Uh.Zi(l,h);g&&(e.ur=e.ur.insert(g.clientId,g))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const l=e.yr(o);l&&e.pr(l)}for(const l of e.cr)e.rr(l);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((o,l)=>{l.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,o){this.Tr(e,t,o),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Vh(this.persistenceKey,e));if(o){const l=Ec.Zi(e,o);l&&(t=l.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Vh(this.persistenceKey,e))}updateQueryState(e,t,o){this.Rr(e,t,o)}handleUserChange(e,t,o){t.forEach(l=>{this.Er(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return rn("SharedClientState","READ",e,t),t}setItem(e,t){rn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){rn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(rn("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void Zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Fe.Z)(function*(){if(t.started){if(null!==o.key)if(t.lr.test(o.key)){if(null==o.newValue){const l=t.vr(o.key);return t.Vr(l,null)}{const l=t.Sr(o.key,o.newValue);if(l)return t.Vr(l.clientId,l)}}else if(t.dr.test(o.key)){if(null!==o.newValue){const l=t.Dr(o.key,o.newValue);if(l)return t.Cr(l)}}else if(t._r.test(o.key)){if(null!==o.newValue){const l=t.Nr(o.key,o.newValue);if(l)return t.kr(l)}}else if(o.key===t.wr){if(null!==o.newValue){const l=t.yr(o.newValue);if(l)return t.pr(l)}}else if(o.key===t.hr){const l=function(h){let g=_.at;if(null!=h)try{const x=JSON.parse(h);Yn("number"==typeof x),g=x}catch(x){Zr("SharedClientState","Failed to read sequence number from WebStorage",x)}return g}(o.newValue);l!==_.at&&t.sequenceNumberHandler(l)}else if(o.key===t.mr){const l=t.Mr(o.newValue);yield Promise.all(l.map(h=>t.syncEngine.Or(h)))}}else t.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,o){const l=new Bh(this.currentUser,e,t,o),h=cm(this.persistenceKey,this.currentUser,e);this.setItem(h,l.tr())}Er(e){const t=cm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,o){const l=Vh(this.persistenceKey,e),h=new Ec(e,t,o);this.setItem(l,h.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const o=this.vr(e);return Uh.Zi(o,t)}Dr(e,t){const o=this.dr.exec(e),l=Number(o[1]);return Bh.Zi(new ur(void 0!==o[2]?o[2]:null),l,t)}Nr(e,t){const o=this._r.exec(e),l=Number(o[1]);return Ec.Zi(l,t)}yr(e){return sp.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Fe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);rn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const o=t?this.ur.insert(e,t):this.ur.remove(e),l=this.Ir(this.ur),h=this.Ir(o),g=[],x=[];return h.forEach(H=>{l.has(H)||g.push(H)}),l.forEach(H=>{h.has(H)||x.push(H)}),this.syncEngine.Br(g,x).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=xu();return e.forEach((o,l)=>{t=t.unionWith(l.activeTargetIds)}),t}}class op{constructor(){this.Lr=new dm,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,o){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new dm,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Lu{qr(e){}shutdown(){}}class hm{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){rn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){rn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const ap={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class lp{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class uv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,o,l,h){const g=this.ao(e,t);rn("RestConnection","Sending: ",g,o);const x={};return this.ho(x,l,h),this.lo(e,g,x,o).then(H=>(rn("RestConnection","Received: ",H),H),H=>{throw zi("RestConnection",`${e} failed with error: `,H,"url: ",g,"request:",o),H})}fo(e,t,o,l,h,g){return this.co(e,t,o,l,h)}ho(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ni,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,h)=>e[h]=l),o&&o.headers.forEach((l,h)=>e[h]=l)}ao(e,t){return`${this.oo}/v1/${t}:${ap[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,o,l){return new Promise((h,g)=>{const x=new ii;x.listenOnce(jn.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case kn.NO_ERROR:const Q=x.getResponseJson();rn("Connection","XHR received:",JSON.stringify(Q)),h(Q);break;case kn.TIMEOUT:rn("Connection",'RPC "'+e+'" timed out'),g(new wt(kt.DEADLINE_EXCEEDED,"Request time out"));break;case kn.HTTP_ERROR:const Ae=x.getStatus();if(rn("Connection",'RPC "'+e+'" failed with status:',Ae,"response text:",x.getResponseText()),Ae>0){const Ze=x.getResponseJson().error;if(Ze&&Ze.status&&Ze.message){const xt=function(Yt){const Jt=Yt.toLowerCase().replace(/_/g,"-");return Object.values(kt).indexOf(Jt)>=0?Jt:kt.UNKNOWN}(Ze.status);g(new wt(xt,Ze.message))}else g(new wt(kt.UNKNOWN,"Server responded with status "+x.getStatus()))}else g(new wt(kt.UNAVAILABLE,"Connection failed."));break;default:In()}}finally{rn("Connection",'RPC "'+e+'" completed.')}});const H=JSON.stringify(l);x.send(t,"POST",H,o,15)})}_o(e,t,o){const l=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=It(),g=qt(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(x.xmlHttpFactory=new lr({})),this.ho(x.initMessageHeaders,t,o),x.encodeInitMessageHeaders=!0;const H=l.join("");rn("Connection","Creating WebChannel: "+H,x);const Q=h.createWebChannel(H,x);let Ae=!1,Ze=!1;const xt=new lp({Hr:Jt=>{Ze?rn("Connection","Not sending because WebChannel is closed:",Jt):(Ae||(rn("Connection","Opening WebChannel transport."),Q.open(),Ae=!0),rn("Connection","WebChannel sending:",Jt),Q.send(Jt))},Jr:()=>Q.close()}),Yt=(Jt,Pn,er)=>{Jt.listen(Pn,Si=>{try{er(Si)}catch(Ji){setTimeout(()=>{throw Ji},0)}})};return Yt(Q,dr.EventType.OPEN,()=>{Ze||rn("Connection","WebChannel transport opened.")}),Yt(Q,dr.EventType.CLOSE,()=>{Ze||(Ze=!0,rn("Connection","WebChannel transport closed"),xt.io())}),Yt(Q,dr.EventType.ERROR,Jt=>{Ze||(Ze=!0,zi("Connection","WebChannel transport errored:",Jt),xt.io(new wt(kt.UNAVAILABLE,"The operation could not be completed")))}),Yt(Q,dr.EventType.MESSAGE,Jt=>{var Pn;if(!Ze){const er=Jt.data[0];Yn(!!er);const Si=er,Ji=Si.error||(null===(Pn=Si[0])||void 0===Pn?void 0:Pn.error);if(Ji){rn("Connection","WebChannel received error:",Ji);const Ti=Ji.status;let Ms=function(Bi){const yo=js[Bi];if(void 0!==yo)return yh(yo)}(Ti),Oi=Ji.message;void 0===Ms&&(Ms=kt.INTERNAL,Oi="Unknown error status: "+Ti+" with message "+Ji.message),Ze=!0,xt.io(new wt(Ms,Oi)),Q.close()}else rn("Connection","WebChannel received:",er),xt.ro(er)}}),Yt(g,Or.STAT_EVENT,Jt=>{Jt.stat===wr.PROXY?rn("Connection","Detected buffering proxy"):Jt.stat===wr.NOPROXY&&rn("Connection","Detected no buffering proxy")}),setTimeout(()=>{xt.so()},0),xt}}function cv(){return typeof window<"u"?window:null}function up(){return typeof document<"u"?document:null}function jh(i){return new fd(i,!0)}class cp{constructor(e,t,o=1e3,l=1.5,h=6e4){this.Hs=e,this.timerId=t,this.wo=o,this.mo=l,this.yo=h,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),o=Math.max(0,Date.now()-this.To),l=Math.max(0,t-o);l>0&&rn("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,l,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class dp{constructor(e,t,o,l,h,g,x,H){this.Hs=e,this.Po=o,this.vo=l,this.Vo=h,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=x,this.listener=H,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new cp(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Fe.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Fe.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,Fe.Z)(function*(){o.Lo(),o.Uo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===kt.RESOURCE_EXHAUSTED?(Zr(t.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),o.xo.Eo()):t&&t.code===kt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.So===t&&this.Go(o,l)},o=>{e(()=>{const l=new wt(kt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(l)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(l=>{o(()=>this.Qo(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,Fe.Z)(function*(){e.state=0,e.start()}))}Qo(e){return rn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(rn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $_ extends dp{constructor(e,t,o,l,h,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,l,g),this.It=h}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Nf(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(H=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===H?1:"REMOVE"===H?2:"CURRENT"===H?3:"RESET"===H?4:In(),l=e.targetChange.targetIds||[],h=function(H,Q){return H.gt?(Yn(void 0===Q||"string"==typeof Q),mi.fromBase64String(Q||"")):(Yn(void 0===Q||Q instanceof Uint8Array),mi.fromUint8Array(Q||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,x=g&&function(H){const Q=void 0===H.code?kt.UNKNOWN:yh(H.code);return new wt(Q,H.message||"")}(g);t=new Tu(o,l,h,x||null)}else if("documentChange"in e){const o=e.documentChange,l=Cs(i,o.document.name),h=Ii(o.document.updateTime),g=new ms({mapValue:{fields:o.document.fields}}),x=Di.newFoundDocument(l,h,g);t=new Su(o.targetIds||[],o.removedTargetIds||[],x.key,x)}else if("documentDelete"in e){const o=e.documentDelete,l=Cs(i,o.document),h=o.readTime?Ii(o.readTime):Jn.min(),g=Di.newNoDocument(l,h);t=new Su([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,l=Cs(i,o.document);t=new Su([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return In();{const o=e.filter,h=new mh(o.count||0);t=new ac(o.targetId,h)}}var H;return t}(this.It,e),o=function(l){if(!("targetChange"in l))return Jn.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Jn.min():h.readTime?Ii(h.readTime):Jn.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=Xl(this.It),t.addTarget=function(l,h){let g;const x=h.target;return g=Eu(x)?{documents:p(l,x)}:{query:E(l,x)},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?g.resumeToken=ll(l,h.resumeToken):h.snapshotVersion.compareTo(Jn.min())>0&&(g.readTime=al(l,h.snapshotVersion.toTimestamp())),g}(this.It,e);const o=function ve(i,e){const t=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return In()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=Xl(this.It),t.removeTarget=e,this.Bo(t)}}class dv extends dp{constructor(e,t,o,l,h,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,l,g),this.It=h,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(Yn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function d(i,e){return i&&i.length>0?(Yn(void 0!==e),i.map(t=>function(o,l){let h=Ii(o.updateTime?o.updateTime:l);return h.isEqual(Jn.min())&&(h=Ii(l)),new Ag(h,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Ii(e.commitTime);return this.listener.Zo(o,t)}return Yn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Xl(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>eu(this.It,o))};this.Bo(t)}}class wc extends class{}{constructor(e,t,o,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=o,this.It=l,this.nu=!1}su(){if(this.nu)throw new wt(kt.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.Vo.co(e,t,o,l,h)).catch(l=>{throw"FirebaseError"===l.name?(l.code===kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new wt(kt.UNKNOWN,l.toString())})}fo(e,t,o,l){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.Vo.fo(e,t,o,h,g,l)).catch(h=>{throw"FirebaseError"===h.name?(h.code===kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new wt(kt.UNKNOWN,h.toString())})}terminate(){this.nu=!0}}class hv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Zr(t),this.ou=!1):rn("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class fm{constructor(e,t,o,l,h){var g=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=h,this.mu.qr(x=>{o.enqueueAndForget((0,Fe.Z)(function*(){var H;Nl(g)&&(rn("RemoteStore","Restarting streams for network reachability change."),yield(H=(0,Fe.Z)(function*(Q){const Ae=Cn(Q);Ae._u.add(4),yield Vu(Ae),Ae.gu.set("Unknown"),Ae._u.delete(4),yield ou(Ae)}),function(Q){return H.apply(this,arguments)})(g))}))}),this.gu=new hv(o,l)}}function ou(i){return hp.apply(this,arguments)}function hp(){return hp=(0,Fe.Z)(function*(i){if(Nl(i))for(const e of i.wu)yield e(!0)}),hp.apply(this,arguments)}function Vu(i){return fp.apply(this,arguments)}function fp(){return fp=(0,Fe.Z)(function*(i){for(const e of i.wu)yield e(!1)}),fp.apply(this,arguments)}function Gh(i,e){const t=Cn(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),gp(t)?$h(t):Dc(t).ko()&&pp(t,e))}function Td(i,e){const t=Cn(i),o=Dc(t);t.du.delete(e),o.ko()&&pm(t,e),0===t.du.size&&(o.ko()?o.Fo():Nl(t)&&t.gu.set("Unknown"))}function pp(i,e){i.yu.Ot(e.targetId),Dc(i).zo(e)}function pm(i,e){i.yu.Ot(e),Dc(i).Ho(e)}function $h(i){i.yu=new xl({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i.du.get(e)||null}),Dc(i).start(),i.gu.uu()}function gp(i){return Nl(i)&&!Dc(i).No()&&i.du.size>0}function Nl(i){return 0===Cn(i)._u.size}function mp(i){i.yu=void 0}function yp(i){return gm.apply(this,arguments)}function gm(){return gm=(0,Fe.Z)(function*(i){i.du.forEach((e,t)=>{pp(i,e)})}),gm.apply(this,arguments)}function vp(i,e){return _p.apply(this,arguments)}function _p(){return _p=(0,Fe.Z)(function*(i,e){mp(i),gp(i)?(i.gu.hu(e),$h(i)):i.gu.set("Unknown")}),_p.apply(this,arguments)}function z_(i,e,t){return au.apply(this,arguments)}function au(){return au=(0,Fe.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof Tu&&2===e.state&&e.cause)try{yield(o=(0,Fe.Z)(function*(l,h){const g=h.cause;for(const x of h.targetIds)l.du.has(x)&&(yield l.remoteSyncer.rejectListen(x,g),l.du.delete(x),l.yu.removeTarget(x))}),function(l,h){return o.apply(this,arguments)})(i,e)}catch(o){rn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Md(i,o)}else if(e instanceof Su?i.yu.Gt(e):e instanceof ac?i.yu.Yt(e):i.yu.Wt(e),!t.isEqual(Jn.min()))try{const o=yield Ba(i.localStore);t.compareTo(o)>=0&&(yield function(l,h){const g=l.yu.te(h);return g.targetChanges.forEach((x,H)=>{if(x.resumeToken.approximateByteSize()>0){const Q=l.du.get(H);Q&&l.du.set(H,Q.withResumeToken(x.resumeToken,h))}}),g.targetMismatches.forEach(x=>{const H=l.du.get(x);if(!H)return;l.du.set(x,H.withResumeToken(mi.EMPTY_BYTE_STRING,H.snapshotVersion)),pm(l,x);const Q=new tu(H.target,x,1,H.sequenceNumber);pp(l,Q)}),l.remoteSyncer.applyRemoteEvent(g)}(i,t))}catch(o){rn("RemoteStore","Failed to raise snapshot:",o),yield Md(i,o)}var o}),au.apply(this,arguments)}function Md(i,e,t){return zh.apply(this,arguments)}function zh(){return zh=(0,Fe.Z)(function*(i,e,t){if(!Vo(e))throw e;i._u.add(1),yield Vu(i),i.gu.set("Offline"),t||(t=()=>Ba(i.localStore)),i.asyncQueue.enqueueRetryable((0,Fe.Z)(function*(){rn("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield ou(i)}))}),zh.apply(this,arguments)}function Rd(i,e){return e().catch(t=>Md(i,t,e))}function Qo(i){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,Fe.Z)(function*(i){const e=Cn(i),t=lu(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;fv(e);)try{const l=yield lv(e.localStore,o);if(null===l){0===e.fu.length&&t.Fo();break}o=l.batchId,bp(e,l)}catch(l){yield Md(e,l)}cl(e)&&Kh(e)}),Wh.apply(this,arguments)}function fv(i){return Nl(i)&&i.fu.length<10}function bp(i,e){i.fu.push(e);const t=lu(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function cl(i){return Nl(i)&&!lu(i).No()&&i.fu.length>0}function Kh(i){lu(i).start()}function mm(i){return Od.apply(this,arguments)}function Od(){return Od=(0,Fe.Z)(function*(i){lu(i).eu()}),Od.apply(this,arguments)}function W_(i){return qh.apply(this,arguments)}function qh(){return qh=(0,Fe.Z)(function*(i){const e=lu(i);for(const t of i.fu)e.Xo(t.mutations)}),qh.apply(this,arguments)}function K_(i,e,t){return Cc.apply(this,arguments)}function Cc(){return Cc=(0,Fe.Z)(function*(i,e,t){const o=i.fu.shift(),l=$f.from(o,e,t);yield Rd(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Qo(i)}),Cc.apply(this,arguments)}function Yh(i,e){return kd.apply(this,arguments)}function kd(){return kd=(0,Fe.Z)(function*(i,e){var t;e&&lu(i).Yo&&(yield(t=(0,Fe.Z)(function*(o,l){if(cd(h=l.code)&&h!==kt.ABORTED){const g=o.fu.shift();lu(o).Oo(),yield Rd(o,()=>o.remoteSyncer.rejectFailedWrite(g.batchId,l)),yield Qo(o)}var h}),function(o,l){return t.apply(this,arguments)})(i,e)),cl(i)&&Kh(i)}),kd.apply(this,arguments)}function Zh(i,e){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,Fe.Z)(function*(i,e){const t=Cn(i);t.asyncQueue.verifyOperationInProgress(),rn("RemoteStore","RemoteStore received new credentials");const o=Nl(t);t._u.add(3),yield Vu(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield ou(t)}),Pd.apply(this,arguments)}function ym(i,e){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,Fe.Z)(function*(i,e){const t=Cn(i);e?(t._u.delete(2),yield ou(t)):e||(t._u.add(2),yield Vu(t),t.gu.set("Unknown"))}),Ep.apply(this,arguments)}function Dc(i){return i.pu||(i.pu=function(e,t,o){const l=Cn(e);return l.su(),new $_(t,l.Vo,l.authCredentials,l.appCheckCredentials,l.It,o)}(i.datastore,i.asyncQueue,{Yr:yp.bind(null,i),Zr:vp.bind(null,i),Wo:z_.bind(null,i)}),i.wu.push(function(){var e=(0,Fe.Z)(function*(t){t?(i.pu.Oo(),gp(i)?$h(i):i.gu.set("Unknown")):(yield i.pu.stop(),mp(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function lu(i){return i.Iu||(i.Iu=function(e,t,o){const l=Cn(e);return l.su(),new dv(t,l.Vo,l.authCredentials,l.appCheckCredentials,l.It,o)}(i.datastore,i.asyncQueue,{Yr:mm.bind(null,i),Zr:Yh.bind(null,i),tu:W_.bind(null,i),Zo:K_.bind(null,i)}),i.wu.push(function(){var e=(0,Fe.Z)(function*(t){t?(i.Iu.Oo(),yield Qo(i)):(yield i.Iu.stop(),i.fu.length>0&&(rn("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class wp{constructor(e,t,o,l,h){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=l,this.removalCallback=h,this.deferred=new On,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,o,l,h){const g=Date.now()+o,x=new wp(e,t,g,l,h);return x.start(o),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wt(kt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bu(i,e){if(Zr("AsyncQueue",`${e}: ${i}`),Vo(i))return new wt(kt.UNAVAILABLE,`${e}: ${i}`);throw i}class Fd{constructor(e){this.comparator=e?(t,o)=>e(t,o)||yn.comparator(t.key,o.key):(t,o)=>yn.comparator(t.key,o.key),this.keyedMap=ic(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new Fd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=o.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Fd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class vm{constructor(){this.Tu=new Oe(yn.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):In():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Nd{constructor(e,t,o,l,h,g,x,H){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=h,this.fromCache=g,this.syncStateChanged=x,this.excludesMetadataChanges=H}static fromInitialDocuments(e,t,o,l){const h=[];return t.forEach(g=>{h.push({type:0,doc:g})}),new Nd(e,t,Fd.emptySet(t),h,o,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==o[l].type||!t[l].doc.isEqual(o[l].doc))return!1;return!0}}class _m{constructor(){this.Au=void 0,this.listeners=[]}}class bm{constructor(){this.queries=new pa(e=>rd(e),Cu),this.onlineState="Unknown",this.Ru=new Set}}function Cp(i,e){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,Fe.Z)(function*(i,e){const t=Cn(i),o=e.query;let l=!1,h=t.queries.get(o);if(h||(l=!0,h=new _m),l)try{h.Au=yield t.onListen(o)}catch(g){const x=Bu(g,`Initialization of query '${id(e.query)}' failed`);return void e.onError(x)}t.queries.set(o,h),h.listeners.push(e),e.bu(t.onlineState),h.Au&&e.Pu(h.Au)&&Cm(t)}),Ld.apply(this,arguments)}function Em(i,e){return wm.apply(this,arguments)}function wm(){return wm=(0,Fe.Z)(function*(i,e){const t=Cn(i),o=e.query;let l=!1;const h=t.queries.get(o);if(h){const g=h.listeners.indexOf(e);g>=0&&(h.listeners.splice(g,1),l=0===h.listeners.length)}if(l)return t.queries.delete(o),t.onUnlisten(o)}),wm.apply(this,arguments)}function q_(i,e){const t=Cn(i);let o=!1;for(const l of e){const g=t.queries.get(l.query);if(g){for(const x of g.listeners)x.Pu(l)&&(o=!0);g.Au=l}}o&&Cm(t)}function Y_(i,e,t){const o=Cn(i),l=o.queries.get(e);if(l)for(const h of l.listeners)h.onError(t);o.queries.delete(e)}function Cm(i){i.Ru.forEach(e=>{e.next()})}class Dm{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new Nd(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Nd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class Z_{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class pv{constructor(e){this.It=e}Ji(e){return Cs(this.It,e)}Yi(e){return e.metadata.exists?Eh(this.It,e.document,!1):Di.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Ii(e)}}class Q_{constructor(e,t,o){this.Mu=e,this.localStore=t,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=gv(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=jr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,o=new pv(this.It);for(const l of e)if(l.metadata.queries){const h=o.Ji(l.metadata.name);for(const g of l.metadata.queries){const x=(t.get(g)||$r()).add(h);t.set(g,x)}}return t}complete(){var e=this;return(0,Fe.Z)(function*(){const t=yield function zr(i,e,t,o){return Nh.apply(this,arguments)}(e.localStore,new pv(e.It),e.documents,e.Mu.id),o=e.Fu(e.documents);for(const l of e.queries)yield lm(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function gv(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Ll{constructor(e){this.key=e}}class Qh{constructor(e){this.key=e}}class Im{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=$r(),this.mutatedKeys=$r(),this.Ku=sd(e),this.Gu=new Fd(this.Ku)}get Qu(){return this.Lu}ju(e,t){const o=t?t.Wu:new vm,l=t?t.Gu:this.Gu;let h=t?t.mutatedKeys:this.mutatedKeys,g=l,x=!1;const H="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,Q="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((Ae,Ze)=>{const xt=l.get(Ae),Yt=aa(this.query,Ze)?Ze:null,Jt=!!xt&&this.mutatedKeys.has(xt.key),Pn=!!Yt&&(Yt.hasLocalMutations||this.mutatedKeys.has(Yt.key)&&Yt.hasCommittedMutations);let er=!1;xt&&Yt?xt.data.isEqual(Yt.data)?Jt!==Pn&&(o.track({type:3,doc:Yt}),er=!0):this.zu(xt,Yt)||(o.track({type:2,doc:Yt}),er=!0,(H&&this.Ku(Yt,H)>0||Q&&this.Ku(Yt,Q)<0)&&(x=!0)):!xt&&Yt?(o.track({type:0,doc:Yt}),er=!0):xt&&!Yt&&(o.track({type:1,doc:xt}),er=!0,(H||Q)&&(x=!0)),er&&(Yt?(g=g.add(Yt),h=Pn?h.add(Ae):h.delete(Ae)):(g=g.delete(Ae),h=h.delete(Ae)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const Ae="F"===this.query.limitType?g.last():g.first();g=g.delete(Ae.key),h=h.delete(Ae.key),o.track({type:1,doc:Ae})}return{Gu:g,Wu:o,$i:x,mutatedKeys:h}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const l=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const h=e.Wu.Eu();h.sort((Q,Ae)=>function(Ze,xt){const Yt=Jt=>{switch(Jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return In()}};return Yt(Ze)-Yt(xt)}(Q.type,Ae.type)||this.Ku(Q.doc,Ae.doc)),this.Hu(o);const g=t?this.Ju():[],x=0===this.qu.size&&this.current?1:0,H=x!==this.Uu;return this.Uu=x,0!==h.length||H?{snapshot:new Nd(this.query,e.Gu,l,h,e.mutatedKeys,0===x,H,!1),Yu:g}:{Yu:g}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new vm,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=$r(),this.Gu.forEach(o=>{this.Xu(o.key)&&(this.qu=this.qu.add(o.key))});const t=[];return e.forEach(o=>{this.qu.has(o)||t.push(new Qh(o))}),this.qu.forEach(o=>{e.has(o)||t.push(new Ll(o))}),t}Zu(e){this.Lu=e.Hi,this.qu=$r();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return Nd.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Am{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Dp{constructor(e){this.key=e,this.ec=!1}}class xm{constructor(e,t,o,l,h,g){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=g,this.nc={},this.sc=new pa(x=>rd(x),Cu),this.ic=new Map,this.rc=new Set,this.oc=new Oe(yn.comparator),this.uc=new Map,this.cc=new Mh,this.ac={},this.hc=new Map,this.lc=Fl.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Ip(i,e){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,Fe.Z)(function*(i,e){const t=Ua(i);let o,l;const h=t.sc.get(e);if(h)o=h.targetId,t.sharedClientState.addLocalQueryTarget(o),l=h.view.tc();else{const g=yield _c(t.localStore,qo(e));t.isPrimaryClient&&Gh(t.remoteStore,g);const x=t.sharedClientState.addLocalQueryTarget(g.targetId);o=g.targetId,l=yield dl(t,e,o,"current"===x)}return l}),Ap.apply(this,arguments)}function dl(i,e,t,o){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,Fe.Z)(function*(i,e,t,o){i.dc=(Ae,Ze,xt)=>{return(Yt=(0,Fe.Z)(function*(Jt,Pn,er,Si){let Ji=Pn.view.ju(er);Ji.$i&&(Ji=yield Sd(Jt.localStore,Pn.query,!1).then(({documents:Oi})=>Pn.view.ju(Oi,Ji)));const Ti=Si&&Si.targetChanges.get(Pn.targetId),Ms=Pn.view.applyChanges(Ji,Jt.isPrimaryClient,Ti);return Op(Jt,Pn.targetId,Ms.Yu),Ms.snapshot}),function(Jt,Pn,er,Si){return Yt.apply(this,arguments)})(i,Ae,Ze,xt);var Yt};const l=yield Sd(i.localStore,e,!0),h=new Im(e,l.Hi),g=h.ju(l.documents),x=ol.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),H=h.applyChanges(g,i.isPrimaryClient,x);Op(i,t,H.Yu);const Q=new Am(e,t,h);return i.sc.set(e,Q),i.ic.has(t)?i.ic.get(t).push(e):i.ic.set(t,[e]),H.snapshot}),Xh.apply(this,arguments)}function mv(i,e){return xp.apply(this,arguments)}function xp(){return xp=(0,Fe.Z)(function*(i,e){const t=Cn(i),o=t.sc.get(e),l=t.ic.get(o.targetId);if(l.length>1)return t.ic.set(o.targetId,l.filter(h=>!Cu(h,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield bc(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Td(t.remoteStore,o.targetId),xc(t,o.targetId)}).catch(Ao))):(xc(t,o.targetId),yield bc(t.localStore,o.targetId,!0))}),xp.apply(this,arguments)}function Sp(){return Sp=(0,Fe.Z)(function*(i,e,t){const o=Hd(i);try{const l=yield function(h,g){const x=Cn(h),H=Ri.now(),Q=g.reduce((xt,Yt)=>xt.add(Yt.key),$r());let Ae,Ze;return x.persistence.runTransaction("Locally write mutations","readwrite",xt=>{let Yt=Ho(),Jt=$r();return x.Gi.getEntries(xt,Q).next(Pn=>{Yt=Pn,Yt.forEach((er,Si)=>{Si.isValidDocument()||(Jt=Jt.add(er))})}).next(()=>x.localDocuments.getOverlayedDocuments(xt,Yt)).next(Pn=>{Ae=Pn;const er=[];for(const Si of g){const Ji=kf(Si,Ae.get(Si.key).overlayedDocument);null!=Ji&&er.push(new Na(Si.key,Ji,Oa(Ji.value.mapValue),Xi.exists(!0)))}return x.mutationQueue.addMutationBatch(xt,H,er,g)}).next(Pn=>{Ze=Pn;const er=Pn.applyToLocalDocumentSet(Ae,Jt);return x.documentOverlayCache.saveOverlays(xt,Pn.batchId,er)})}).then(()=>({batchId:Ze.batchId,changes:Ff(Ae)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(h,g,x){let H=h.ac[h.currentUser.toKey()];H||(H=new Oe(Wn)),H=H.insert(g,x),h.ac[h.currentUser.toKey()]=H}(o,l.batchId,t),yield hl(o,l.changes),yield Qo(o.remoteStore)}catch(l){const h=Bu(l,"Failed to persist write");t.reject(h)}}),Sp.apply(this,arguments)}function Tm(i,e){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,Fe.Z)(function*(i,e){const t=Cn(i);try{const o=yield av(t.localStore,e);e.targetChanges.forEach((l,h)=>{const g=t.uc.get(h);g&&(Yn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?g.ec=!0:l.modifiedDocuments.size>0?Yn(g.ec):l.removedDocuments.size>0&&(Yn(g.ec),g.ec=!1))}),yield hl(t,o,e)}catch(o){yield Ao(o)}}),Ic.apply(this,arguments)}function Uu(i,e,t){const o=Cn(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const l=[];o.sc.forEach((h,g)=>{const x=g.view.bu(e);x.snapshot&&l.push(x.snapshot)}),function(h,g){const x=Cn(h);x.onlineState=g;let H=!1;x.queries.forEach((Q,Ae)=>{for(const Ze of Ae.listeners)Ze.bu(g)&&(H=!0)}),H&&Cm(x)}(o.eventManager,e),l.length&&o.nc.Wo(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Tp(i,e,t){return uu.apply(this,arguments)}function uu(){return uu=(0,Fe.Z)(function*(i,e,t){const o=Cn(i);o.sharedClientState.updateQueryState(e,"rejected",t);const l=o.uc.get(e),h=l&&l.key;if(h){let g=new Oe(yn.comparator);g=g.insert(h,Di.newNoDocument(h,Jn.min()));const x=$r().add(h),H=new to(Jn.min(),new Map,new Xt(Wn),g,x);yield Tm(o,H),o.oc=o.oc.remove(h),o.uc.delete(e),kp(o)}else yield bc(o.localStore,e,!1).then(()=>xc(o,e,t)).catch(Ao)}),uu.apply(this,arguments)}function Mp(i,e){return Ac.apply(this,arguments)}function Ac(){return Ac=(0,Fe.Z)(function*(i,e){const t=Cn(i),o=e.batch.batchId;try{const l=yield ov(t.localStore,e);Bd(t,o,null),ef(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield hl(t,l)}catch(l){yield Ao(l)}}),Ac.apply(this,arguments)}function Mm(i,e,t){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,Fe.Z)(function*(i,e,t){const o=Cn(i);try{const l=yield function(h,g){const x=Cn(h);return x.persistence.runTransaction("Reject batch","readwrite-primary",H=>{let Q;return x.mutationQueue.lookupMutationBatch(H,g).next(Ae=>(Yn(null!==Ae),Q=Ae.keys(),x.mutationQueue.removeMutationBatch(H,Ae))).next(()=>x.mutationQueue.performConsistencyCheck(H)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(H,Q,g)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(H,Q)).next(()=>x.localDocuments.getDocuments(H,Q))})}(o.localStore,e);Bd(o,e,t),ef(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield hl(o,l)}catch(l){yield Ao(l)}}),Jh.apply(this,arguments)}function Vd(){return Vd=(0,Fe.Z)(function*(i,e){const t=Cn(i);Nl(t.remoteStore)||rn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(h){const g=Cn(h);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",x=>g.mutationQueue.getHighestUnacknowledgedBatchId(x))}(t.localStore);if(-1===o)return void e.resolve();const l=t.hc.get(o)||[];l.push(e),t.hc.set(o,l)}catch(o){const l=Bu(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Vd.apply(this,arguments)}function ef(i,e){(i.hc.get(e)||[]).forEach(t=>{t.resolve()}),i.hc.delete(e)}function Bd(i,e,t){const o=Cn(i);let l=o.ac[o.currentUser.toKey()];if(l){const h=l.get(e);h&&(t?h.reject(t):h.resolve(),l=l.remove(e)),o.ac[o.currentUser.toKey()]=l}}function xc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ic.get(e))i.sc.delete(o),t&&i.nc._c(o,t);i.ic.delete(e),i.isPrimaryClient&&i.cc.ls(e).forEach(o=>{i.cc.containsKey(o)||yv(i,o)})}function yv(i,e){i.rc.delete(e.path.canonicalString());const t=i.oc.get(e);null!==t&&(Td(i.remoteStore,t),i.oc=i.oc.remove(e),i.uc.delete(t),kp(i))}function Op(i,e,t){for(const o of t)o instanceof Ll?(i.cc.addReference(o.key,e),Rm(i,o)):o instanceof Qh?(rn("SyncEngine","Document no longer in limbo: "+o.key),i.cc.removeReference(o.key,e),i.cc.containsKey(o.key)||yv(i,o.key)):In()}function Rm(i,e){const t=e.key,o=t.path.canonicalString();i.oc.get(t)||i.rc.has(o)||(rn("SyncEngine","New document in limbo: "+t),i.rc.add(o),kp(i))}function kp(i){for(;i.rc.size>0&&i.oc.size<i.maxConcurrentLimboResolutions;){const e=i.rc.values().next().value;i.rc.delete(e);const t=new yn(jr.fromString(e)),o=i.lc.next();i.uc.set(o,new Dp(t)),i.oc=i.oc.insert(t,o),Gh(i.remoteStore,new tu(qo(Fa(t.path)),o,2,_.at))}}function hl(i,e,t){return tf.apply(this,arguments)}function tf(){return tf=(0,Fe.Z)(function*(i,e,t){const o=Cn(i),l=[],h=[],g=[];var x;o.sc.isEmpty()||(o.sc.forEach((x,H)=>{g.push(o.dc(H,e,t).then(Q=>{if(Q){o.isPrimaryClient&&o.sharedClientState.updateQueryState(H.targetId,Q.fromCache?"not-current":"current"),l.push(Q);const Ae=Fh.Ci(H.targetId,Q);h.push(Ae)}}))}),yield Promise.all(g),o.nc.Wo(l),yield(x=(0,Fe.Z)(function*(H,Q){const Ae=Cn(H);try{yield Ae.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ze=>Ot.forEach(Q,xt=>Ot.forEach(xt.Si,Yt=>Ae.persistence.referenceDelegate.addReference(Ze,xt.targetId,Yt)).next(()=>Ot.forEach(xt.Di,Yt=>Ae.persistence.referenceDelegate.removeReference(Ze,xt.targetId,Yt)))))}catch(Ze){if(!Vo(Ze))throw Ze;rn("LocalStore","Failed to update sequence numbers: "+Ze)}for(const Ze of Q){const xt=Ze.targetId;if(!Ze.fromCache){const Yt=Ae.Ui.get(xt),Pn=Yt.withLastLimboFreeSnapshotVersion(Yt.snapshotVersion);Ae.Ui=Ae.Ui.insert(xt,Pn)}}}),function(H,Q){return x.apply(this,arguments)})(o.localStore,h))}),tf.apply(this,arguments)}function vv(i,e){return la.apply(this,arguments)}function la(){return la=(0,Fe.Z)(function*(i,e){const t=Cn(i);if(!t.currentUser.isEqual(e)){rn("SyncEngine","User change. New user:",e.toKey());const o=yield tp(t.localStore,e);t.currentUser=e,(l=t).hc.forEach(g=>{g.forEach(x=>{x.reject(new wt(kt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.hc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield hl(t,o.ji)}var l}),la.apply(this,arguments)}function Om(i,e){const t=Cn(i),o=t.uc.get(e);if(o&&o.ec)return $r().add(o.key);{let l=$r();const h=t.ic.get(e);if(!h)return l;for(const g of h){const x=t.sc.get(g);l=l.unionWith(x.view.Qu)}return l}}function _v(i,e){return km.apply(this,arguments)}function km(){return km=(0,Fe.Z)(function*(i,e){const t=Cn(i),o=yield Sd(t.localStore,e.query,!0),l=e.view.Zu(o);return t.isPrimaryClient&&Op(t,e.targetId,l.Yu),l}),km.apply(this,arguments)}function bv(i,e){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,Fe.Z)(function*(i,e){const t=Cn(i);return om(t.localStore,e).then(o=>hl(t,o))}),Ud.apply(this,arguments)}function Pm(i,e,t,o){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,Fe.Z)(function*(i,e,t,o){const l=Cn(i),h=yield function(g,x){const H=Cn(g),Q=Cn(H.mutationQueue);return H.persistence.runTransaction("Lookup mutation documents","readonly",Ae=>Q.Tn(Ae,x).next(Ze=>Ze?H.localDocuments.getDocuments(Ae,Ze):Ot.resolve(null)))}(l.localStore,e);var x;null!==h?("pending"===t?yield Qo(l.remoteStore):"acknowledged"===t||"rejected"===t?(Bd(l,e,o||null),ef(l,e),x=e,Cn(Cn(l.localStore).mutationQueue).An(x)):In(),yield hl(l,h)):rn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Pp.apply(this,arguments)}function Fp(){return Fp=(0,Fe.Z)(function*(i,e){const t=Cn(i);if(Ua(t),Hd(t),!0===e&&!0!==t.fc){const o=t.sharedClientState.getAllActiveQueryTargets(),l=yield Np(t,o.toArray());t.fc=!0,yield ym(t.remoteStore,!0);for(const h of l)Gh(t.remoteStore,h)}else if(!1===e&&!1!==t.fc){const o=[];let l=Promise.resolve();t.ic.forEach((h,g)=>{t.sharedClientState.isLocalQueryTarget(g)?o.push(g):l=l.then(()=>(xc(t,g),bc(t.localStore,g,!0))),Td(t.remoteStore,g)}),yield l,yield Np(t,o),function(h){const g=Cn(h);g.uc.forEach((x,H)=>{Td(g.remoteStore,H)}),g.cc.fs(),g.uc=new Map,g.oc=new Oe(yn.comparator)}(t),t.fc=!1,yield ym(t.remoteStore,!1)}}),Fp.apply(this,arguments)}function Np(i,e,t){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,Fe.Z)(function*(i,e,t){const o=Cn(i),l=[],h=[];for(const g of e){let x;const H=o.ic.get(g);if(H&&0!==H.length){x=yield _c(o.localStore,qo(H[0]));for(const Q of H){const Ae=o.sc.get(Q),Ze=yield _v(o,Ae);Ze.snapshot&&h.push(Ze.snapshot)}}else{const Q=yield sm(o.localStore,g);x=yield _c(o.localStore,Q),yield dl(o,Vp(Q),g,!1)}l.push(x)}return o.nc.Wo(h),l}),Lp.apply(this,arguments)}function Vp(i){return Rf(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function wv(i){const e=Cn(i);return Cn(Cn(e.localStore).persistence).vi()}function Cv(i,e,t,o){return nf.apply(this,arguments)}function nf(){return nf=(0,Fe.Z)(function*(i,e,t,o){const l=Cn(i);if(l.fc)return void rn("SyncEngine","Ignoring unexpected query state notification.");const h=l.ic.get(e);if(h&&h.length>0)switch(t){case"current":case"not-current":{const g=yield om(l.localStore,Dl(h[0])),x=to.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield hl(l,g,x);break}case"rejected":yield bc(l.localStore,e,!0),xc(l,e,o);break;default:In()}}),nf.apply(this,arguments)}function Fm(i,e,t){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,Fe.Z)(function*(i,e,t){const o=Ua(i);if(o.fc){for(const l of e){if(o.ic.has(l)){rn("SyncEngine","Adding an already active target "+l);continue}const h=yield sm(o.localStore,l),g=yield _c(o.localStore,h);yield dl(o,Vp(h),g.targetId,!1),Gh(o.remoteStore,g)}for(const l of t)o.ic.has(l)&&(yield bc(o.localStore,l,!1).then(()=>{Td(o.remoteStore,l),xc(o,l)}).catch(Ao))}}),Bp.apply(this,arguments)}function Ua(i){const e=Cn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Om.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tp.bind(null,e),e.nc.Wo=q_.bind(null,e.eventManager),e.nc._c=Y_.bind(null,e.eventManager),e}function Hd(i){const e=Cn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mm.bind(null,e),e}class Nm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Fe.Z)(function*(){t.It=jh(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return im(this.persistence,new sv,e.initialUser,this.It)}gc(e){return new kh(vc.Bs,this.It)}mc(e){return new op}terminate(){var e=this;return(0,Fe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Iv extends Nm{constructor(e,t,o){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,Fe.Z)(function*(){yield t().call(o,e),yield o.Ec.initialize(o,e),yield Hd(o.Ec.syncEngine),yield Qo(o.Ec.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return im(this.persistence,new sv,e.initialUser,this.It)}Ic(e,t){return new zg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const o=new D(t,this.persistence);return new w(e.asyncQueue,o)}gc(e){const t=xd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Zo.withCacheSize(this.cacheSizeBytes):Zo.DEFAULT;return new ep(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,cv(),up(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new op}}class Lm extends Iv{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,Fe.Z)(function*(){yield t().call(o,e);const l=o.Ec.syncEngine;o.sharedClientState instanceof Hh&&(o.sharedClientState.syncEngine={Fr:Pm.bind(null,l),$r:Cv.bind(null,l),Br:Fm.bind(null,l),vi:wv.bind(null,l),Or:bv.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var h=(0,Fe.Z)(function*(g){yield function Ev(i,e){return Fp.apply(this,arguments)}(o.Ec.syncEngine,g),o.gcScheduler&&(g&&!o.gcScheduler.started?o.gcScheduler.start():g||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(g&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():g||o.indexBackfillerScheduler.stop())});return function(g){return h.apply(this,arguments)}}())})()}mc(e){const t=cv();if(!Hh.C(t))throw new wt(kt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=xd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Hh(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Up{initialize(e,t){var o=this;return(0,Fe.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>Uu(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=vv.bind(null,o.syncEngine),yield ym(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new bm}createDatastore(e){const t=jh(e.databaseInfo.databaseId),o=new uv(e.databaseInfo);return new wc(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,l=e.asyncQueue,h=x=>Uu(this.syncEngine,x,0),g=hm.C()?new hm:new Lu,new fm(t,o,l,h,g);var t,o,l,h,g}createSyncEngine(e,t){return function(o,l,h,g,x,H,Q){const Ae=new xm(o,l,h,g,x,H);return Q&&(Ae.fc=!0),Ae}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Fe.Z)(function*(t){const o=Cn(t);rn("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield Vu(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Vm(i,e=10240){let t=0;return{read:()=>(0,Fe.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,Fe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class rf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Hp{constructor(e,t){this.bc=e,this.It=t,this.metadata=new On,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(o=>{o&&o.ku()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.payload)}`))},o=>this.metadata.reject(o))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,Fe.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,Fe.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,Fe.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const o=e.Pc.decode(t),l=Number(o);isNaN(l)&&e.Sc(`length string (${o}) is not valid number`);const h=yield e.Dc(l);return new Z_(JSON.parse(h),t.length+l)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,Fe.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Dc(e){var t=this;return(0,Fe.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const o=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,Fe.Z)(function*(){const t=yield e.bc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Av{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Fe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new wt(kt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,Fe.Z)(function*(h,g){const x=Cn(h),H=Xl(x.It)+"/documents",Q={documents:g.map(Yt=>Ql(x.It,Yt))},Ae=yield x.fo("BatchGetDocuments",H,Q,g.length),Ze=new Map;Ae.forEach(Yt=>{const Jt=function wh(i,e){return"found"in e?function(t,o){Yn(!!o.found);const l=Cs(t,o.found.name),h=Ii(o.found.updateTime),g=new ms({mapValue:{fields:o.found.fields}});return Di.newFoundDocument(l,h,g)}(i,e):"missing"in e?function(t,o){Yn(!!o.missing),Yn(!!o.readTime);const l=Cs(t,o.missing),h=Ii(o.readTime);return Di.newNoDocument(l,h)}(i,e):In()}(x.It,Yt);Ze.set(Jt.key.toString(),Jt)});const xt=[];return g.forEach(Yt=>{const Jt=Ze.get(Yt.toString());Yn(!!Jt),xt.push(Jt)}),xt}),function(h,g){return l.apply(this,arguments)})(t.datastore,e);var l;return o.forEach(l=>t.recordVersion(l)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Zl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Fe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,l)=>{const h=yn.fromPath(l);e.mutations.push(new ws(h,e.precondition(h)))}),yield(o=(0,Fe.Z)(function*(l,h){const g=Cn(l),x=Xl(g.It)+"/documents",H={writes:h.map(Q=>eu(g.It,Q))};yield g.co("Commit",x,H)}),function(l,h){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw In();t=Jn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new wt(kt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Jn.min())?Xi.exists(!1):Xi.updateTime(t):Xi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Jn.min()))throw new wt(kt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xi.updateTime(t)}return Xi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xv{constructor(e,t,o,l,h){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=l,this.deferred=h,this.Nc=o.maxAttempts,this.xo=new cp(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,Fe.Z)(function*(){const t=new Av(e.datastore),o=e.Mc(t);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(l)}).catch(h=>{e.Oc(h)}))}).catch(l=>{e.Oc(l)})}))}Mc(e){try{const t=this.updateFunction(e);return!Bo(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!cd(t)}return!1}}class sf{constructor(e,t,o,l){var h=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=l,this.user=ur.UNAUTHENTICATED,this.clientId=Xs.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var g=(0,Fe.Z)(function*(x){rn("FirestoreClient","Received user=",x.uid),yield h.authCredentialListener(x),h.user=x});return function(x){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(rn("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,Fe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new wt(kt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new On;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Fe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const l=Bu(o,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function af(i,e){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,Fe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),rn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,Fe.Z)(function*(h){o.isEqual(h)||(yield tp(e.localStore,h),o=h)});return function(h){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Sc.apply(this,arguments)}function Sv(i,e){return jd.apply(this,arguments)}function jd(){return jd=(0,Fe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Bm(i);rn("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(l=>Zh(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,h)=>Zh(e.remoteStore,h)),i.onlineComponents=e}),jd.apply(this,arguments)}function Bm(i){return lf.apply(this,arguments)}function lf(){return lf=(0,Fe.Z)(function*(i){return i.offlineComponents||(rn("FirestoreClient","Using default OfflineComponentProvider"),yield af(i,new Nm)),i.offlineComponents}),lf.apply(this,arguments)}function Gd(i){return uf.apply(this,arguments)}function uf(){return uf=(0,Fe.Z)(function*(i){return i.onlineComponents||(rn("FirestoreClient","Using default OnlineComponentProvider"),yield Sv(i,new Up)),i.onlineComponents}),uf.apply(this,arguments)}function jp(i){return Bm(i).then(e=>e.persistence)}function Tc(i){return Bm(i).then(e=>e.localStore)}function fl(i){return Gd(i).then(e=>e.remoteStore)}function Mc(i){return Gd(i).then(e=>e.syncEngine)}function Vl(i){return Hu.apply(this,arguments)}function Hu(){return Hu=(0,Fe.Z)(function*(i){const e=yield Gd(i),t=e.eventManager;return t.onListen=Ip.bind(null,e.syncEngine),t.onUnlisten=mv.bind(null,e.syncEngine),t}),Hu.apply(this,arguments)}function Hm(i,e,t={}){const o=new On;return i.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function(l,h,g,x,H){const Q=new rf({next:Ze=>{h.enqueueAndForget(()=>Em(l,Ae));const xt=Ze.docs.has(g);!xt&&Ze.fromCache?H.reject(new wt(kt.UNAVAILABLE,"Failed to get document because the client is offline.")):xt&&Ze.fromCache&&x&&"server"===x.source?H.reject(new wt(kt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):H.resolve(Ze)},error:Ze=>H.reject(Ze)}),Ae=new Dm(Fa(g.path),Q,{includeMetadataChanges:!0,Nu:!0});return Cp(l,Ae)}(yield Vl(i),i.asyncQueue,e,t,o)})),o.promise}function Rc(i,e,t={}){const o=new On;return i.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function(l,h,g,x,H){const Q=new rf({next:Ze=>{h.enqueueAndForget(()=>Em(l,Ae)),Ze.fromCache&&"server"===x.source?H.reject(new wt(kt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):H.resolve(Ze)},error:Ze=>H.reject(Ze)}),Ae=new Dm(g,Q,{includeMetadataChanges:!0,Nu:!0});return Cp(l,Ae)}(yield Vl(i),i.asyncQueue,e,t,o)})),o.promise}const jm=new Map;function $p(i,e,t){if(!t)throw new wt(kt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Gm(i,e,t,o){if(!0===e&&!0===o)throw new wt(kt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function zp(i){if(!yn.isDocumentKey(i))throw new wt(kt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function cf(i){if(yn.isDocumentKey(i))throw new wt(kt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function df(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":In()}function yi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new wt(kt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=df(i);throw new wt(kt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function $m(i,e){if(e<=0)throw new wt(kt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class zm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new wt(kt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new wt(kt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Gm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $d{constructor(e,t,o,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new wt(kt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new wt(kt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Nr;switch(t.type){case"gapi":return new Do(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new wt(kt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jm.get(e);t&&(rn("ComponentProvider","Removing Datastore"),jm.delete(e),t.terminate())}(this),Promise.resolve()}}class Ds{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ds(this.firestore,e,this._key)}}class Xo{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Xo(this.firestore,e,this._query)}}class Ca extends Xo{constructor(e,t,o){super(e,t,Fa(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ds(this.firestore,null,new yn(e))}withConverter(e){return new Ca(this.firestore,e,this._path)}}function cu(i,e,...t){if(i=(0,Ie.m9)(i),$p("collection","path",e),i instanceof $d){const o=jr.fromString(e,...t);return cf(o),new Ca(i,null,o)}{if(!(i instanceof Ds||i instanceof Ca))throw new wt(kt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(jr.fromString(e,...t));return cf(o),new Ca(i.firestore,null,o)}}function du(i,e,...t){if(i=(0,Ie.m9)(i),1===arguments.length&&(e=Xs.R()),$p("doc","path",e),i instanceof $d){const o=jr.fromString(e,...t);return zp(o),new Ds(i,null,new yn(o))}{if(!(i instanceof Ds||i instanceof Ca))throw new wt(kt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(jr.fromString(e,...t));return zp(o),new Ds(i.firestore,i instanceof Ca?i.converter:null,new yn(o))}}function Wm(i,e){return i=(0,Ie.m9)(i),e=(0,Ie.m9)(e),(i instanceof Ds||i instanceof Ca)&&(e instanceof Ds||e instanceof Ca)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Km(i,e){return i=(0,Ie.m9)(i),e=(0,Ie.m9)(e),i instanceof Xo&&e instanceof Xo&&i.firestore===e.firestore&&Cu(i._query,e._query)&&i.converter===e.converter}class Wp{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new cp(this,"async_queue_retry"),this.jc=()=>{const t=up();t&&rn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=up();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=up();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new On;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,Fe.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!Vo(t))throw t;rn("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(o=>{throw this.qc=o,this.Kc=!1,Zr("INTERNAL UNHANDLED ERROR: ",function(h){let g=h.message||"";return h.stack&&(g=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),g}(o)),o}).then(o=>(this.Kc=!1,o))));return this.$c=t,t}enqueueAfterDelay(e,t,o){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const l=wp.createAndSchedule(this,e,t,o,h=>this.Jc(h));return this.Uc.push(l),l}Wc(){this.qc&&In()}verifyOperationInProgress(){}Yc(){var e=this;return(0,Fe.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Kp(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class pl{constructor(){this._progressObserver={},this._taskCompletionResolver=new On,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class si extends $d{constructor(e,t,o,l){super(e,t,o,l),this.type="firestore",this._queue=new Wp,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||hf(this),this._firestoreClient.terminate()}}function Vi(i){return i._firestoreClient||hf(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function hf(i){var e;const t=i._freezeSettings(),o=(h=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new bu(i._databaseId,h,i._persistenceKey,(x=t).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,x.useFetchStreams));var h,x;i._firestoreClient=new sf(i._authCredentials,i._appCheckCredentials,i._queue,o)}function ju(i,e,t){const o=new On;return i.asyncQueue.enqueue((0,Fe.Z)(function*(){try{yield af(i,t),yield Sv(i,e),o.resolve()}catch(l){const h=l;if(!("FirebaseError"===(g=h).name?g.code===kt.FAILED_PRECONDITION||g.code===kt.UNIMPLEMENTED:!(typeof DOMException<"u"&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw h;zi("Error enabling offline persistence. Falling back to persistence disabled: "+h),o.reject(h)}var g})).then(()=>o.promise)}function Yp(i){if(i._initialized||i._terminated)throw new wt(kt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new wt(kt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Za{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Za(mi.fromBase64String(e))}catch(t){throw new wt(kt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Za(mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hu{constructor(e){this._methodName=e}}class Kd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new wt(kt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new wt(kt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wn(this._lat,e._lat)||Wn(this._long,e._long)}}const Ym=/^__.*__$/;class Zm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Na(e,this.data,this.fieldMask,t,this.fieldTransforms):new il(e,this.data,t,this.fieldTransforms)}}class Qm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Na(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Xm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw In()}}class qd{constructor(e,t,o,l,h,g){this.settings=e,this.databaseId=t,this.It=o,this.ignoreUndefinedProperties=l,void 0===h&&this.ea(),this.fieldTransforms=h||[],this.fieldMask=g||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new qd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.sa({path:o,ra:!1});return l.oa(e),l}ua(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.sa({path:o,ra:!1});return l.ea(),l}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Zd(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(Xm(this.na)&&Ym.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class Fv{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=o||jh(e)}fa(e,t,o,l=!1){return new qd({na:e,methodName:t,la:o,path:gi.emptyPath(),ra:!1,ha:l},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function fu(i){const e=i._freezeSettings(),t=jh(i._databaseId);return new Fv(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Uc(i,e,t,o,l,h={}){const g=i.fa(h.merge||h.mergeFields?2:0,e,t,l);mf("Data must be an object, but it was:",g,o);const x=gf(o,g);let H,Q;if(h.merge)H=new Mr(g.fieldMask),Q=g.fieldTransforms;else if(h.mergeFields){const Ae=[];for(const Ze of h.mergeFields){const xt=Yd(e,Ze,t);if(!g.contains(xt))throw new wt(kt.INVALID_ARGUMENT,`Field '${xt}' is specified in your field mask but missing from your input data.`);Xp(Ae,xt)||Ae.push(xt)}H=new Mr(Ae),Q=g.fieldTransforms.filter(Ze=>H.covers(Ze.field))}else H=null,Q=g.fieldTransforms;return new Zm(new ms(x),H,Q)}class Gu extends hu{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gu}}function Jm(i,e,t){return new qd({na:3,la:e.settings.la,methodName:i._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Hc extends hu{_toFieldTransform(e){return new Kl(e.path,new rl)}isEqual(e){return e instanceof Hc}}class ff extends hu{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=Jm(this,e,!0),o=this.da.map(h=>pu(h,t)),l=new Il(o);return new Kl(e.path,l)}isEqual(e){return this===e}}class Zp extends hu{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=Jm(this,e,!0),o=this.da.map(h=>pu(h,t)),l=new Uo(o);return new Kl(e.path,l)}isEqual(e){return this===e}}class Nv extends hu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new Ya(e.It,fh(e.It,this._a));return new Kl(e.path,t)}isEqual(e){return this===e}}function jc(i,e,t,o){const l=i.fa(1,e,t);mf("Data must be an object, but it was:",l,o);const h=[],g=ms.empty();V(o,(H,Q)=>{const Ae=yf(e,H,t);Q=(0,Ie.m9)(Q);const Ze=l.ua(Ae);if(Q instanceof Gu)h.push(Ae);else{const xt=pu(Q,Ze);null!=xt&&(h.push(Ae),g.set(Ae,xt))}});const x=new Mr(h);return new Qm(g,x,l.fieldTransforms)}function Gc(i,e,t,o,l,h){const g=i.fa(1,e,t),x=[Yd(e,o,t)],H=[l];if(h.length%2!=0)throw new wt(kt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let xt=0;xt<h.length;xt+=2)x.push(Yd(e,h[xt])),H.push(h[xt+1]);const Q=[],Ae=ms.empty();for(let xt=x.length-1;xt>=0;--xt)if(!Xp(Q,x[xt])){const Yt=x[xt];let Jt=H[xt];Jt=(0,Ie.m9)(Jt);const Pn=g.ua(Yt);if(Jt instanceof Gu)Q.push(Yt);else{const er=pu(Jt,Pn);null!=er&&(Q.push(Yt),Ae.set(Yt,er))}}const Ze=new Mr(Q);return new Qm(Ae,Ze,g.fieldTransforms)}function pf(i,e,t,o=!1){return pu(t,i.fa(o?4:3,e))}function pu(i,e){if(Qp(i=(0,Ie.m9)(i)))return mf("Unsupported field value:",e,i),gf(i,e);if(i instanceof hu)return function(t,o){if(!Xm(o.na))throw o.aa(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.aa(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,o){const l=[];let h=0;for(const g of t){let x=pu(g,o.ca(h));null==x&&(x={nullValue:"NULL_VALUE"}),l.push(x),h++}return{arrayValue:{values:l}}}(i,e)}return function(t,o){if(null===(t=(0,Ie.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fh(o.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=Ri.fromDate(t);return{timestampValue:al(o.It,l)}}if(t instanceof Ri){const l=new Ri(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:al(o.It,l)}}if(t instanceof Kd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Za)return{bytesValue:ll(o.It,t._byteString)};if(t instanceof Ds){const l=o.databaseId,h=t.firestore._databaseId;if(!h.isEqual(l))throw o.aa(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ru(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.aa(`Unsupported field value: ${df(t)}`)}(i,e)}function gf(i,e){const t={};return ae(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):V(i,(o,l)=>{const h=pu(l,e.ia(o));null!=h&&(t[o]=h)}),{mapValue:{fields:t}}}function Qp(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Ri||i instanceof Kd||i instanceof Za||i instanceof Ds||i instanceof hu)}function mf(i,e,t){if(!Qp(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=df(t);throw e.aa("an object"===o?i+" a custom object":i+" "+o)}var o}function Yd(i,e,t){if((e=(0,Ie.m9)(e))instanceof gl)return e._internalPath;if("string"==typeof e)return yf(i,e);throw Zd("Field path arguments must be of type string or ",i,!1,void 0,t)}const ey=new RegExp("[~\\*/\\[\\]]");function yf(i,e,t){if(e.search(ey)>=0)throw Zd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new gl(...e.split("."))._internalPath}catch{throw Zd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Zd(i,e,t,o,l){const h=o&&!o.isEmpty(),g=void 0!==l;let x=`Function ${e}() called with invalid data`;t&&(x+=" (via `toFirestore()`)"),x+=". ";let H="";return(h||g)&&(H+=" (found",h&&(H+=` in field ${o}`),g&&(H+=` in document ${l}`),H+=")"),new wt(kt.INVALID_ARGUMENT,x+i+H)}function Xp(i,e){return i.some(t=>t.isEqual(e))}class $c{constructor(e,t,o,l,h){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ds(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ty(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ty extends $c{data(){return super.data()}}function vf(i,e){return"string"==typeof e?yf(i,e):e instanceof gl?e._internalPath:e._delegate._internalPath}class gu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ml extends $c{constructor(e,t,o,l,h,g){super(e,t,o,l,g),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(vf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class zc extends ml{data(e={}){return super.data(e)}}class yl{constructor(e,t,o,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new gu(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new zc(this._firestore,this._userDataWriter,o.key,o,new gu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new wt(kt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new zc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new gu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:h++}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>l||3!==g.type).map(g=>{const x=new zc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new gu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let H=-1,Q=-1;return 0!==g.type&&(H=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),1!==g.type&&(h=h.add(g.doc),Q=h.indexOf(g.doc.key)),{type:ny(g.type),doc:x,oldIndex:H,newIndex:Q}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ny(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return In()}}function Jp(i,e){return i instanceof ml&&e instanceof ml?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof yl&&e instanceof yl&&i._firestore===e._firestore&&Km(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function eg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new wt(kt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wc{}function Bl(i,...e){for(const t of e)i=t._apply(i);return i}class ry extends Wc{constructor(e,t,o){super(),this.wa=e,this.ma=t,this.ga=o,this.type="where"}_apply(e){const t=fu(e.firestore),o=function(l,h,g,x,H,Q,Ae){let Ze;if(H.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new wt(kt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){ng(Ae,Q);const Yt=[];for(const Jt of Ae)Yt.push(tg(x,l,Jt));Ze={arrayValue:{values:Yt}}}else Ze=tg(x,l,Ae)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||ng(Ae,Q),Ze=pf(g,"where",Ae,"in"===Q||"not-in"===Q);const xt=Hs.create(H,Q,Ze);return function(Yt,Jt){if(Jt.dt()){const er=Ju(Yt);if(null!==er&&!er.isEqual(Jt.field))throw new wt(kt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${er.toString()}' and '${Jt.field.toString()}'`);const Si=Xu(Yt);null!==Si&&$u(0,Jt.field,Si)}const Pn=function(er,Si){for(const Ji of er.filters)if(Si.indexOf(Ji.op)>=0)return Ji.op;return null}(Yt,function(er){switch(er){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Jt.op));if(null!==Pn)throw new wt(kt.INVALID_ARGUMENT,Pn===Jt.op?`Invalid query. You cannot use more than one '${Jt.op.toString()}' filter.`:`Invalid query. You cannot use '${Jt.op.toString()}' filters with '${Pn.toString()}' filters.`)}(l,xt),xt}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Xo(e.firestore,e.converter,function(l,h){const g=l.filters.concat([h]);return new qa(l.path,l.collectionGroup,l.explicitOrderBy.slice(),g,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,o))}}class sy extends Wc{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(o,l,h){if(null!==o.startAt)throw new wt(kt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new wt(kt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new Ea(l,h);return function(x,H){if(null===Xu(x)){const Q=Ju(x);null!==Q&&$u(0,Q,H.field)}}(o,g),g}(e._query,this.wa,this.ya);return new Xo(e.firestore,e.converter,function(o,l){const h=o.explicitOrderBy.concat([l]);return new qa(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class oy extends Wc{constructor(e,t,o){super(),this.type=e,this.pa=t,this.Ia=o}_apply(e){return new Xo(e.firestore,e.converter,zl(e._query,this.pa,this.Ia))}}class ly extends Wc{constructor(e,t,o){super(),this.type=e,this.Ta=t,this.Ea=o}_apply(e){const t=hy(e,this.type,this.Ta,this.Ea);return new Xo(e.firestore,e.converter,(l=t,new qa((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}class cy extends Wc{constructor(e,t,o){super(),this.type=e,this.Ta=t,this.Ea=o}_apply(e){const t=hy(e,this.type,this.Ta,this.Ea);return new Xo(e.firestore,e.converter,(l=t,new qa((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function hy(i,e,t,o){if(t[0]=(0,Ie.m9)(t[0]),t[0]instanceof $c)return function(l,h,g,x,H){if(!x)throw new wt(kt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const Q=[];for(const Ae of Ko(l))if(Ae.field.isKeyField())Q.push(He(h,x.key));else{const Ze=x.data.field(Ae.field);if(ha(Ze))throw new wt(kt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ae.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ze){const xt=Ae.field.canonicalString();throw new wt(kt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${xt}' (used as the orderBy) does not exist.`)}Q.push(Ze)}return new Ka(Q,H)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const l=fu(i.firestore);return function(h,g,x,H,Q,Ae){const Ze=h.explicitOrderBy;if(Q.length>Ze.length)throw new wt(kt.INVALID_ARGUMENT,`Too many arguments provided to ${H}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const xt=[];for(let Yt=0;Yt<Q.length;Yt++){const Jt=Q[Yt];if(Ze[Yt].field.isKeyField()){if("string"!=typeof Jt)throw new wt(kt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${H}(), but got a ${typeof Jt}`);if(!ec(h)&&-1!==Jt.indexOf("/"))throw new wt(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${H}() must be a plain document ID, but '${Jt}' contains a slash.`);const Pn=h.path.child(jr.fromString(Jt));if(!yn.isDocumentKey(Pn))throw new wt(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${H}() must result in a valid document path, but '${Pn}' is not because it contains an odd number of segments.`);const er=new yn(Pn);xt.push(He(g,er))}else{const Pn=pf(x,H,Jt);xt.push(Pn)}}return new Ka(xt,Ae)}(i._query,i.firestore._databaseId,l,e,t,o)}}function tg(i,e,t){if("string"==typeof(t=(0,Ie.m9)(t))){if(""===t)throw new wt(kt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ec(e)&&-1!==t.indexOf("/"))throw new wt(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(jr.fromString(t));if(!yn.isDocumentKey(o))throw new wt(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return He(i,new yn(o))}if(t instanceof Ds)return He(i,t._key);throw new wt(kt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(t)}.`)}function ng(i,e){if(!Array.isArray(i)||0===i.length)throw new wt(kt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new wt(kt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function $u(i,e,t){if(!t.isEqual(e))throw new wt(kt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const Bv={maxAttempts:5};class rg{convertValue(e,t="none"){switch(So(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw In()}}convertObject(e,t){const o={};return V(e.fields,(l,h)=>{o[l]=this.convertValue(h,t)}),o}convertGeoPoint(e){return new Kd(Zi(e.latitude),Zi(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=el(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(xo(e));default:return null}}convertTimestamp(e){const t=Es(e);return new Ri(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=jr.fromString(e);Yn(Tl(o));const l=new sa(o.get(1),o.get(3)),h=new yn(o.popFirst(5));return l.isEqual(t)||Zr(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),h}}function Qd(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class Uv extends rg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Za(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ds(this.firestore,null,t)}}class ig{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=fu(e)}set(e,t,o){this._verifyNotCommitted();const l=zu(e,this._firestore),h=Qd(l.converter,t,o),g=Uc(this._dataReader,"WriteBatch.set",l._key,h,null!==l.converter,o);return this._mutations.push(g.toMutation(l._key,Xi.none())),this}update(e,t,o,...l){this._verifyNotCommitted();const h=zu(e,this._firestore);let g;return g="string"==typeof(t=(0,Ie.m9)(t))||t instanceof gl?Gc(this._dataReader,"WriteBatch.update",h._key,t,o,l):jc(this._dataReader,"WriteBatch.update",h._key,t),this._mutations.push(g.toMutation(h._key,Xi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=zu(e,this._firestore);return this._mutations=this._mutations.concat(new Zl(t._key,Xi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new wt(kt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zu(i,e){if((i=(0,Ie.m9)(i)).firestore!==e)throw new wt(kt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Ul extends rg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Za(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ds(this.firestore,null,t)}}function Ha(i,e,t){i=yi(i,Ds);const o=yi(i.firestore,si),l=Qd(i.converter,e,t);return Kc(o,[Uc(fu(o),"setDoc",i._key,l,null!==i.converter,t).toMutation(i._key,Xi.none())])}function og(i,e,t,...o){i=yi(i,Ds);const l=yi(i.firestore,si),h=fu(l);let g;return g="string"==typeof(e=(0,Ie.m9)(e))||e instanceof gl?Gc(h,"updateDoc",i._key,e,t,o):jc(h,"updateDoc",i._key,e),Kc(l,[g.toMutation(i._key,Xi.exists(!0))])}function py(i,...e){var t,o,l;i=(0,Ie.m9)(i);let h={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||Kp(e[g])||(h=e[g],g++);const x={includeMetadataChanges:h.includeMetadataChanges};if(Kp(e[g])){const Ze=e[g];e[g]=null===(t=Ze.next)||void 0===t?void 0:t.bind(Ze),e[g+1]=null===(o=Ze.error)||void 0===o?void 0:o.bind(Ze),e[g+2]=null===(l=Ze.complete)||void 0===l?void 0:l.bind(Ze)}let H,Q,Ae;if(i instanceof Ds)Q=yi(i.firestore,si),Ae=Fa(i._key.path),H={next:Ze=>{e[g]&&e[g](Xd(Q,i,Ze))},error:e[g+1],complete:e[g+2]};else{const Ze=yi(i,Xo);Q=yi(Ze.firestore,si),Ae=Ze._query;const xt=new Ul(Q);H={next:Yt=>{e[g]&&e[g](new yl(Q,xt,Ze,Yt))},error:e[g+1],complete:e[g+2]},eg(i._query)}return function(Ze,xt,Yt,Jt){const Pn=new rf(Jt),er=new Dm(xt,Pn,Yt);return Ze.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return Cp(yield Vl(Ze),er)})),()=>{Pn.Rc(),Ze.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return Em(yield Vl(Ze),er)}))}}(Vi(Q),Ae,x,H)}function Kc(i,e){return function(t,o){const l=new On;return t.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function Sm(i,e,t){return Sp.apply(this,arguments)}(yield Mc(t),o,l)})),l.promise}(Vi(i),e)}function Xd(i,e,t){const o=t.docs.get(e._key),l=new Ul(i);return new ml(i,l,e._key,o,new gu(t.hasPendingWrites,t.fromCache),e.converter)}class Jd extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=fu(e)}get(e){const t=zu(e,this._firestore),o=new Uv(this._firestore);return this._transaction.lookup([t._key]).then(l=>{if(!l||1!==l.length)return In();const h=l[0];if(h.isFoundDocument())return new $c(this._firestore,o,h.key,h,t.converter);if(h.isNoDocument())return new $c(this._firestore,o,t._key,null,t.converter);throw In()})}set(e,t,o){const l=zu(e,this._firestore),h=Qd(l.converter,t,o),g=Uc(this._dataReader,"Transaction.set",l._key,h,null!==l.converter,o);return this._transaction.set(l._key,g),this}update(e,t,o,...l){const h=zu(e,this._firestore);let g;return g="string"==typeof(t=(0,Ie.m9)(t))||t instanceof gl?Gc(this._dataReader,"Transaction.update",h._key,t,o,l):jc(this._dataReader,"Transaction.update",h._key,t),this._transaction.update(h._key,g),this}delete(e){const t=zu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=zu(e,this._firestore),o=new Ul(this._firestore);return super.get(e).then(l=>new ml(this._firestore,o,t._key,l._document,new gu(!1,!1),t.converter))}}function Ef(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new wt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function ug(){if(typeof Uint8Array>"u")throw new wt("unimplemented","Uint8Arrays are not available in this environment.")}function cg(){if(!function Us(){return typeof atob<"u"}())throw new wt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Ni=Rt.SDK_VERSION,(0,Rt._registerComponent)(new Be.wA("firestore",(t,{instanceIdentifier:o,options:l})=>{const h=t.getProvider("app").getImmediate(),g=new si(new ps(t.getProvider("auth-internal")),new so(t.getProvider("app-check-internal")),function(x,H){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new wt(kt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sa(x.options.projectId,H)}(h,o),h);return l=Object.assign({useFetchStreams:e},l),g._setSettings(l),g},"PUBLIC").setMultipleInstances(!0)),(0,Rt.registerVersion)(ui,"3.5.0",i),(0,Rt.registerVersion)(ui,"3.5.0","esm2017")}();class qc{constructor(e){this._delegate=e}static fromBase64String(e){return cg(),new qc(Za.fromBase64String(e))}static fromUint8Array(e){return ug(),new qc(Za.fromUint8Array(e))}toBase64(){return cg(),this._delegate.toBase64()}toUint8Array(){return ug(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function wf(i){return function vy(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class _y{enableIndexedDbPersistence(e,t){return function kc(i,e){Yp(i=yi(i,si));const t=Vi(i),o=i._freezeSettings(),l=new Up;return ju(t,l,new Iv(l,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Pc(i){Yp(i=yi(i,si));const e=Vi(i),t=i._freezeSettings(),o=new Up;return ju(e,o,new Lm(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Fc(i){if(i._initialized&&!i._terminated)throw new wt(kt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new On;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Fe.Z)(function*(){try{yield(t=(0,Fe.Z)(function*(o){if(!po.C())return Promise.resolve();const l=o+"main";yield po.delete(l)}),function(o){return t.apply(this,arguments)})(xd(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class dg{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof sa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&zi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function kv(i,e,t,o={}){var l;const h=(i=yi(i,$d))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==e&&zi("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let g,x;if("string"==typeof o.mockUserToken)g=o.mockUserToken,x=ur.MOCK_USER;else{g=(0,Ie.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const H=o.mockUserToken.sub||o.mockUserToken.user_id;if(!H)throw new wt(kt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new ur(H)}i._authCredentials=new Yi(new fr(g,x))}}(this._delegate,e,t,o)}enableNetwork(){return function Lc(i){return function Tv(i){return i.asyncQueue.enqueue((0,Fe.Z)(function*(){const e=yield jp(i),t=yield fl(i);return e.setNetworkEnabled(!0),function(o){const l=Cn(o);return l._u.delete(0),ou(l)}(t)}))}(Vi(i=yi(i,si)))}(this._delegate)}disableNetwork(){return function Vc(i){return function Gp(i){return i.asyncQueue.enqueue((0,Fe.Z)(function*(){const e=yield jp(i),t=yield fl(i);return e.setNetworkEnabled(!1),(o=(0,Fe.Z)(function*(l){const h=Cn(l);h._u.add(0),yield Vu(h),h.gu.set("Offline")}),function(l){return o.apply(this,arguments)})(t);var o}))}(Vi(i=yi(i,si)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Gm("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Nc(i){return function(e){const t=new On;return e.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function Rp(i,e){return Vd.apply(this,arguments)}(yield Mc(e),t)})),t.promise}(Vi(i=yi(i,si)))}(this._delegate)}onSnapshotsInSync(e){return function $v(i,e){return function Rv(i,e){const t=new rf(e);return i.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return o=yield Vl(i),l=t,Cn(o).Ru.add(l),void l.next();var o,l})),()=>{t.Rc(),i.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return o=yield Vl(i),l=t,void Cn(o).Ru.delete(l);var o,l}))}}(Vi(i=yi(i,si)),Kp(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new wt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Yc(this,cu(this._delegate,e))}catch(t){throw ua(t,"collection()","Firestore.collection()")}}doc(e){try{return new ja(this,du(this._delegate,e))}catch(t){throw ua(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ca(this,function e0(i,e){if(i=yi(i,$d),$p("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new wt(kt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xo(i,null,(t=e,new qa(jr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ua(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function zv(i,e,t){i=yi(i,si);const o=Object.assign(Object.assign({},Bv),t);return function(l){if(l.maxAttempts<1)throw new wt(kt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function X_(i,e,t){const o=new On;return i.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){const l=yield(h=i,Gd(h).then(g=>g.datastore));var h;new xv(i.asyncQueue,l,t,e,o).run()})),o.promise}(Vi(i),l=>e(new Jd(i,l)),o)}(this._delegate,t=>e(new by(this,t)))}batch(){return Vi(this._delegate),new Ey(new ig(this._delegate,e=>Kc(this._delegate,e)))}loadBundle(e){return function Bc(i,e){const t=Vi(i=yi(i,si)),o=new pl;return function Ov(i,e,t,o){const l=function(h,g){let x;return x="string"==typeof h?(new TextEncoder).encode(h):h,H=function(H,Q){if(H instanceof Uint8Array)return Vm(H,Q);if(H instanceof ArrayBuffer)return Vm(new Uint8Array(H),Q);if(H instanceof ReadableStream)return H.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(x),new Hp(H,g);var H}(t,jh(e));i.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){!function Dv(i,e,t){const o=Cn(i);var l;(l=(0,Fe.Z)(function*(h,g,x){try{const H=yield g.getMetadata();if(yield function(xt,Yt){const Jt=Cn(xt),Pn=Ii(Yt.createTime);return Jt.persistence.runTransaction("hasNewerBundle","readonly",er=>Jt.Ns.getBundleMetadata(er,Yt.id)).then(er=>!!er&&er.createTime.compareTo(Pn)>=0)}(h.localStore,H))return yield g.close(),x._completeWith({taskState:"Success",documentsLoaded:(xt=H).totalDocuments,bytesLoaded:xt.totalBytes,totalDocuments:xt.totalDocuments,totalBytes:xt.totalBytes}),Promise.resolve(new Set);x._updateProgress(gv(H));const Q=new Q_(H,h.localStore,g.It);let Ae=yield g.wc();for(;Ae;){const xt=yield Q.Ou(Ae);xt&&x._updateProgress(xt),Ae=yield g.wc()}const Ze=yield Q.complete();return yield hl(h,Ze.Bu,void 0),yield function(xt,Yt){const Jt=Cn(xt);return Jt.persistence.runTransaction("Save bundle","readwrite",Pn=>Jt.Ns.saveBundleMetadata(Pn,Yt))}(h.localStore,H),x._completeWith(Ze.progress),Promise.resolve(Ze.$u)}catch(H){return zi("SyncEngine",`Loading bundle failed with ${H}`),x._failWith(H),Promise.resolve(new Set)}var xt}),function(h,g,x){return l.apply(this,arguments)})(o,e,t).then(l=>{o.sharedClientState.notifyBundleLoaded(l)})}(yield Mc(i),l,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function qm(i,e){return function J_(i,e){return i.asyncQueue.enqueue((0,Fe.Z)(function*(){return function(t,o){const l=Cn(t);return l.persistence.runTransaction("Get named query","readonly",h=>l.Ns.getNamedQuery(h,o))}(yield Tc(i),e)}))}(Vi(i=yi(i,si)),e).then(t=>t?new Xo(i,null,t.query):null)}(this._delegate,e).then(t=>t?new ca(this,t):null)}}class Cf extends rg{constructor(e){super(),this.firestore=e}convertBytes(e){return new qc(new Za(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ja.forKey(t,this.firestore,null)}}class by{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Cf(e)}get(e){const t=Ku(e);return this._delegate.get(t).then(o=>new eh(this._firestore,new ml(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const l=Ku(e);return o?(Ef("Transaction.set",o),this._delegate.set(l,t,o)):this._delegate.set(l,t),this}update(e,t,o,...l){const h=Ku(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,o,...l),this}delete(e){const t=Ku(e);return this._delegate.delete(t),this}}class Ey{constructor(e){this._delegate=e}set(e,t,o){const l=Ku(e);return o?(Ef("WriteBatch.set",o),this._delegate.set(l,t,o)):this._delegate.set(l,t),this}update(e,t,o,...l){const h=Ku(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,o,...l),this}delete(e){const t=Ku(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Wu{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new zc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new th(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Wu.INSTANCES;let l=o.get(e);l||(l=new WeakMap,o.set(e,l));let h=l.get(t);return h||(h=new Wu(e,new Cf(e),t),l.set(t,h)),h}}Wu.INSTANCES=new WeakMap;class ja{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Cf(e)}static forPath(e,t,o){if(e.length%2!=0)throw new wt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ja(t,new Ds(t._delegate,o,new yn(e)))}static forKey(e,t,o){return new ja(t,new Ds(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Yc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Yc(this.firestore,cu(this._delegate,e))}catch(t){throw ua(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ie.m9)(e))instanceof Ds&&Wm(this._delegate,e)}set(e,t){t=Ef("DocumentReference.set",t);try{return t?Ha(this._delegate,e,t):Ha(this._delegate,e)}catch(o){throw ua(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?og(this._delegate,e):og(this._delegate,e,t,...o)}catch(l){throw ua(l,"updateDoc()","DocumentReference.update()")}}delete(){return function fy(i){return Kc(yi(i.firestore,si),[new Zl(i._key,Xi.none())])}(this._delegate)}onSnapshot(...e){const t=wy(e),o=Cy(e,l=>new eh(this.firestore,new ml(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return py(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?function vl(i){i=yi(i,Ds);const e=yi(i.firestore,si),t=Vi(e),o=new Ul(e);return function Um(i,e){const t=new On;return i.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return(o=(0,Fe.Z)(function*(l,h,g){try{const x=yield function(H,Q){const Ae=Cn(H);return Ae.persistence.runTransaction("read document","readonly",Ze=>Ae.localDocuments.getDocument(Ze,Q))}(l,h);x.isFoundDocument()?g.resolve(x):x.isNoDocument()?g.resolve(null):g.reject(new wt(kt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(x){const H=Bu(x,`Failed to get document '${h} from cache`);g.reject(H)}}),function(l,h,g){return o.apply(this,arguments)})(yield Tc(i),e,t);var o})),t.promise}(t,i._key).then(l=>new ml(e,o,i._key,l,new gu(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function Hv(i){i=yi(i,Ds);const e=yi(i.firestore,si);return Hm(Vi(e),i._key,{source:"server"}).then(t=>Xd(e,i,t))}(this._delegate):function sg(i){i=yi(i,Ds);const e=yi(i.firestore,si);return Hm(Vi(e),i._key).then(t=>Xd(e,i,t))}(this._delegate),t.then(o=>new eh(this.firestore,new ml(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new ja(this.firestore,this._delegate.withConverter(e?Wu.getInstance(this.firestore,e):null))}}function ua(i,e,t){return i.message=i.message.replace(e,t),i}function wy(i){for(const e of i)if("object"==typeof e&&!wf(e))return e;return{}}function Cy(i,e){var t,o;let l;return l=wf(i[0])?i[0]:wf(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:h=>{l.next&&l.next(e(h))},error:null===(t=l.error)||void 0===t?void 0:t.bind(l),complete:null===(o=l.complete)||void 0===o?void 0:o.bind(l)}}class eh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ja(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Jp(this._delegate,e._delegate)}}class th extends eh{data(e){const t=this._delegate.data(e);return function Qs(i,e){i||In()}(void 0!==t),t}}class ca{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Cf(e)}where(e,t,o){try{return new ca(this.firestore,Bl(this._delegate,function iy(i,e,t){const o=e,l=vf("where",i);return new ry(l,o,t)}(e,t,o)))}catch(l){throw ua(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ca(this.firestore,Bl(this._delegate,function t0(i,e="asc"){const t=e,o=vf("orderBy",i);return new sy(o,t)}(e,t)))}catch(o){throw ua(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ca(this.firestore,Bl(this._delegate,function Lv(i){return $m("limit",i),new oy("limit",i,"F")}(e)))}catch(t){throw ua(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ca(this.firestore,Bl(this._delegate,function ay(i){return $m("limitToLast",i),new oy("limitToLast",i,"L")}(e)))}catch(t){throw ua(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ca(this.firestore,Bl(this._delegate,function mo(...i){return new ly("startAt",i,!0)}(...e)))}catch(t){throw ua(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ca(this.firestore,Bl(this._delegate,function uy(...i){return new ly("startAfter",i,!1)}(...e)))}catch(t){throw ua(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ca(this.firestore,Bl(this._delegate,function Vv(...i){return new cy("endBefore",i,!1)}(...e)))}catch(t){throw ua(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ca(this.firestore,Bl(this._delegate,function dy(...i){return new cy("endAt",i,!0)}(...e)))}catch(t){throw ua(t,"endAt()","Query.endAt()")}}isEqual(e){return Km(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function _l(i){i=yi(i,Xo);const e=yi(i.firestore,si),t=Vi(e),o=new Ul(e);return function Mv(i,e){const t=new On;return i.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return(o=(0,Fe.Z)(function*(l,h,g){try{const x=yield Sd(l,h,!0),H=new Im(h,x.Hi),Q=H.ju(x.documents),Ae=H.applyChanges(Q,!1);g.resolve(Ae.snapshot)}catch(x){const H=Bu(x,`Failed to execute query '${h} against cache`);g.reject(H)}}),function(l,h,g){return o.apply(this,arguments)})(yield Tc(i),e,t);var o})),t.promise}(t,i._query).then(l=>new yl(e,o,i,l))}(this._delegate):"server"===e?.source?function Qa(i){i=yi(i,Xo);const e=yi(i.firestore,si),t=Vi(e),o=new Ul(e);return Rc(t,i._query,{source:"server"}).then(l=>new yl(e,o,i,l))}(this._delegate):function jv(i){i=yi(i,Xo);const e=yi(i.firestore,si),t=Vi(e),o=new Ul(e);return eg(i._query),Rc(t,i._query).then(l=>new yl(e,o,i,l))}(this._delegate),t.then(o=>new hg(this.firestore,new yl(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=wy(e),o=Cy(e,l=>new hg(this.firestore,new yl(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return py(this._delegate,t,o)}withConverter(e){return new ca(this.firestore,this._delegate.withConverter(e?Wu.getInstance(this.firestore,e):null))}}class Yv{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new th(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ca(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new th(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Yv(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new th(this._firestore,o))})}isEqual(e){return Jp(this._delegate,e._delegate)}}class Yc extends ca{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ja(this.firestore,e):null}doc(e){try{return new ja(this.firestore,void 0===e?du(this._delegate):du(this._delegate,e))}catch(t){throw ua(t,"doc()","CollectionReference.doc()")}}add(e){return function Gv(i,e){const t=yi(i.firestore,si),o=du(i),l=Qd(i.converter,e);return Kc(t,[Uc(fu(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,Xi.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new ja(this.firestore,t))}isEqual(e){return Wm(this._delegate,e._delegate)}withConverter(e){return new Yc(this.firestore,this._delegate.withConverter(e?Wu.getInstance(this.firestore,e):null))}}function Ku(i){return yi(i,Ds)}class fg{constructor(...e){this._delegate=new gl(...e)}static documentId(){return new fg(gi.keyField().canonicalString())}isEqual(e){return(e=(0,Ie.m9)(e))instanceof gl&&this._delegate._internalPath.isEqual(e._internalPath)}}class qu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Wv(){return new Hc("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new qu(e)}static delete(){const e=function gy(){return new Gu("deleteField")}();return e._methodName="FieldValue.delete",new qu(e)}static arrayUnion(...e){const t=function my(...i){return new ff("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new qu(t)}static arrayRemove(...e){const t=function yy(...i){return new Zp("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new qu(t)}static increment(e){const t=function _f(i){return new Nv("increment",i)}(e);return t._methodName="FieldValue.increment",new qu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Dy={Firestore:dg,GeoPoint:Kd,Timestamp:Ri,Blob:qc,Transaction:by,WriteBatch:Ey,DocumentReference:ja,DocumentSnapshot:eh,Query:ca,QueryDocumentSnapshot:th,QuerySnapshot:hg,CollectionReference:Yc,FieldPath:fg,FieldValue:qu,setLogLevel:function qv(i){!function Bs(i){Ci.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Ay(i){(function Iy(i,e){i.INTERNAL.registerComponent(new Be.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),l=t.getProvider("firestore").getImmediate();return e(o,l)},"PUBLIC").setServiceProps(Object.assign({},Dy)))})(i,(e,t)=>new dg(e,t,new _y)),i.registerVersion("@firebase/firestore-compat","0.1.25")}(at.Z);var Hl=S(1205),xy=S(440),Sy=S(127);function pg(i,e){return function Ty(i,e=C.z){return new I.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(i,e)}function nh(i,e){return pg(i,e).pipe((0,be.U)(t=>({payload:t,type:"query"})))}function rh(i,e){return nh(i,e).pipe((0,Ne.O)(void 0),ce(),(0,be.U)(([t,o])=>{const l=o.payload.docChanges(),h=l.map(g=>({type:g.type,payload:g}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((g,x)=>{const H=l.find(Ae=>Ae.doc.ref.isEqual(g.ref)),Q=t?.payload.docs.find(Ae=>Ae.ref.isEqual(g.ref));H&&JSON.stringify(H.doc.metadata)===JSON.stringify(g.metadata)||!H&&Q&&JSON.stringify(Q.metadata)===JSON.stringify(g.metadata)||h.push({type:"modified",payload:{oldIndex:x,newIndex:x,type:"modified",doc:g}})}),h}))}function mu(i,e,t){return rh(i,t).pipe((0,De.R)((o,l)=>function Zv(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function Zc(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return gg(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return gg(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return gg(i,e.oldIndex,1)}return i}(i,o))}),i}(o,l.map(h=>h.payload),e),[]),(0,it.x)(),(0,be.U)(o=>o.map(l=>({type:l.type,payload:l}))))}function gg(i,e,t,...o){const l=i.slice();return l.splice(e,t,...o),l}function Qv(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Df{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=rh(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,be.U)(o=>o.filter(l=>e.indexOf(l.type)>-1)))),t.pipe((0,Ne.O)(void 0),ce(),(0,nt.h)(([o,l])=>l.length>0||!o),(0,be.U)(([o,l])=>l),Me.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,De.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Qv(e);return mu(this.query,t,this.afs.schedulers.outsideAngular).pipe(Me.iC)}valueChanges(e={}){return nh(this.query,this.afs.schedulers.outsideAngular).pipe((0,be.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),Me.iC)}get(e){return(0,re.D)(this.query.get(e)).pipe(Me.iC)}add(e){return this.ref.add(e)}doc(e){return new Xv(this.ref.doc(e),this.afs)}}class Xv{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:l,query:h}=Oy(o,t);return new Df(l,h,this.afs)}snapshotChanges(){return function My(i,e){return pg(i,e).pipe((0,Ne.O)(void 0),ce(),(0,be.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Me.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,be.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,re.D)(this.ref.get(e)).pipe(Me.iC)}}class Ry{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?rh(this.query,this.afs.schedulers.outsideAngular).pipe((0,be.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,nt.h)(t=>t.length>0),Me.iC):rh(this.query,this.afs.schedulers.outsideAngular).pipe(Me.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,De.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Qv(e);return mu(this.query,t,this.afs.schedulers.outsideAngular).pipe(Me.iC)}valueChanges(e={}){return nh(this.query,this.afs.schedulers.outsideAngular).pipe((0,be.U)(o=>o.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),Me.iC)}get(e){return(0,re.D)(this.query.get(e)).pipe(Me.iC)}}const mg=new c.OlP("angularfire2.enableFirestorePersistence"),Jv=new c.OlP("angularfire2.firestore.persistenceSettings"),Cr=new c.OlP("angularfire2.firestore.settings"),e_=new c.OlP("angularfire2.firestore.use-emulator");function Oy(i,e=(t=>t)){return{query:e(i),ref:i}}let ky=(()=>{class i{constructor(t,o,l,h,g,x,H,Q,Ae,Ze,xt,Yt,Jt,Pn,er,Si,Ji){this.schedulers=H;const Ti=(0,ze.on)(t,x,o),Ms=Ae;Ze&&(0,Hl.nw)(Ti,x,xt,Jt,Pn,er,Yt,Si),[this.firestore,this.persistenceEnabled$]=(0,ze.cc)(`${Ti.name}.firestore`,"AngularFirestore",Ti.name,()=>{const Oi=x.runOutsideAngular(()=>Ti.firestore());if(h&&Oi.settings(h),Ms&&Oi.useEmulator(...Ms),l&&!(0,_t.PM)(g)){const Bi=()=>{try{return(0,re.D)(Oi.enablePersistence(Q||void 0).then(()=>!0,()=>!1))}catch(yo){return typeof console<"u"&&console.warn(yo),(0,ge.of)(!1)}};return[Oi,x.runOutsideAngular(Bi)]}return[Oi,(0,ge.of)(!1)]},[h,Ms,l])}collection(t,o){let l;l="string"==typeof t?this.firestore.collection(t):t;const{ref:h,query:g}=Oy(l,o),x=this.schedulers.ngZone.run(()=>h);return new Df(x,g,this)}collectionGroup(t,o){const l=o||(g=>g),h=this.firestore.collectionGroup(t);return new Ry(l(h),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const l=this.schedulers.ngZone.run(()=>o);return new Xv(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(c.LFG(ze.Dh),c.LFG(ze.xv,8),c.LFG(mg,8),c.LFG(Cr,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Me.HU),c.LFG(Jv,8),c.LFG(e_,8),c.LFG(Hl.zQ,8),c.LFG(Hl.Qv,8),c.LFG(Hl.L6,8),c.LFG(Hl._Q,8),c.LFG(Hl.rT,8),c.LFG(Hl.lh,8),c.LFG(Hl.f7,8),c.LFG(xy.nm,8))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Qc=(()=>{class i{constructor(){Sy.Z.registerVersion("angularfire",Me.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:mg,useValue:!0},{provide:Jv,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({providers:[ky]}),i})()},2011:(en,rt,S)=>{"use strict";S.d(rt,{Dh:()=>Te,GT:()=>Me,cc:()=>nt,hO:()=>it,on:()=>ce,pX:()=>ge,xv:()=>ke});var c=S(4650),C=S(127),I=S(5813);en=S.hmd(en);const re=["ngOnDestroy"],ge=(at,Fe,Rt,Be={})=>new Proxy(at,{get:(we,Ie)=>Rt.runOutsideAngular(()=>{var tt;if(at[Ie])return!(null===(tt=Be?.spy)||void 0===tt)&&tt.get&&Be.spy.get(Ie,at[Ie]),at[Ie];if(re.indexOf(Ie)>-1)return()=>{};const Et=Fe.toPromise().then(ye=>{const pt=ye&&ye[Ie];return"function"==typeof pt?pt.bind(ye):pt&&pt.then?pt.then(Re=>Rt.run(()=>Re)):Rt.run(()=>pt)});return new Proxy(()=>{},{get:(ye,pt)=>Et[pt],apply:(ye,pt,Re)=>Et.then(Ye=>{var ct;const dt=Ye&&Ye(...Re);return!(null===(ct=Be?.spy)||void 0===ct)&&ct.apply&&Be.spy.apply(Ie,Re,dt),dt})})})}),Me=(at,Fe)=>{Fe.forEach(Rt=>{Object.getOwnPropertyNames(Rt.prototype||Rt).forEach(Be=>{Object.defineProperty(at.prototype,Be,Object.getOwnPropertyDescriptor(Rt.prototype||Rt,Be))})})};class Ne{constructor(Fe){return Fe}}const Te=new c.OlP("angularfire2.app.options"),ke=new c.OlP("angularfire2.app.name");function ce(at,Fe,Rt){const we="object"==typeof Rt&&Rt||{};we.name=we.name||"string"==typeof Rt&&Rt||"[DEFAULT]";const tt=C.Z.apps.filter(Et=>Et&&Et.name===we.name)[0]||Fe.runOutsideAngular(()=>C.Z.initializeApp(at,we));try{JSON.stringify(at)!==JSON.stringify(tt.options)&&be("error",`${tt.name} Firebase App already initialized with different options${en.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ne(tt)}const be=(at,...Fe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[at](...Fe)},De={provide:Ne,useFactory:ce,deps:[Te,c.R0b,[new c.FiY,ke]]};let it=(()=>{class at{constructor(Rt){C.Z.registerVersion("angularfire",I.q4.full,"core"),C.Z.registerVersion("angularfire",I.q4.full,"app-compat"),C.Z.registerVersion("angular",c.q4F.full,Rt.toString())}static initializeApp(Rt,Be){return{ngModule:at,providers:[{provide:Te,useValue:Rt},{provide:ke,useValue:Be}]}}}return at.\u0275fac=function(Rt){return new(Rt||at)(c.LFG(c.Lbi))},at.\u0275mod=c.oAB({type:at}),at.\u0275inj=c.cJS({providers:[De]}),at})();function nt(at,Fe,Rt,Be,we){const[,Ie,tt]=globalThis.\u0275AngularfireInstanceCache.find(Et=>Et[0]===at)||[];if(Ie)return function ze(at,Fe){try{return at.toString()===Fe.toString()}catch{return at===Fe}}(we,tt)||(Je("error",`${Fe} was already initialized on the ${Rt} Firebase App with different settings.${_t?" You may need to reload as Firebase is not HMR aware.":""}`),Je("warn",{is:we,was:tt})),Ie;{const Et=Be();return globalThis.\u0275AngularfireInstanceCache.push([at,Et,we]),Et}}const _t=!!en.hot,Je=(at,...Fe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[at](...Fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(en,rt,S)=>{"use strict";S.d(rt,{q4:()=>$e,iC:()=>So,HU:()=>sa,vb:()=>ha,JM:()=>Js});var c=S(4650),C=S(5867),I=S(5861),re=S(9681),ge=S(2090),Me=S(3475),Ne=S(1877),Te=S(8766);const ke="@firebase/installations",ce="0.5.12",De=`w:${ce}`,it="FIS_v2",Fe=new ge.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Rt(k){return k instanceof ge.ZR&&k.code.includes("request-failed")}function Be({projectId:k}){return`https://firebaseinstallations.googleapis.com/v1/projects/${k}/installations`}function we(k){return{token:k.token,requestStatus:2,expiresIn:Ye(k.expiresIn),creationTime:Date.now()}}function Ie(k,B){return tt.apply(this,arguments)}function tt(){return(tt=(0,I.Z)(function*(k,B){const He=(yield B.json()).error;return Fe.create("request-failed",{requestName:k,serverCode:He.code,serverMessage:He.message,serverStatus:He.status})})).apply(this,arguments)}function Et({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function ye(k,{refreshToken:B}){const se=Et(k);return se.append("Authorization",function ct(k){return`${it} ${k}`}(B)),se}function pt(k){return Re.apply(this,arguments)}function Re(){return(Re=(0,I.Z)(function*(k){const B=yield k();return B.status>=500&&B.status<600?k():B})).apply(this,arguments)}function Ye(k){return Number(k.replace("s","000"))}function dt(k,B){return jt.apply(this,arguments)}function jt(){return(jt=(0,I.Z)(function*({appConfig:k,heartbeatServiceProvider:B},{fid:se}){const He=Be(k),vt=Et(k),Ft=B.getImmediate({optional:!0});if(Ft){const mr=yield Ft.getHeartbeatsHeader();mr&&vt.append("x-firebase-client",mr)}const Mn={method:"POST",headers:vt,body:JSON.stringify({fid:se,authVersion:it,appId:k.appId,sdkVersion:De})},sr=yield pt(()=>fetch(He,Mn));if(sr.ok){const mr=yield sr.json();return{fid:mr.fid||se,registrationStatus:2,refreshToken:mr.refreshToken,authToken:we(mr.authToken)}}throw yield Ie("Create Installation",sr)})).apply(this,arguments)}function Gt(k){return new Promise(B=>{setTimeout(B,k)})}const fn=/^[cdef][\w-]{21}$/;function Nt(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const se=function Rn(k){return function Kt(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return fn.test(se)?se:""}catch{return""}}function pn(k){return`${k.appName}!${k.appId}`}const gn=new Map;function zt(k,B){const se=pn(k);wn(se,B),function xr(k,B){const se=function Gn(){return!An&&"BroadcastChannel"in self&&(An=new BroadcastChannel("[Firebase] FID Change"),An.onmessage=k=>{wn(k.data.key,k.data.fid)}),An}();se&&se.postMessage({key:k,fid:B}),function or(){0===gn.size&&An&&(An.close(),An=null)}()}(se,B)}function wn(k,B){const se=gn.get(k);if(se)for(const He of se)He(B)}let An=null;const hr="firebase-installations-store";let Bn=null;function Qn(){return Bn||(Bn=(0,Te.X3)("firebase-installations-database",1,{upgrade:(k,B)=>{0===B&&k.createObjectStore(hr)}})),Bn}function $t(k,B){return rr.apply(this,arguments)}function rr(){return(rr=(0,I.Z)(function*(k,B){const se=pn(k),vt=(yield Qn()).transaction(hr,"readwrite"),Ft=vt.objectStore(hr),on=yield Ft.get(se);return yield Ft.put(B,se),yield vt.done,(!on||on.fid!==B.fid)&&zt(k,B.fid),B})).apply(this,arguments)}function Xn(k){return ir.apply(this,arguments)}function ir(){return(ir=(0,I.Z)(function*(k){const B=pn(k),He=(yield Qn()).transaction(hr,"readwrite");yield He.objectStore(hr).delete(B),yield He.done})).apply(this,arguments)}function cr(k,B){return sn.apply(this,arguments)}function sn(){return(sn=(0,I.Z)(function*(k,B){const se=pn(k),vt=(yield Qn()).transaction(hr,"readwrite"),Ft=vt.objectStore(hr),on=yield Ft.get(se),Mn=B(on);return void 0===Mn?yield Ft.delete(se):yield Ft.put(Mn,se),yield vt.done,Mn&&(!on||on.fid!==Mn.fid)&&zt(k,Mn.fid),Mn})).apply(this,arguments)}function Ct(k){return st.apply(this,arguments)}function st(){return(st=(0,I.Z)(function*(k){let B;const se=yield cr(k.appConfig,He=>{const vt=Pt(He),Ft=Tt(k,vt);return B=Ft.registrationPromise,Ft.installationEntry});return""===se.fid?{installationEntry:yield B}:{installationEntry:se,registrationPromise:B}})).apply(this,arguments)}function Pt(k){return Qe(k||{fid:Nt(),registrationStatus:0})}function Tt(k,B){if(0===B.registrationStatus){if(!navigator.onLine)return{installationEntry:B,registrationPromise:Promise.reject(Fe.create("app-offline"))};const se={fid:B.fid,registrationStatus:1,registrationTime:Date.now()},He=function Bt(k,B){return _n.apply(this,arguments)}(k,se);return{installationEntry:se,registrationPromise:He}}return 1===B.registrationStatus?{installationEntry:B,registrationPromise:hn(k)}:{installationEntry:B}}function _n(){return(_n=(0,I.Z)(function*(k,B){try{const se=yield dt(k,B);return $t(k.appConfig,se)}catch(se){throw Rt(se)&&409===se.customData.serverCode?yield Xn(k.appConfig):yield $t(k.appConfig,{fid:B.fid,registrationStatus:0}),se}})).apply(this,arguments)}function hn(k){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,I.Z)(function*(k){let B=yield qn(k.appConfig);for(;1===B.registrationStatus;)yield Gt(100),B=yield qn(k.appConfig);if(0===B.registrationStatus){const{installationEntry:se,registrationPromise:He}=yield Ct(k);return He||se}return B})).apply(this,arguments)}function qn(k){return cr(k,B=>{if(!B)throw Fe.create("installation-not-found");return Qe(B)})}function Qe(k){return function qe(k){return 1===k.registrationStatus&&k.registrationTime+1e4<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function N(k,B){return Z.apply(this,arguments)}function Z(){return(Z=(0,I.Z)(function*({appConfig:k,heartbeatServiceProvider:B},se){const He=q(k,se),vt=ye(k,se),Ft=B.getImmediate({optional:!0});if(Ft){const mr=yield Ft.getHeartbeatsHeader();mr&&vt.append("x-firebase-client",mr)}const Mn={method:"POST",headers:vt,body:JSON.stringify({installation:{sdkVersion:De,appId:k.appId}})},sr=yield pt(()=>fetch(He,Mn));if(sr.ok)return we(yield sr.json());throw yield Ie("Generate Auth Token",sr)})).apply(this,arguments)}function q(k,{fid:B}){return`${Be(k)}/${B}/authTokens:generate`}function Y(k){return j.apply(this,arguments)}function j(){return(j=(0,I.Z)(function*(k,B=!1){let se;const He=yield cr(k.appConfig,Ft=>{if(!ot(Ft))throw Fe.create("not-registered");const on=Ft.authToken;if(!B&&Qt(on))return Ft;if(1===on.requestStatus)return se=ee(k,B),Ft;{if(!navigator.onLine)throw Fe.create("app-offline");const Mn=ln(Ft);return se=xe(k,Mn),Mn}});return se?yield se:He.authToken})).apply(this,arguments)}function ee(k,B){return $.apply(this,arguments)}function $(){return($=(0,I.Z)(function*(k,B){let se=yield fe(k.appConfig);for(;1===se.authToken.requestStatus;)yield Gt(100),se=yield fe(k.appConfig);const He=se.authToken;return 0===He.requestStatus?Y(k,B):He})).apply(this,arguments)}function fe(k){return cr(k,B=>{if(!ot(B))throw Fe.create("not-registered");return function mn(k){return 1===k.requestStatus&&k.requestTime+1e4<Date.now()}(B.authToken)?Object.assign(Object.assign({},B),{authToken:{requestStatus:0}}):B})}function xe(k,B){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,I.Z)(function*(k,B){try{const se=yield N(k,B),He=Object.assign(Object.assign({},B),{authToken:se});return yield $t(k.appConfig,He),se}catch(se){if(!Rt(se)||401!==se.customData.serverCode&&404!==se.customData.serverCode){const He=Object.assign(Object.assign({},B),{authToken:{requestStatus:0}});yield $t(k.appConfig,He)}else yield Xn(k.appConfig);throw se}})).apply(this,arguments)}function ot(k){return void 0!==k&&2===k.registrationStatus}function Qt(k){return 2===k.requestStatus&&!function nn(k){const B=Date.now();return B<k.creationTime||k.creationTime+k.expiresIn<B+36e5}(k)}function ln(k){const B={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:B})}function ar(){return(ar=(0,I.Z)(function*(k){const B=k,{installationEntry:se,registrationPromise:He}=yield Ct(B);return He?He.catch(console.error):Y(B).catch(console.error),se.fid})).apply(this,arguments)}function Xe(){return(Xe=(0,I.Z)(function*(k,B=!1){const se=k;return yield je(se),(yield Y(se,B)).token})).apply(this,arguments)}function je(k){return yt.apply(this,arguments)}function yt(){return(yt=(0,I.Z)(function*(k){const{registrationPromise:B}=yield Ct(k);B&&(yield B)})).apply(this,arguments)}function Lt(k){return Fe.create("missing-app-config-values",{valueName:k})}const cn="installations",vn=k=>{const B=k.getProvider("app").getImmediate(),se=function gt(k){if(!k||!k.options)throw Lt("App Configuration");if(!k.name)throw Lt("App Name");const B=["projectId","apiKey","appId"];for(const se of B)if(!k.options[se])throw Lt(se);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(B);return{app:B,appConfig:se,heartbeatServiceProvider:(0,re._getProvider)(B,"heartbeat"),_delete:()=>Promise.resolve()}},Rr=k=>{const B=k.getProvider("app").getImmediate(),se=(0,re._getProvider)(B,cn).getImmediate();return{getId:()=>function xn(k){return ar.apply(this,arguments)}(se),getToken:vt=>function mt(k){return Xe.apply(this,arguments)}(se,vt)}};(function ei(){(0,re._registerComponent)(new Me.wA(cn,vn,"PUBLIC")),(0,re._registerComponent)(new Me.wA("installations-internal",Rr,"PRIVATE"))})(),(0,re.registerVersion)(ke,ce),(0,re.registerVersion)(ke,ce,"esm2017");const Xr="@firebase/remote-config",Pr=new ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ls{constructor(B,se,He,vt){this.client=B,this.storage=se,this.storageCache=He,this.logger=vt}isCachedDataFresh(B,se){if(!se)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const He=Date.now()-se,vt=He<=B;return this.logger.debug(`Config fetch cache check. Cache age millis: ${He}. Cache max age millis (minimumFetchIntervalMillis setting): ${B}. Is cache hit: ${vt}.`),vt}fetch(B){var se=this;return(0,I.Z)(function*(){const[He,vt]=yield Promise.all([se.storage.getLastSuccessfulFetchTimestampMillis(),se.storage.getLastSuccessfulFetchResponse()]);if(vt&&se.isCachedDataFresh(B.cacheMaxAgeMillis,He))return vt;B.eTag=vt&&vt.eTag;const Ft=yield se.client.fetch(B),on=[se.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ft.status&&on.push(se.storage.setLastSuccessfulFetchResponse(Ft)),yield Promise.all(on),Ft})()}}function zs(k=navigator){return k.languages&&k.languages[0]||k.language}class oe{constructor(B,se,He,vt,Ft,on){this.firebaseInstallations=B,this.sdkVersion=se,this.namespace=He,this.projectId=vt,this.apiKey=Ft,this.appId=on}fetch(B){var se=this;return(0,I.Z)(function*(){var He,vt,Ft;const[on,Mn]=yield Promise.all([se.firebaseInstallations.getId(),se.firebaseInstallations.getToken()]),mr=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${se.projectId}/namespaces/${se.namespace}:fetch?key=${se.apiKey}`,Ur={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":B.eTag||"*"},yr={sdk_version:se.sdkVersion,app_instance_id:on,app_instance_id_token:Mn,app_id:se.appId,language_code:zs()},gs={method:"POST",headers:Ur,body:JSON.stringify(yr)},eo=fetch(mr,gs),za=new Promise((Wo,Wa)=>{B.signal.addEventListener(()=>{const tl=new Error("The operation was aborted.");tl.name="AbortError",Wa(tl)})});let ms;try{yield Promise.race([eo,za]),ms=yield eo}catch(Wo){let Wa="fetch-client-network";throw"AbortError"===(null===(He=Wo)||void 0===He?void 0:He.name)&&(Wa="fetch-timeout"),Pr.create(Wa,{originalErrorMessage:null===(vt=Wo)||void 0===vt?void 0:vt.message})}let Oa=ms.status;const Di=ms.headers.get("ETag")||void 0;let ka,Pa;if(200===ms.status){let Wo;try{Wo=yield ms.json()}catch(Wa){throw Pr.create("fetch-client-parse",{originalErrorMessage:null===(Ft=Wa)||void 0===Ft?void 0:Ft.message})}ka=Wo.entries,Pa=Wo.state}if("INSTANCE_STATE_UNSPECIFIED"===Pa?Oa=500:"NO_CHANGE"===Pa?Oa=304:("NO_TEMPLATE"===Pa||"EMPTY_CONFIG"===Pa)&&(ka={}),304!==Oa&&200!==Oa)throw Pr.create("fetch-status",{httpStatus:Oa});return{status:Oa,eTag:Di,config:ka}})()}}class me{constructor(B,se){this.client=B,this.storage=se}fetch(B){var se=this;return(0,I.Z)(function*(){const He=(yield se.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return se.attemptFetch(B,He)})()}attemptFetch(B,{throttleEndTimeMillis:se,backoffCount:He}){var vt=this;return(0,I.Z)(function*(){yield function Ee(k,B){return new Promise((se,He)=>{const vt=Math.max(B-Date.now(),0),Ft=setTimeout(se,vt);k.addEventListener(()=>{clearTimeout(Ft),He(Pr.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(B.signal,se);try{const Ft=yield vt.client.fetch(B);return yield vt.storage.deleteThrottleMetadata(),Ft}catch(Ft){if(!function X(k){if(!(k instanceof ge.ZR&&k.customData))return!1;const B=Number(k.customData.httpStatus);return 429===B||500===B||503===B||504===B}(Ft))throw Ft;const on={throttleEndTimeMillis:Date.now()+(0,ge.$s)(He),backoffCount:He+1};return yield vt.storage.setThrottleMetadata(on),vt.attemptFetch(B,on)}})()}}class Ut{constructor(B,se,He,vt,Ft){this.app=B,this._client=se,this._storageCache=He,this._storage=vt,this._logger=Ft,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function un(k,B){var se;const He=k.target.error||void 0;return Pr.create(B,{originalErrorMessage:He&&(null===(se=He)||void 0===se?void 0:se.message)})}const Dn="app_namespace_store";class Ue{constructor(B,se,He,vt=function lt(){return new Promise((k,B)=>{var se;try{const He=indexedDB.open("firebase_remote_config",1);He.onerror=vt=>{B(un(vt,"storage-open"))},He.onsuccess=vt=>{k(vt.target.result)},He.onupgradeneeded=vt=>{0===vt.oldVersion&&vt.target.result.createObjectStore(Dn,{keyPath:"compositeKey"})}}catch(He){B(Pr.create("storage-open",{originalErrorMessage:null===(se=He)||void 0===se?void 0:se.message}))}})}()){this.appId=B,this.appName=se,this.namespace=He,this.openDbPromise=vt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(B){return this.set("last_fetch_status",B)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(B){return this.set("last_successful_fetch_timestamp_millis",B)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(B){return this.set("last_successful_fetch_response",B)}getActiveConfig(){return this.get("active_config")}setActiveConfig(B){return this.set("active_config",B)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(B){return this.set("active_config_etag",B)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(B){return this.set("throttle_metadata",B)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(B){var se=this;return(0,I.Z)(function*(){const He=yield se.openDbPromise;return new Promise((vt,Ft)=>{var on;const sr=He.transaction([Dn],"readonly").objectStore(Dn),mr=se.createCompositeKey(B);try{const Ur=sr.get(mr);Ur.onerror=yr=>{Ft(un(yr,"storage-get"))},Ur.onsuccess=yr=>{const gs=yr.target.result;vt(gs?gs.value:void 0)}}catch(Ur){Ft(Pr.create("storage-get",{originalErrorMessage:null===(on=Ur)||void 0===on?void 0:on.message}))}})})()}set(B,se){var He=this;return(0,I.Z)(function*(){const vt=yield He.openDbPromise;return new Promise((Ft,on)=>{var Mn;const mr=vt.transaction([Dn],"readwrite").objectStore(Dn),Ur=He.createCompositeKey(B);try{const yr=mr.put({compositeKey:Ur,value:se});yr.onerror=gs=>{on(un(gs,"storage-set"))},yr.onsuccess=()=>{Ft()}}catch(yr){on(Pr.create("storage-set",{originalErrorMessage:null===(Mn=yr)||void 0===Mn?void 0:Mn.message}))}})})()}delete(B){var se=this;return(0,I.Z)(function*(){const He=yield se.openDbPromise;return new Promise((vt,Ft)=>{var on;const sr=He.transaction([Dn],"readwrite").objectStore(Dn),mr=se.createCompositeKey(B);try{const Ur=sr.delete(mr);Ur.onerror=yr=>{Ft(un(yr,"storage-delete"))},Ur.onsuccess=()=>{vt()}}catch(Ur){Ft(Pr.create("storage-delete",{originalErrorMessage:null===(on=Ur)||void 0===on?void 0:on.message}))}})})()}createCompositeKey(B){return[this.appId,this.appName,this.namespace,B].join()}}class bt{constructor(B){this.storage=B}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var B=this;return(0,I.Z)(function*(){const se=B.storage.getLastFetchStatus(),He=B.storage.getLastSuccessfulFetchTimestampMillis(),vt=B.storage.getActiveConfig(),Ft=yield se;Ft&&(B.lastFetchStatus=Ft);const on=yield He;on&&(B.lastSuccessfulFetchTimestampMillis=on);const Mn=yield vt;Mn&&(B.activeConfig=Mn)})()}setLastFetchStatus(B){return this.lastFetchStatus=B,this.storage.setLastFetchStatus(B)}setLastSuccessfulFetchTimestampMillis(B){return this.lastSuccessfulFetchTimestampMillis=B,this.storage.setLastSuccessfulFetchTimestampMillis(B)}setActiveConfig(B){return this.activeConfig=B,this.storage.setActiveConfig(B)}}function fi(){return us.apply(this,arguments)}function us(){return(us=(0,I.Z)(function*(){if(!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch{return!1}})).apply(this,arguments)}!function Sn(){(0,re._registerComponent)(new Me.wA("remote-config",function k(B,{instanceIdentifier:se}){const He=B.getProvider("app").getImmediate(),vt=B.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Pr.create("registration-window");if(!(0,ge.hl)())throw Pr.create("indexed-db-unavailable");const{projectId:Ft,apiKey:on,appId:Mn}=He.options;if(!Ft)throw Pr.create("registration-project-id");if(!on)throw Pr.create("registration-api-key");if(!Mn)throw Pr.create("registration-app-id");const sr=new Ue(Mn,He.name,se=se||"firebase"),mr=new bt(sr),Ur=new Ne.Yd(Xr);Ur.logLevel=Ne.in.ERROR;const yr=new oe(vt,re.SDK_VERSION,se,Ft,on,Mn),gs=new me(yr,sr),eo=new ls(gs,sr,mr,Ur),za=new Ut(He,eo,mr,sr,Ur);return function _r(k){const B=(0,ge.m9)(k);B._initializePromise||(B._initializePromise=B._storageCache.loadFromStorage().then(()=>{B._isInitializationComplete=!0}))}(za),za},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(Xr,"0.3.11"),(0,re.registerVersion)(Xr,"0.3.11","esm2017")}();const ts="/firebase-messaging-sw.js",Gi="/firebase-cloud-messaging-push-scope",As="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ks="google.c.a.c_id",vo="google.c.a.c_l",no="google.c.a.ts",_o="google.c.a.e";var ds=(()=>{return(k=ds||(ds={})).PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",ds;var k})();function ys(k){const B=new Uint8Array(k);return btoa(String.fromCharCode(...B)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hs(k){const se=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),He=atob(se),vt=new Uint8Array(He.length);for(let Ft=0;Ft<He.length;++Ft)vt[Ft]=He.charCodeAt(Ft);return vt}const Ps="fcm_token_details_db",Hi="fcm_token_object_Store";function vs(k){return Ws.apply(this,arguments)}function Ws(){return Ws=(0,I.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ft=>Ft.name).includes(Ps))return null;let B=null;return(yield(0,Te.X3)(Ps,5,{upgrade:(He=(0,I.Z)(function*(vt,Ft,on,Mn){var sr;if(Ft<2||!vt.objectStoreNames.contains(Hi))return;const mr=Mn.objectStore(Hi),Ur=yield mr.index("fcmSenderId").get(k);if(yield mr.clear(),Ur)if(2===Ft){const yr=Ur;if(!yr.auth||!yr.p256dh||!yr.endpoint)return;B={token:yr.fcmToken,createTime:null!==(sr=yr.createTime)&&void 0!==sr?sr:Date.now(),subscriptionOptions:{auth:yr.auth,p256dh:yr.p256dh,endpoint:yr.endpoint,swScope:yr.swScope,vapidKey:"string"==typeof yr.vapidKey?yr.vapidKey:ys(yr.vapidKey)}}}else if(3===Ft){const yr=Ur;B={token:yr.fcmToken,createTime:yr.createTime,subscriptionOptions:{auth:ys(yr.auth),p256dh:ys(yr.p256dh),endpoint:yr.endpoint,swScope:yr.swScope,vapidKey:ys(yr.vapidKey)}}}else if(4===Ft){const yr=Ur;B={token:yr.fcmToken,createTime:yr.createTime,subscriptionOptions:{auth:ys(yr.auth),p256dh:ys(yr.p256dh),endpoint:yr.endpoint,swScope:yr.swScope,vapidKey:ys(yr.vapidKey)}}}}),function(Ft,on,Mn,sr){return He.apply(this,arguments)})})).close(),yield(0,Te.Lj)(Ps),yield(0,Te.Lj)("fcm_vapid_details_db"),yield(0,Te.Lj)("undefined"),ni(B)?B:null;var He}),Ws.apply(this,arguments)}function ni(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:B}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof B.auth&&B.auth.length>0&&"string"==typeof B.p256dh&&B.p256dh.length>0&&"string"==typeof B.endpoint&&B.endpoint.length>0&&"string"==typeof B.swScope&&B.swScope.length>0&&"string"==typeof B.vapidKey&&B.vapidKey.length>0}const Vr="firebase-messaging-store";let $i=null;function Ns(){return $i||($i=(0,Te.X3)("firebase-messaging-database",1,{upgrade:(k,B)=>{0===B&&k.createObjectStore(Vr)}})),$i}function ns(k){return qs.apply(this,arguments)}function qs(){return(qs=(0,I.Z)(function*(k){const B=fs(k),He=yield(yield Ns()).transaction(Vr).objectStore(Vr).get(B);if(He)return He;{const vt=yield vs(k.appConfig.senderId);if(vt)return yield Fr(k,vt),vt}})).apply(this,arguments)}function Fr(k,B){return jo.apply(this,arguments)}function jo(){return(jo=(0,I.Z)(function*(k,B){const se=fs(k),vt=(yield Ns()).transaction(Vr,"readwrite");return yield vt.objectStore(Vr).put(B,se),yield vt.done,B})).apply(this,arguments)}function Ls(k){return qi.apply(this,arguments)}function qi(){return(qi=(0,I.Z)(function*(k){const B=fs(k),He=(yield Ns()).transaction(Vr,"readwrite");yield He.objectStore(Vr).delete(B),yield He.done})).apply(this,arguments)}function fs({appConfig:k}){return k.appId}const Gr=new ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function tr(k,B){return uo.apply(this,arguments)}function uo(){return(uo=(0,I.Z)(function*(k,B){var se;const He=yield Oo(k),vt=Wt(B),Ft={method:"POST",headers:He,body:JSON.stringify(vt)};let on;try{on=yield(yield fetch(rs(k.appConfig),Ft)).json()}catch(Mn){throw Gr.create("token-subscribe-failed",{errorInfo:null===(se=Mn)||void 0===se?void 0:se.toString()})}if(on.error)throw Gr.create("token-subscribe-failed",{errorInfo:on.error.message});if(!on.token)throw Gr.create("token-subscribe-no-token");return on.token})).apply(this,arguments)}function Go(k,B){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,I.Z)(function*(k,B){var se;const He=yield Oo(k),vt=Wt(B.subscriptionOptions),Ft={method:"PATCH",headers:He,body:JSON.stringify(vt)};let on;try{on=yield(yield fetch(`${rs(k.appConfig)}/${B.token}`,Ft)).json()}catch(Mn){throw Gr.create("token-update-failed",{errorInfo:null===(se=Mn)||void 0===se?void 0:se.toString()})}if(on.error)throw Gr.create("token-update-failed",{errorInfo:on.error.message});if(!on.token)throw Gr.create("token-update-no-token");return on.token})).apply(this,arguments)}function bo(k,B){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,I.Z)(function*(k,B){var se;const vt={method:"DELETE",headers:yield Oo(k)};try{const on=yield(yield fetch(`${rs(k.appConfig)}/${B}`,vt)).json();if(on.error)throw Gr.create("token-unsubscribe-failed",{errorInfo:on.error.message})}catch(Ft){throw Gr.create("token-unsubscribe-failed",{errorInfo:null===(se=Ft)||void 0===se?void 0:se.toString()})}})).apply(this,arguments)}function rs({projectId:k}){return`https://fcmregistrations.googleapis.com/v1/projects/${k}/registrations`}function Oo(k){return ko.apply(this,arguments)}function ko(){return(ko=(0,I.Z)(function*({appConfig:k,installations:B}){const se=yield B.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${se}`})})).apply(this,arguments)}function Wt({p256dh:k,auth:B,endpoint:se,vapidKey:He}){const vt={web:{endpoint:se,auth:B,p256dh:k}};return He!==As&&(vt.web.applicationPubKey=He),vt}const Er=6048e5;function Eo(k){return is.apply(this,arguments)}function is(){return(is=(0,I.Z)(function*(k){const B=yield Tn(k.swRegistration,k.vapidKey),se={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:B.endpoint,auth:ys(B.getKey("auth")),p256dh:ys(B.getKey("p256dh"))},He=yield ns(k.firebaseDependencies);if(He){if(ss(He.subscriptionOptions,se))return Date.now()>=He.createTime+Er?L(k,{token:He.token,createTime:Date.now(),subscriptionOptions:se}):He.token;try{yield bo(k.firebaseDependencies,He.token)}catch(vt){console.warn(vt)}return pe(k.firebaseDependencies,se)}return pe(k.firebaseDependencies,se)})).apply(this,arguments)}function ai(k){return U.apply(this,arguments)}function U(){return(U=(0,I.Z)(function*(k){const B=yield ns(k.firebaseDependencies);B&&(yield bo(k.firebaseDependencies,B.token),yield Ls(k.firebaseDependencies));const se=yield k.swRegistration.pushManager.getSubscription();return!se||se.unsubscribe()})).apply(this,arguments)}function L(k,B){return R.apply(this,arguments)}function R(){return(R=(0,I.Z)(function*(k,B){try{const se=yield Go(k.firebaseDependencies,B),He=Object.assign(Object.assign({},B),{token:se,createTime:Date.now()});return yield Fr(k.firebaseDependencies,He),se}catch(se){throw yield ai(k),se}})).apply(this,arguments)}function pe(k,B){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,I.Z)(function*(k,B){const He={token:yield tr(k,B),createTime:Date.now(),subscriptionOptions:B};return yield Fr(k,He),He.token})).apply(this,arguments)}function Tn(k,B){return pi.apply(this,arguments)}function pi(){return(pi=(0,I.Z)(function*(k,B){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hs(B)})})).apply(this,arguments)}function ss(k,B){return B.vapidKey===k.vapidKey&&B.endpoint===k.endpoint&&B.auth===k.auth&&B.p256dh===k.p256dh}function Fs(k){const B={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function ri(k,B){if(!B.notification)return;k.notification={};const se=B.notification.title;se&&(k.notification.title=se);const He=B.notification.body;He&&(k.notification.body=He);const vt=B.notification.image;vt&&(k.notification.image=vt)}(B,k),function _s(k,B){!B.data||(k.data=B.data)}(B,k),function ma(k,B){var se,He,vt,Ft,on;if(!(B.fcmOptions||null!==(se=B.notification)&&void 0!==se&&se.click_action))return;k.fcmOptions={};const Mn=null!==(vt=null===(He=B.fcmOptions)||void 0===He?void 0:He.link)&&void 0!==vt?vt:null===(Ft=B.notification)||void 0===Ft?void 0:Ft.click_action;Mn&&(k.fcmOptions.link=Mn);const sr=null===(on=B.fcmOptions)||void 0===on?void 0:on.analytics_label;sr&&(k.fcmOptions.analyticsLabel=sr)}(B,k),B}function Ei(k){return"object"==typeof k&&!!k&&ks in k}function io(k,B){const se=[];for(let He=0;He<k.length;He++)se.push(k.charAt(He)),He<B.length&&se.push(B.charAt(He));return se.join("")}function $o(k){return Gr.create("missing-app-config-values",{valueName:k})}io("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),io("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ya{constructor(B,se,He){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const vt=function Xa(k){if(!k||!k.options)throw $o("App Configuration Object");if(!k.name)throw $o("App Name");const B=["projectId","apiKey","appId","messagingSenderId"],{options:se}=k;for(const He of B)if(!se[He])throw $o(He);return{appName:k.name,projectId:se.projectId,apiKey:se.apiKey,appId:se.appId,senderId:se.messagingSenderId}}(B);this.firebaseDependencies={app:B,appConfig:vt,installations:se,analyticsProvider:He}}_delete(){return Promise.resolve()}}function zo(k){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,I.Z)(function*(k){var B;try{k.swRegistration=yield navigator.serviceWorker.register(ts,{scope:Gi}),k.swRegistration.update().catch(()=>{})}catch(se){throw Gr.create("failed-service-worker-registration",{browserErrorMessage:null===(B=se)||void 0===B?void 0:B.message})}})).apply(this,arguments)}function co(k,B){return Po.apply(this,arguments)}function Po(){return(Po=(0,I.Z)(function*(k,B){if(!B&&!k.swRegistration&&(yield zo(k)),B||!k.swRegistration){if(!(B instanceof ServiceWorkerRegistration))throw Gr.create("invalid-sw-registration");k.swRegistration=B}})).apply(this,arguments)}function wo(k,B){return xs.apply(this,arguments)}function xs(){return(xs=(0,I.Z)(function*(k,B){B?k.vapidKey=B:k.vapidKey||(k.vapidKey=As)})).apply(this,arguments)}function ta(){return(ta=(0,I.Z)(function*(k,B){if(!navigator)throw Gr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gr.create("permission-blocked");return yield wo(k,B?.vapidKey),yield co(k,B?.serviceWorkerRegistration),Eo(k)})).apply(this,arguments)}function na(k,B,se){return Co.apply(this,arguments)}function Co(){return(Co=(0,I.Z)(function*(k,B,se){const He=ho(B);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(He,{message_id:se[ks],message_name:se[vo],message_time:se[no],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ho(k){switch(k){case ds.NOTIFICATION_CLICKED:return"notification_open";case ds.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function K(){return(K=(0,I.Z)(function*(k,B){const se=B.data;if(!se.isFirebaseMessaging)return;k.onMessageHandler&&se.messageType===ds.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(Fs(se)):k.onMessageHandler.next(Fs(se)));const He=se.data;Ei(He)&&"1"===He[_o]&&(yield na(k,se.messageType,He))})).apply(this,arguments)}const P="@firebase/messaging",Ke=k=>{const B=new ya(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",se=>function T(k,B){return K.apply(this,arguments)}(B,se)),B},Dt=k=>{const B=k.getProvider("messaging").getImmediate();return{getToken:He=>function ea(k,B){return ta.apply(this,arguments)}(B,He)}};function Vn(){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,I.Z)(function*(){try{yield(0,ge.eu)()}catch{return!1}return typeof window<"u"&&(0,ge.hl)()&&(0,ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Vt(){(0,re._registerComponent)(new Me.wA("messaging",Ke,"PUBLIC")),(0,re._registerComponent)(new Me.wA("messaging-internal",Dt,"PRIVATE")),(0,re.registerVersion)(P,"0.9.16"),(0,re.registerVersion)(P,"0.9.16","esm2017")}();const z="analytics",y="firebase_id",b="origin",J="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Se="https://www.googletagmanager.com/gtag/js",We=new Ne.Yd("@firebase/analytics");function et(k){return Promise.all(k.map(B=>B.catch(se=>se)))}function It(k,B){const se=document.createElement("script");se.src=`${Se}?l=${k}&id=${B}`,se.async=!0,document.head.appendChild(se)}function kn(k,B,se,He,vt,Ft){return jn.apply(this,arguments)}function jn(){return(jn=(0,I.Z)(function*(k,B,se,He,vt,Ft){const on=He[vt];try{if(on)yield B[on];else{const sr=(yield et(se)).find(mr=>mr.measurementId===vt);sr&&(yield B[sr.appId])}}catch(Mn){We.error(Mn)}k("config",vt,Ft)})).apply(this,arguments)}function Or(k,B,se,He,vt){return wr.apply(this,arguments)}function wr(){return(wr=(0,I.Z)(function*(k,B,se,He,vt){try{let Ft=[];if(vt&&vt.send_to){let on=vt.send_to;Array.isArray(on)||(on=[on]);const Mn=yield et(se);for(const sr of on){const mr=Mn.find(yr=>yr.measurementId===sr),Ur=mr&&B[mr.appId];if(!Ur){Ft=[];break}Ft.push(Ur)}}0===Ft.length&&(Ft=Object.values(B)),yield Promise.all(Ft),k("event",He,vt||{})}catch(Ft){We.error(Ft)}})).apply(this,arguments)}function ii(){const k=window.document.getElementsByTagName("script");for(const B of Object.values(k))if(B.src&&B.src.includes(Se))return B;return null}const ur=new ge.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Bs=new class bs{constructor(B={},se=1e3){this.throttleMetadata=B,this.intervalMillis=se}getThrottleMetadata(B){return this.throttleMetadata[B]}setThrottleMetadata(B,se){this.throttleMetadata[B]=se}deleteThrottleMetadata(B){delete this.throttleMetadata[B]}};function rn(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function Zr(k){return zi.apply(this,arguments)}function zi(){return(zi=(0,I.Z)(function*(k){var B;const{appId:se,apiKey:He}=k,vt={method:"GET",headers:rn(He)},Ft=J.replace("{app-id}",se),on=yield fetch(Ft,vt);if(200!==on.status&&304!==on.status){let Mn="";try{const sr=yield on.json();null!==(B=sr.error)&&void 0!==B&&B.message&&(Mn=sr.error.message)}catch{}throw ur.create("config-fetch-failed",{httpStatus:on.status,responseMessage:Mn})}return on.json()})).apply(this,arguments)}function ci(k){return In.apply(this,arguments)}function In(){return(In=(0,I.Z)(function*(k,B=Bs,se){const{appId:He,apiKey:vt,measurementId:Ft}=k.options;if(!He)throw ur.create("no-app-id");if(!vt){if(Ft)return{measurementId:Ft,appId:He};throw ur.create("no-api-key")}const on=B.getThrottleMetadata(He)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Mn=new wt;return setTimeout((0,I.Z)(function*(){Mn.abort()}),void 0!==se?se:6e4),Yn({appId:He,apiKey:vt,measurementId:Ft},on,Mn,B)})).apply(this,arguments)}function Yn(k,B,se){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,I.Z)(function*(k,{throttleEndTimeMillis:B,backoffCount:se},He,vt=Bs){var Ft,on;const{appId:Mn,measurementId:sr}=k;try{yield Cn(He,B)}catch(mr){if(sr)return We.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${sr} provided in the "measurementId" field in the local Firebase config. [${null===(Ft=mr)||void 0===Ft?void 0:Ft.message}]`),{appId:Mn,measurementId:sr};throw mr}try{const mr=yield Zr(k);return vt.deleteThrottleMetadata(Mn),mr}catch(mr){const Ur=mr;if(!kt(Ur)){if(vt.deleteThrottleMetadata(Mn),sr)return We.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${sr} provided in the "measurementId" field in the local Firebase config. [${Ur?.message}]`),{appId:Mn,measurementId:sr};throw mr}const yr=503===Number(null===(on=Ur?.customData)||void 0===on?void 0:on.httpStatus)?(0,ge.$s)(se,vt.intervalMillis,30):(0,ge.$s)(se,vt.intervalMillis),gs={throttleEndTimeMillis:Date.now()+yr,backoffCount:se+1};return vt.setThrottleMetadata(Mn,gs),We.debug(`Calling attemptFetch again in ${yr} millis`),Yn(k,gs,He,vt)}})).apply(this,arguments)}function Cn(k,B){return new Promise((se,He)=>{const vt=Math.max(B-Date.now(),0),Ft=setTimeout(se,vt);k.addEventListener(()=>{clearTimeout(Ft),He(ur.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}function kt(k){if(!(k instanceof ge.ZR&&k.customData))return!1;const B=Number(k.customData.httpStatus);return 429===B||500===B||503===B||504===B}class wt{constructor(){this.listeners=[]}addEventListener(B){this.listeners.push(B)}abort(){this.listeners.forEach(B=>B())}}let On,Xs;function Nr(){return(Nr=(0,I.Z)(function*(k,B,se,He,vt){if(vt&&vt.global)k("event",se,He);else{const Ft=yield B;k("event",se,Object.assign(Object.assign({},He),{send_to:Ft}))}})).apply(this,arguments)}function Wn(k){Xs=k}function Fo(k){On=k}function Ia(){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,I.Z)(function*(){var k;if(!(0,ge.hl)())return We.warn(ur.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ge.eu)()}catch(B){return We.warn(ur.create("indexeddb-unavailable",{errorInfo:null===(k=B)||void 0===k?void 0:k.toString()}).message),!1}return!0})).apply(this,arguments)}function ra(){return(ra=(0,I.Z)(function*(k,B,se,He,vt,Ft,on){var Mn;const sr=ci(k);sr.then(eo=>{se[eo.measurementId]=eo.appId,k.options.measurementId&&eo.measurementId!==k.options.measurementId&&We.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${eo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(eo=>We.error(eo)),B.push(sr);const mr=Ia().then(eo=>{if(eo)return He.getId()}),[Ur,yr]=yield Promise.all([sr,mr]);ii()||It(Ft,Ur.measurementId),Xs&&(vt("consent","default",Xs),Wn(void 0)),vt("js",new Date);const gs=null!==(Mn=on?.config)&&void 0!==Mn?Mn:{};return gs[b]="firebase",gs.update=!0,null!=yr&&(gs[y]=yr),vt("config",Ur.measurementId,gs),On&&(vt("set",On),Fo(void 0)),Ur.measurementId})).apply(this,arguments)}class jr{constructor(B){this.app=B}_delete(){return delete fo[this.app.options.appId],Promise.resolve()}}let fo={},gi=[];const yn={};let oo,ia,No="dataLayer",Lo=!1;function vu(k,B,se){!function Ja(){const k=[];if((0,ge.ru)()&&k.push("This is a browser extension environment."),(0,ge.zI)()||k.push("Cookies are not available."),k.length>0){const B=k.map((He,vt)=>`(${vt+1}) ${He}`).join(" "),se=ur.create("invalid-analytics-context",{errorInfo:B});We.warn(se.message)}}();const He=k.options.appId;if(!He)throw ur.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw ur.create("no-api-key");We.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=fo[He])throw ur.create("already-exists",{id:He});if(!Lo){!function qt(k){let B=[];Array.isArray(window[k])?B=window[k]:window[k]=B}(No);const{wrappedGtag:Ft,gtagCore:on}=function dr(k,B,se,He,vt){let Ft=function(...on){window[He].push(arguments)};return window[vt]&&"function"==typeof window[vt]&&(Ft=window[vt]),window[vt]=function lr(k,B,se,He){function Ft(){return(Ft=(0,I.Z)(function*(on,Mn,sr){try{"event"===on?yield Or(k,B,se,Mn,sr):"config"===on?yield kn(k,B,se,He,Mn,sr):"consent"===on?k("consent","update",sr):k("set",Mn)}catch(mr){We.error(mr)}})).apply(this,arguments)}return function vt(on,Mn,sr){return Ft.apply(this,arguments)}}(Ft,k,B,se),{gtagCore:Ft,wrappedGtag:window[vt]}}(fo,gi,yn,No,"gtag");ia=Ft,oo=on,Lo=!0}return fo[He]=function Jn(k,B,se,He,vt,Ft,on){return ra.apply(this,arguments)}(k,gi,yn,B,oo,No,se),new jr(k)}function _u(){return xa.apply(this,arguments)}function xa(){return(xa=(0,I.Z)(function*(){if((0,ge.ru)()||!(0,ge.zI)()||!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch{return!1}})).apply(this,arguments)}const Ga="@firebase/analytics";!function go(){(0,re._registerComponent)(new Me.wA(z,(B,{options:se})=>vu(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),se),"PUBLIC")),(0,re._registerComponent)(new Me.wA("analytics-internal",function k(B){try{const se=B.getProvider(z).getImmediate();return{logEvent:(He,vt,Ft)=>function po(k,B,se,He){k=(0,ge.m9)(k),function fr(k,B,se,He,vt){return Nr.apply(this,arguments)}(ia,fo[k.app.options.appId],B,se,He).catch(vt=>We.error(vt))}(se,He,vt,Ft)}}catch(se){throw ur.create("interop-component-reg-failed",{reason:se})}},"PRIVATE")),(0,re.registerVersion)(Ga,"0.8.0"),(0,re.registerVersion)(Ga,"0.8.0","esm2017")}();var Ts=S(4408),_a=S(7565);const D=new class w extends _a.v{}(class wl extends Ts.o{constructor(B,se){super(B,se),this.scheduler=B,this.work=se}schedule(B,se=0){return se>0?super.schedule(B,se):(this.delay=se,this.state=B,this.scheduler.flush(this),this)}execute(B,se){return se>0||this.closed?super.execute(B,se):this._execute(B,se)}requestAsyncId(B,se,He=0){return null!=He&&He>0||null==He&&this.delay>0?super.requestAsyncId(B,se,He):(B.flush(this),0)}});var O=S(4986),V=S(8505),ae=S(9468),Oe=S(5363);const $e=new c.GfV("7.4.1"),St="__angularfire_symbol__analyticsIsSupportedValue",Xt="__angularfire_symbol__analyticsIsSupported",Tr="__angularfire_symbol__remoteConfigIsSupportedValue",Fn="__angularfire_symbol__remoteConfigIsSupported",Mr="__angularfire_symbol__messagingIsSupportedValue",Us="__angularfire_symbol__messagingIsSupported";function Js(k,B,se){if(B){if(1===B.length)return B[0];const Ft=B.filter(on=>on.app===se);if(1===Ft.length)return Ft[0]}return se.container.getProvider(k).getImmediate({optional:!0})}globalThis[Xt]||(globalThis[Xt]=_u().then(k=>globalThis[St]=k).catch(()=>globalThis[St]=!1)),globalThis[Us]||(globalThis[Us]=Vn().then(k=>globalThis[Mr]=k).catch(()=>globalThis[Mr]=!1)),globalThis[Fn]||(globalThis[Fn]=fi().then(k=>globalThis[Tr]=k).catch(()=>globalThis[Tr]=!1));const ha=(k,B)=>{const se=B?[B]:(0,C.C6)(),He=[];return se.forEach(vt=>{vt.container.getProvider(k).instances.forEach(on=>{He.includes(on)||He.push(on)})}),He};function el(){}class xo{constructor(B,se=D){this.zone=B,this.delegate=se}now(){return this.delegate.now()}schedule(B,se,He){const vt=this.zone;return this.delegate.schedule(function(on){vt.runGuarded(()=>{B.apply(this,[on])})},se,He)}}class bu{constructor(B){this.zone=B,this.task=null}call(B,se){const He=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",el,{},el,el)),se.pipe((0,V.b)({next:He,complete:He,error:He})).subscribe(B).add(He)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let sa=(()=>{class k{constructor(se){this.ngZone=se,this.outsideAngular=se.runOutsideAngular(()=>new xo(Zone.current)),this.insideAngular=se.run(()=>new xo(Zone.current,O.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(se){return new(se||k)(c.LFG(c.R0b))},k.\u0275prov=c.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function Bo(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function So(k){return Bo(),function oa(k){return function(se){return(se=se.lift(new bu(k.ngZone))).pipe((0,ae.R)(k.outsideAngular),(0,Oe.Q)(k.insideAngular))}}(Bo())(k)}},2090:(en,rt,S)=>{"use strict";S.d(rt,{$s:()=>qe,BH:()=>it,G6:()=>Et,L:()=>Te,LL:()=>jt,Sg:()=>nt,UG:()=>Je,US:()=>Me,ZB:()=>be,ZR:()=>dt,b$:()=>Rt,eu:()=>pt,hl:()=>ye,jU:()=>at,m9:()=>q,ne:()=>Qn,pd:()=>hr,r3:()=>Hn,ru:()=>Fe,tV:()=>ke,uI:()=>_t,vZ:()=>An,w1:()=>we,xO:()=>$n,xb:()=>wn,z$:()=>ze,zI:()=>Re,zd:()=>Zn});const re=function(Y){const j=[];let ee=0;for(let $=0;$<Y.length;$++){let fe=Y.charCodeAt($);fe<128?j[ee++]=fe:fe<2048?(j[ee++]=fe>>6|192,j[ee++]=63&fe|128):55296==(64512&fe)&&$+1<Y.length&&56320==(64512&Y.charCodeAt($+1))?(fe=65536+((1023&fe)<<10)+(1023&Y.charCodeAt(++$)),j[ee++]=fe>>18|240,j[ee++]=fe>>12&63|128,j[ee++]=fe>>6&63|128,j[ee++]=63&fe|128):(j[ee++]=fe>>12|224,j[ee++]=fe>>6&63|128,j[ee++]=63&fe|128)}return j},Me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,j){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ee=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let fe=0;fe<Y.length;fe+=3){const xe=Y[fe],Ge=fe+1<Y.length,ot=Ge?Y[fe+1]:0,Qt=fe+2<Y.length,nn=Qt?Y[fe+2]:0;let xn=(15&ot)<<2|nn>>6,ar=63&nn;Qt||(ar=64,Ge||(xn=64)),$.push(ee[xe>>2],ee[(3&xe)<<4|ot>>4],ee[xn],ee[ar])}return $.join("")},encodeString(Y,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(Y):this.encodeByteArray(re(Y),j)},decodeString(Y,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(Y):function(Y){const j=[];let ee=0,$=0;for(;ee<Y.length;){const fe=Y[ee++];if(fe<128)j[$++]=String.fromCharCode(fe);else if(fe>191&&fe<224){const xe=Y[ee++];j[$++]=String.fromCharCode((31&fe)<<6|63&xe)}else if(fe>239&&fe<365){const Qt=((7&fe)<<18|(63&Y[ee++])<<12|(63&Y[ee++])<<6|63&Y[ee++])-65536;j[$++]=String.fromCharCode(55296+(Qt>>10)),j[$++]=String.fromCharCode(56320+(1023&Qt))}else{const xe=Y[ee++],Ge=Y[ee++];j[$++]=String.fromCharCode((15&fe)<<12|(63&xe)<<6|63&Ge)}}return j.join("")}(this.decodeStringToByteArray(Y,j))},decodeStringToByteArray(Y,j){this.init_();const ee=j?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let fe=0;fe<Y.length;){const xe=ee[Y.charAt(fe++)],ot=fe<Y.length?ee[Y.charAt(fe)]:0;++fe;const nn=fe<Y.length?ee[Y.charAt(fe)]:64;++fe;const mn=fe<Y.length?ee[Y.charAt(fe)]:64;if(++fe,null==xe||null==ot||null==nn||null==mn)throw Error();$.push(xe<<2|ot>>4),64!==nn&&($.push(ot<<4&240|nn>>2),64!==mn&&$.push(nn<<6&192|mn))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},Te=function(Y){return function(Y){const j=re(Y);return Me.encodeByteArray(j,!0)}(Y).replace(/\./g,"")},ke=function(Y){try{return Me.decodeString(Y,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function be(Y,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return j}for(const ee in j)!j.hasOwnProperty(ee)||!De(ee)||(Y[ee]=be(Y[ee],j[ee]));return Y}function De(Y){return"__proto__"!==Y}class it{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,ee)=>{this.resolve=j,this.reject=ee})}wrapCallback(j){return(ee,$)=>{ee?this.reject(ee):this.resolve($),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(ee):j(ee,$))}}}function nt(Y,j){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=j||"demo-project",fe=Y.iat||0,xe=Y.sub||Y.user_id;if(!xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ge=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:fe,exp:fe+3600,auth_time:fe,sub:xe,user_id:xe,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[Te(JSON.stringify({alg:"none",type:"JWT"})),Te(JSON.stringify(Ge)),""].join(".")}function ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _t(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function Je(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function at(){return"object"==typeof self&&self.self===self}function Fe(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function Rt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function we(){const Y=ze();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function Et(){return!Je()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ye(){return"object"==typeof indexedDB}function pt(){return new Promise((Y,j)=>{try{let ee=!0;const $="validate-browser-context-for-indexeddb-analytics-module",fe=self.indexedDB.open($);fe.onsuccess=()=>{fe.result.close(),ee||self.indexedDB.deleteDatabase($),Y(!0)},fe.onupgradeneeded=()=>{ee=!1},fe.onerror=()=>{var xe;j((null===(xe=fe.error)||void 0===xe?void 0:xe.message)||"")}}catch(ee){j(ee)}})}function Re(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class dt extends Error{constructor(j,ee,$){super(ee),this.code=j,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jt.prototype.create)}}class jt{constructor(j,ee,$){this.service=j,this.serviceName=ee,this.errors=$}create(j,...ee){const $=ee[0]||{},fe=`${this.service}/${j}`,xe=this.errors[j],Ge=xe?function Gt(Y,j){return Y.replace(Kt,(ee,$)=>{const fe=j[$];return null!=fe?String(fe):`<${$}?>`})}(xe,$):"Error";return new dt(fe,`${this.serviceName}: ${Ge} (${fe}).`,$)}}const Kt=/\{\$([^}]+)}/g;function Hn(Y,j){return Object.prototype.hasOwnProperty.call(Y,j)}function wn(Y){for(const j in Y)if(Object.prototype.hasOwnProperty.call(Y,j))return!1;return!0}function An(Y,j){if(Y===j)return!0;const ee=Object.keys(Y),$=Object.keys(j);for(const fe of ee){if(!$.includes(fe))return!1;const xe=Y[fe],Ge=j[fe];if(Gn(xe)&&Gn(Ge)){if(!An(xe,Ge))return!1}else if(xe!==Ge)return!1}for(const fe of $)if(!ee.includes(fe))return!1;return!0}function Gn(Y){return null!==Y&&"object"==typeof Y}function $n(Y){const j=[];for(const[ee,$]of Object.entries(Y))Array.isArray($)?$.forEach(fe=>{j.push(encodeURIComponent(ee)+"="+encodeURIComponent(fe))}):j.push(encodeURIComponent(ee)+"="+encodeURIComponent($));return j.length?"&"+j.join("&"):""}function Zn(Y){const j={};return Y.replace(/^\?/,"").split("&").forEach($=>{if($){const[fe,xe]=$.split("=");j[decodeURIComponent(fe)]=decodeURIComponent(xe)}}),j}function hr(Y){const j=Y.indexOf("?");if(!j)return"";const ee=Y.indexOf("#",j);return Y.substring(j,ee>0?ee:void 0)}function Qn(Y,j){const ee=new $t(Y,j);return ee.subscribe.bind(ee)}class $t{constructor(j,ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(()=>{j(this)}).catch($=>{this.error($)})}next(j){this.forEachObserver(ee=>{ee.next(j)})}error(j){this.forEachObserver(ee=>{ee.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,ee,$){let fe;if(void 0===j&&void 0===ee&&void 0===$)throw new Error("Missing Observer.");fe=function Xn(Y,j){if("object"!=typeof Y||null===Y)return!1;for(const ee of j)if(ee in Y&&"function"==typeof Y[ee])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:ee,complete:$},void 0===fe.next&&(fe.next=ir),void 0===fe.error&&(fe.error=ir),void 0===fe.complete&&(fe.complete=ir);const xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?fe.error(this.finalError):fe.complete()}catch{}}),this.observers.push(fe),xe}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let ee=0;ee<this.observers.length;ee++)this.sendOne(ee,j)}sendOne(j,ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{ee(this.observers[j])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ir(){}function qe(Y,j=1e3,ee=2){const $=j*Math.pow(ee,Y),fe=Math.round(.5*$*(Math.random()-.5)*2);return Math.min(144e5,$+fe)}function q(Y){return Y&&Y._delegate?Y._delegate:Y}},7677:(en,rt,S)=>{"use strict";S.d(rt,{e:()=>Me});var c=S(1135),C=S(4650),I=S(3621),re=S(1205),ge=S(5550);let Me=(()=>{class Ne{constructor(ke,ce,be){this.router=ke,this.afAuth=ce,this.userContactService=be,this.isAuthenticated=!1,this.authChange=new c.X(!1),this.firebaseSubscriptions=[]}initAuthListener(){this.afAuth.authState.subscribe(ke=>{ke?this.firebaseSubscriptions.push(this.userContactService.getUserById(ke.uid).subscribe(ce=>{this.user={id:ce.payload.id,...ce.payload.data()},this.isAuthenticated=!0,this.authChange.next(!0),this.router.navigate(["/"])})):(this.cancelSubscriptions(),this.isAuthenticated=!1,this.authChange.next(!1),this.router.navigate(["/home"]),this.user=null)})}registerUser(ke){return this.afAuth.createUserWithEmailAndPassword(ke.email,ke.password)}login(ke){return this.afAuth.signInWithEmailAndPassword(ke.email,ke.password)}logout(){this.afAuth.signOut()}getUser(){return{...this.user}}isAuth(){return this.isAuthenticated}cancelSubscriptions(){this.firebaseSubscriptions.forEach(ke=>ke.unsubscribe())}}return Ne.\u0275fac=function(ke){return new(ke||Ne)(C.LFG(I.F0),C.LFG(re.zQ),C.LFG(ge.r))},Ne.\u0275prov=C.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})()},5550:(en,rt,S)=>{"use strict";S.d(rt,{r:()=>I});var c=S(4650),C=S(7407);let I=(()=>{class re{constructor(Me){this.db=Me}createUser(Me,Ne){return this.db.collection("users").doc(Me).set(Ne)}getUserById(Me){return this.db.collection("users").doc(Me).snapshotChanges()}addContact(Me,Ne){return this.db.collection("users").doc(Me).collection("contacts").add(Ne)}getContacts(Me){return this.db.collection("users").doc(Me).collection("contacts").snapshotChanges()}getContactById(Me,Ne){return this.db.collection("users").doc(Me).collection("contacts").doc(Ne).snapshotChanges()}updateContact(Me,Ne,Te){return this.db.collection("users").doc(Me).collection("contacts").doc(Ne).update(Te)}deleteContact(Me,Ne){this.db.collection("users").doc(Me).collection("contacts").doc(Ne).delete()}}return re.\u0275fac=function(Me){return new(Me||re)(c.LFG(C.ST))},re.\u0275prov=c.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})()},2330:(en,rt,S)=>{"use strict";S.d(rt,{m:()=>Sr});var c=S(6895),C=S(4006),I=S(4650),re=S(2233);S(1281),S(2722),S(1481);let Nt=(()=>{class te{}return te.\u0275fac=function(Ue){return new(Ue||te)},te.\u0275mod=I.oAB({type:te}),te.\u0275inj=I.cJS({imports:[re.IR]}),te})();var Rn=S(1576);let oe=(()=>{class te{}return te.\u0275fac=function(Ue){return new(Ue||te)},te.\u0275mod=I.oAB({type:te}),te.\u0275inj=I.cJS({imports:[re.IR]}),te})(),X=(()=>{class te{constructor(Ue,bt){(0,c.PM)(bt)&&!Ue&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(Ue,bt=[]){return{ngModule:te,providers:Ue.serverLoaded?[{provide:re.WU,useValue:{...re.g5,...Ue}},{provide:re.Bs,useValue:bt,multi:!0},{provide:re.wY,useValue:!0}]:[{provide:re.WU,useValue:{...re.g5,...Ue}},{provide:re.Bs,useValue:bt,multi:!0}]}}}return te.\u0275fac=function(Ue){return new(Ue||te)(I.LFG(re.wY),I.LFG(I.Lbi))},te.\u0275mod=I.oAB({type:te}),te.\u0275inj=I.cJS({imports:[Rn.ae,Nt,oe,Rn.ae,Nt,oe]}),te})();var me=S(3683),Le=S(4859),ht=S(4988),Ut=S(4144),un=S(1572),Dn=S(3336);let Sr=(()=>{class te{}return te.\u0275fac=function(Ue){return new(Ue||te)},te.\u0275mod=I.oAB({type:te}),te.\u0275inj=I.cJS({imports:[c.ez,C.u5,C.UX,X,me.g0,Le.ot,ht.lN,Ut.c,un.Cq,Dn.Ps,c.ez,C.u5,C.UX,X,me.g0,Le.ot,ht.lN,Ut.c,un.Cq,Dn.Ps]}),te})()},5804:(en,rt,S)=>{"use strict";var c=S(1481),C=S(4650);S(5386);const re_firebaseConfig={apiKey:"AIzaSyCVtBJRR4vDgF1huGN1xEpl6DhQCQo7j-I",authDomain:"phonebook-1542f.firebaseapp.com",projectId:"phonebook-1542f",storageBucket:"phonebook-1542f.appspot.com",messagingSenderId:"733638801155",appId:"1:733638801155:web:41c5a48ecfd5fd6eaa9b36"};var ge=S(3621),Me=S(7677);let Ne=(()=>{class z{constructor(b,F){this.authService=b,this.router=F}canLoad(){return!!this.authService.isAuth()||(this.router.navigate(["/home"]),!1)}}return z.\u0275fac=function(b){return new(b||z)(C.LFG(Me.e),C.LFG(ge.F0))},z.\u0275prov=C.Yz7({token:z,factory:z.\u0275fac}),z})();var Te=S(1576),ke=S(4859);let ce=(()=>{class z{constructor(){}ngOnInit(){}}return z.\u0275fac=function(b){return new(b||z)},z.\u0275cmp=C.Xpm({type:z,selectors:[["app-home"]],decls:10,vars:0,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"container"],["src","assets/images/logo.png","alt","",1,"logo"],[1,"content"],["fxLayout","row wrap","fxLayoutAlign","center center",1,"buttons"],["routerLink","/auth/sign-up","mat-raised-button","","color","accent",1,"btn"],["routerLink","/auth/login","mat-raised-button","","color","accent",1,"btn"]],template:function(b,F){1&b&&(C.TgZ(0,"div",0),C._UZ(1,"img",1),C.TgZ(2,"div",2)(3,"p"),C._uU(4,"Sign-up or Login to view your Contact List"),C.qZA(),C.TgZ(5,"div",3)(6,"button",4),C._uU(7," Sign Up "),C.qZA(),C.TgZ(8,"button",5),C._uU(9," Login "),C.qZA()()()())},dependencies:[Te.xw,Te.Wh,ke.lW,ge.rH],styles:[".container[_ngcontent-%COMP%]{height:100%;padding:10px}.logo[_ngcontent-%COMP%]{margin:10px}.content[_ngcontent-%COMP%]{text-align:center;color:#fff;padding:20px 0}.btn[_ngcontent-%COMP%]{margin:10px 5px;font-family:Merriweather,serif}"]}),z})();var be=S(6895);const it=[{path:"home",component:ce},{path:"auth",loadChildren:()=>S.e(53).then(S.bind(S,1666)).then(z=>z.AuthModule)},{path:"",loadChildren:()=>S.e(990).then(S.bind(S,1990)).then(z=>z.ContactListModule),canLoad:[Ne]},{path:"contact-form",loadChildren:()=>S.e(893).then(S.bind(S,893)).then(z=>z.ContactFormModule),canLoad:[Ne]},{path:"page-not-found",component:(()=>{class z{constructor(b){this.location=b}ngOnInit(){}goBack(){this.location.back()}}return z.\u0275fac=function(b){return new(b||z)(C.Y36(be.Ye))},z.\u0275cmp=C.Xpm({type:z,selectors:[["app-page-not-found"]],decls:9,vars:0,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"container"],["mat-raised-button","","color","accent",3,"click"]],template:function(b,F){1&b&&(C.TgZ(0,"div",0)(1,"h1"),C._uU(2,"Ooops!"),C.qZA(),C.TgZ(3,"h2"),C._uU(4,"404"),C.qZA(),C.TgZ(5,"h3"),C._uU(6,"Page Not Found"),C.qZA(),C.TgZ(7,"button",1),C.NdJ("click",function(){return F.goBack()}),C._uU(8,"Go Back"),C.qZA()())},dependencies:[Te.xw,Te.Wh,ke.lW],styles:[".container[_ngcontent-%COMP%]{height:100%;color:#fff;text-align:center}h2[_ngcontent-%COMP%]{margin:5px 0 10px;font-size:60px}button[_ngcontent-%COMP%]{margin-top:20px}"]}),z})()},{path:"**",redirectTo:"/page-not-found",pathMatch:"full"}];let nt=(()=>{class z{}return z.\u0275fac=function(b){return new(b||z)},z.\u0275mod=C.oAB({type:z}),z.\u0275inj=C.cJS({providers:[Ne],imports:[ge.Bz.forRoot(it),ge.Bz]}),z})();var ze=S(7340);function Je(z){return new C.vHH(3e3,!1)}function $t(){return typeof window<"u"&&typeof window.document<"u"}function rr(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Xn(z){switch(z.length){case 0:return new ze.ZN;case 1:return z[0];default:return new ze.ZE(z)}}function ir(z,y,b,F,J=new Map,Se=new Map){const We=[],et=[];let It=-1,qt=null;if(F.forEach(kn=>{const jn=kn.get("offset"),Or=jn==It,wr=Or&&qt||new Map;kn.forEach((lr,dr)=>{let ii=dr,ui=lr;if("offset"!==dr)switch(ii=y.normalizePropertyName(ii,We),ui){case ze.k1:ui=J.get(dr);break;case ze.l3:ui=Se.get(dr);break;default:ui=y.normalizeStyleValue(dr,ii,ui,We)}wr.set(ii,ui)}),Or||et.push(wr),qt=wr,It=jn}),We.length)throw function zt(z){return new C.vHH(3502,!1)}();return et}function cr(z,y,b,F){switch(y){case"start":z.onStart(()=>F(b&&sn(b,"start",z)));break;case"done":z.onDone(()=>F(b&&sn(b,"done",z)));break;case"destroy":z.onDestroy(()=>F(b&&sn(b,"destroy",z)))}}function sn(z,y,b){const Se=Ct(z.element,z.triggerName,z.fromState,z.toState,y||z.phaseName,b.totalTime??z.totalTime,!!b.disabled),We=z._data;return null!=We&&(Se._data=We),Se}function Ct(z,y,b,F,J="",Se=0,We){return{element:z,triggerName:y,fromState:b,toState:F,phaseName:J,totalTime:Se,disabled:!!We}}function st(z,y,b){let F=z.get(y);return F||z.set(y,F=b),F}function Pt(z){const y=z.indexOf(":");return[z.substring(1,y),z.slice(y+1)]}let Tt=(z,y)=>!1,Bt=(z,y,b)=>[],_n=null;function hn(z){const y=z.parentNode||z.host;return y===_n?null:y}(rr()||typeof Element<"u")&&($t()?(_n=(()=>document.documentElement)(),Tt=(z,y)=>{for(;y;){if(y===z)return!0;y=hn(y)}return!1}):Tt=(z,y)=>z.contains(y),Bt=(z,y,b)=>{if(b)return Array.from(z.querySelectorAll(y));const F=z.querySelector(y);return F?[F]:[]});let Qe=null,qe=!1;const Y=Tt,j=Bt;let $=(()=>{class z{validateStyleProperty(b){return function N(z){Qe||(Qe=function q(){return typeof document<"u"?document.body:null}()||{},qe=!!Qe.style&&"WebkitAppearance"in Qe.style);let y=!0;return Qe.style&&!function qn(z){return"ebkit"==z.substring(1,6)}(z)&&(y=z in Qe.style,!y&&qe&&(y="Webkit"+z.charAt(0).toUpperCase()+z.slice(1)in Qe.style)),y}(b)}matchesElement(b,F){return!1}containsElement(b,F){return Y(b,F)}getParentElement(b){return hn(b)}query(b,F,J){return j(b,F,J)}computeStyle(b,F,J){return J||""}animate(b,F,J,Se,We,et=[],It){return new ze.ZN(J,Se)}}return z.\u0275fac=function(b){return new(b||z)},z.\u0275prov=C.Yz7({token:z,factory:z.\u0275fac}),z})(),fe=(()=>{class z{}return z.NOOP=new $,z})();const Qt="ng-enter",nn="ng-leave",ln="ng-trigger",mn=".ng-trigger",xn="ng-animating",ar=".ng-animating";function mt(z){if("number"==typeof z)return z;const y=z.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:Xe(parseFloat(y[1]),y[2])}function Xe(z,y){return"s"===y?1e3*z:z}function je(z,y,b){return z.hasOwnProperty("duration")?z:function yt(z,y,b){let J,Se=0,We="";if("string"==typeof z){const et=z.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===et)return y.push(Je()),{duration:0,delay:0,easing:""};J=Xe(parseFloat(et[1]),et[2]);const It=et[3];null!=It&&(Se=Xe(parseFloat(It),et[4]));const qt=et[5];qt&&(We=qt)}else J=z;if(!b){let et=!1,It=y.length;J<0&&(y.push(function at(){return new C.vHH(3100,!1)}()),et=!0),Se<0&&(y.push(function Fe(){return new C.vHH(3101,!1)}()),et=!0),et&&y.splice(It,0,Je())}return{duration:J,delay:Se,easing:We}}(z,y,b)}function ie(z,y={}){return Object.keys(z).forEach(b=>{y[b]=z[b]}),y}function Ce(z){const y=new Map;return Object.keys(z).forEach(b=>{y.set(b,z[b])}),y}function ue(z,y=new Map,b){if(b)for(let[F,J]of b)y.set(F,J);for(let[F,J]of z)y.set(F,J);return y}function ne(z,y,b){return b?y+":"+b+";":""}function Ve(z){let y="";for(let b=0;b<z.style.length;b++){const F=z.style.item(b);y+=ne(0,F,z.style.getPropertyValue(F))}for(const b in z.style)z.style.hasOwnProperty(b)&&!b.startsWith("_")&&(y+=ne(0,Lr(b),z.style[b]));z.setAttribute("style",y)}function gt(z,y,b){z.style&&(y.forEach((F,J)=>{const Se=Jr(J);b&&!b.has(J)&&b.set(J,z.style[Se]),z.style[Se]=F}),rr()&&Ve(z))}function Lt(z,y){z.style&&(y.forEach((b,F)=>{const J=Jr(F);z.style[J]=""}),rr()&&Ve(z))}function cn(z){return Array.isArray(z)?1==z.length?z[0]:(0,ze.vP)(z):z}const vn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Rr(z){let y=[];if("string"==typeof z){let b;for(;b=vn.exec(z);)y.push(b[1]);vn.lastIndex=0}return y}function ei(z,y,b){const F=z.toString(),J=F.replace(vn,(Se,We)=>{let et=y[We];return null==et&&(b.push(function Be(z){return new C.vHH(3003,!1)}()),et=""),et.toString()});return J==F?z:J}function Xr(z){const y=[];let b=z.next();for(;!b.done;)y.push(b.value),b=z.next();return y}const br=/-+([a-z0-9])/g;function Jr(z){return z.replace(br,(...y)=>y[1].toUpperCase())}function Lr(z){return z.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ir(z,y,b){switch(y.type){case 7:return z.visitTrigger(y,b);case 0:return z.visitState(y,b);case 1:return z.visitTransition(y,b);case 2:return z.visitSequence(y,b);case 3:return z.visitGroup(y,b);case 4:return z.visitAnimate(y,b);case 5:return z.visitKeyframes(y,b);case 6:return z.visitStyle(y,b);case 8:return z.visitReference(y,b);case 9:return z.visitAnimateChild(y,b);case 10:return z.visitAnimateRef(y,b);case 11:return z.visitQuery(y,b);case 12:return z.visitStagger(y,b);default:throw function we(z){return new C.vHH(3004,!1)}()}}function gr(z,y){return window.getComputedStyle(z)[y]}function ji(z,y){const b=[];return"string"==typeof z?z.split(/\s*,\s*/).forEach(F=>function ti(z,y,b){if(":"==z[0]){const It=function oi(z,y){switch(z){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(b,F)=>parseFloat(F)>parseFloat(b);case":decrement":return(b,F)=>parseFloat(F)<parseFloat(b);default:return y.push(function Nt(z){return new C.vHH(3016,!1)}()),"* => *"}}(z,b);if("function"==typeof It)return void y.push(It);z=It}const F=z.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==F||F.length<4)return b.push(function tn(z){return new C.vHH(3015,!1)}()),y;const J=F[1],Se=F[2],We=F[3];y.push(es(J,We));"<"==Se[0]&&!("*"==J&&"*"==We)&&y.push(es(We,J))}(F,b,y)):b.push(z),b}const Ki=new Set(["true","1"]),Pi=new Set(["false","0"]);function es(z,y){const b=Ki.has(z)||Pi.has(z),F=Ki.has(y)||Pi.has(y);return(J,Se)=>{let We="*"==z||z==J,et="*"==y||y==Se;return!We&&b&&"boolean"==typeof J&&(We=J?Ki.has(z):Pi.has(z)),!et&&F&&"boolean"==typeof Se&&(et=Se?Ki.has(y):Pi.has(y)),We&&et}}const Is=new RegExp("s*:selfs*,?","g");function Rs(z,y,b,F){return new zs(z).build(y,b,F)}class zs{constructor(y){this._driver=y}build(y,b,F){const J=new X(b);return this._resetContextStyleTimingState(J),Ir(this,cn(y),J)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,b){let F=b.queryCount=0,J=b.depCount=0;const Se=[],We=[];return"@"==y.name.charAt(0)&&b.errors.push(function tt(){return new C.vHH(3006,!1)}()),y.definitions.forEach(et=>{if(this._resetContextStyleTimingState(b),0==et.type){const It=et,qt=It.name;qt.toString().split(/\s*,\s*/).forEach(kn=>{It.name=kn,Se.push(this.visitState(It,b))}),It.name=qt}else if(1==et.type){const It=this.visitTransition(et,b);F+=It.queryCount,J+=It.depCount,We.push(It)}else b.errors.push(function Et(){return new C.vHH(3007,!1)}())}),{type:7,name:y.name,states:Se,transitions:We,queryCount:F,depCount:J,options:null}}visitState(y,b){const F=this.visitStyle(y.styles,b),J=y.options&&y.options.params||null;if(F.containsDynamicStyles){const Se=new Set,We=J||{};F.styles.forEach(et=>{et instanceof Map&&et.forEach(It=>{Rr(It).forEach(qt=>{We.hasOwnProperty(qt)||Se.add(qt)})})}),Se.size&&(Xr(Se.values()),b.errors.push(function ye(z,y){return new C.vHH(3008,!1)}()))}return{type:0,name:y.name,style:F,options:J?{params:J}:null}}visitTransition(y,b){b.queryCount=0,b.depCount=0;const F=Ir(this,cn(y.animation),b);return{type:1,matchers:ji(y.expr,b.errors),animation:F,queryCount:b.queryCount,depCount:b.depCount,options:ht(y.options)}}visitSequence(y,b){return{type:2,steps:y.steps.map(F=>Ir(this,F,b)),options:ht(y.options)}}visitGroup(y,b){const F=b.currentTime;let J=0;const Se=y.steps.map(We=>{b.currentTime=F;const et=Ir(this,We,b);return J=Math.max(J,b.currentTime),et});return b.currentTime=J,{type:3,steps:Se,options:ht(y.options)}}visitAnimate(y,b){const F=function Le(z,y){if(z.hasOwnProperty("duration"))return z;if("number"==typeof z)return Ut(je(z,y).duration,0,"");const b=z;if(b.split(/\s+/).some(Se=>"{"==Se.charAt(0)&&"{"==Se.charAt(1))){const Se=Ut(0,0,"");return Se.dynamic=!0,Se.strValue=b,Se}const J=je(b,y);return Ut(J.duration,J.delay,J.easing)}(y.timings,b.errors);b.currentAnimateTimings=F;let J,Se=y.styles?y.styles:(0,ze.oB)({});if(5==Se.type)J=this.visitKeyframes(Se,b);else{let We=y.styles,et=!1;if(!We){et=!0;const qt={};F.easing&&(qt.easing=F.easing),We=(0,ze.oB)(qt)}b.currentTime+=F.duration+F.delay;const It=this.visitStyle(We,b);It.isEmptyStep=et,J=It}return b.currentAnimateTimings=null,{type:4,timings:F,style:J,options:null}}visitStyle(y,b){const F=this._makeStyleAst(y,b);return this._validateStyleAst(F,b),F}_makeStyleAst(y,b){const F=[],J=Array.isArray(y.styles)?y.styles:[y.styles];for(let et of J)"string"==typeof et?et===ze.l3?F.push(et):b.errors.push(new C.vHH(3002,!1)):F.push(Ce(et));let Se=!1,We=null;return F.forEach(et=>{if(et instanceof Map&&(et.has("easing")&&(We=et.get("easing"),et.delete("easing")),!Se))for(let It of et.values())if(It.toString().indexOf("{{")>=0){Se=!0;break}}),{type:6,styles:F,easing:We,offset:y.offset,containsDynamicStyles:Se,options:null}}_validateStyleAst(y,b){const F=b.currentAnimateTimings;let J=b.currentTime,Se=b.currentTime;F&&Se>0&&(Se-=F.duration+F.delay),y.styles.forEach(We=>{"string"!=typeof We&&We.forEach((et,It)=>{const qt=b.collectedStyles.get(b.currentQuerySelector),kn=qt.get(It);let jn=!0;kn&&(Se!=J&&Se>=kn.startTime&&J<=kn.endTime&&(b.errors.push(function Ye(z,y,b,F,J){return new C.vHH(3010,!1)}()),jn=!1),Se=kn.startTime),jn&&qt.set(It,{startTime:Se,endTime:J}),b.options&&function an(z,y,b){const F=y.params||{},J=Rr(z);J.length&&J.forEach(Se=>{F.hasOwnProperty(Se)||b.push(function Rt(z){return new C.vHH(3001,!1)}())})}(et,b.options,b.errors)})})}visitKeyframes(y,b){const F={type:5,styles:[],options:null};if(!b.currentAnimateTimings)return b.errors.push(function ct(){return new C.vHH(3011,!1)}()),F;let Se=0;const We=[];let et=!1,It=!1,qt=0;const kn=y.steps.map(ui=>{const ur=this._makeStyleAst(ui,b);let Ni=null!=ur.offset?ur.offset:function me(z){if("string"==typeof z)return null;let y=null;if(Array.isArray(z))z.forEach(b=>{if(b instanceof Map&&b.has("offset")){const F=b;y=parseFloat(F.get("offset")),F.delete("offset")}});else if(z instanceof Map&&z.has("offset")){const b=z;y=parseFloat(b.get("offset")),b.delete("offset")}return y}(ur.styles),Ci=0;return null!=Ni&&(Se++,Ci=ur.offset=Ni),It=It||Ci<0||Ci>1,et=et||Ci<qt,qt=Ci,We.push(Ci),ur});It&&b.errors.push(function dt(){return new C.vHH(3012,!1)}()),et&&b.errors.push(function jt(){return new C.vHH(3200,!1)}());const jn=y.steps.length;let Or=0;Se>0&&Se<jn?b.errors.push(function Gt(){return new C.vHH(3202,!1)}()):0==Se&&(Or=1/(jn-1));const wr=jn-1,lr=b.currentTime,dr=b.currentAnimateTimings,ii=dr.duration;return kn.forEach((ui,ur)=>{const Ni=Or>0?ur==wr?1:Or*ur:We[ur],Ci=Ni*ii;b.currentTime=lr+dr.delay+Ci,dr.duration=Ci,this._validateStyleAst(ui,b),ui.offset=Ni,F.styles.push(ui)}),F}visitReference(y,b){return{type:8,animation:Ir(this,cn(y.animation),b),options:ht(y.options)}}visitAnimateChild(y,b){return b.depCount++,{type:9,options:ht(y.options)}}visitAnimateRef(y,b){return{type:10,animation:this.visitReference(y.animation,b),options:ht(y.options)}}visitQuery(y,b){const F=b.currentQuerySelector,J=y.options||{};b.queryCount++,b.currentQuery=y;const[Se,We]=function oe(z){const y=!!z.split(/\s*,\s*/).find(b=>":self"==b);return y&&(z=z.replace(Is,"")),z=z.replace(/@\*/g,mn).replace(/@\w+/g,b=>mn+"-"+b.slice(1)).replace(/:animating/g,ar),[z,y]}(y.selector);b.currentQuerySelector=F.length?F+" "+Se:Se,st(b.collectedStyles,b.currentQuerySelector,new Map);const et=Ir(this,cn(y.animation),b);return b.currentQuery=null,b.currentQuerySelector=F,{type:11,selector:Se,limit:J.limit||0,optional:!!J.optional,includeSelf:We,animation:et,originalSelector:y.selector,options:ht(y.options)}}visitStagger(y,b){b.currentQuery||b.errors.push(function Kt(){return new C.vHH(3013,!1)}());const F="full"===y.timings?{duration:0,delay:0,easing:"full"}:je(y.timings,b.errors,!0);return{type:12,animation:Ir(this,cn(y.animation),b),timings:F,options:null}}}class X{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ht(z){return z?(z=ie(z)).params&&(z.params=function Ee(z){return z?ie(z):null}(z.params)):z={},z}function Ut(z,y,b){return{duration:z,delay:y,easing:b}}function un(z,y,b,F,J,Se,We=null,et=!1){return{type:1,element:z,keyframes:y,preStyleProps:b,postStyleProps:F,duration:J,delay:Se,totalTime:J+Se,easing:We,subTimeline:et}}class Dn{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,b){let F=this._map.get(y);F||this._map.set(y,F=[]),F.push(...b)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const lt=new RegExp(":enter","g"),bt=new RegExp(":leave","g");function Sn(z,y,b,F,J,Se=new Map,We=new Map,et,It,qt=[]){return(new Kn).buildKeyframes(z,y,b,F,J,Se,We,et,It,qt)}class Kn{buildKeyframes(y,b,F,J,Se,We,et,It,qt,kn=[]){qt=qt||new Dn;const jn=new fi(y,b,qt,J,Se,kn,[]);jn.options=It;const Or=It.delay?mt(It.delay):0;jn.currentTimeline.delayNextStep(Or),jn.currentTimeline.setStyles([We],null,jn.errors,It),Ir(this,F,jn);const wr=jn.timelines.filter(lr=>lr.containsAnimation());if(wr.length&&et.size){let lr;for(let dr=wr.length-1;dr>=0;dr--){const ii=wr[dr];if(ii.element===b){lr=ii;break}}lr&&!lr.allowOnlyTimelineStyles()&&lr.setStyles([et],null,jn.errors,It)}return wr.length?wr.map(lr=>lr.buildKeyframes()):[un(b,[],[],[],0,Or,"",!1)]}visitTrigger(y,b){}visitState(y,b){}visitTransition(y,b){}visitAnimateChild(y,b){const F=b.subInstructions.get(b.element);if(F){const J=b.createSubContext(y.options),Se=b.currentTimeline.currentTime,We=this._visitSubInstructions(F,J,J.options);Se!=We&&b.transformIntoNewTimeline(We)}b.previousNode=y}visitAnimateRef(y,b){const F=b.createSubContext(y.options);F.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],b,F),this.visitReference(y.animation,F),b.transformIntoNewTimeline(F.currentTimeline.currentTime),b.previousNode=y}_applyAnimationRefDelays(y,b,F){for(const J of y){const Se=J?.delay;if(Se){const We="number"==typeof Se?Se:mt(ei(Se,J?.params??{},b.errors));F.delayNextStep(We)}}}_visitSubInstructions(y,b,F){let Se=b.currentTimeline.currentTime;const We=null!=F.duration?mt(F.duration):null,et=null!=F.delay?mt(F.delay):null;return 0!==We&&y.forEach(It=>{const qt=b.appendInstructionToTimeline(It,We,et);Se=Math.max(Se,qt.duration+qt.delay)}),Se}visitReference(y,b){b.updateOptions(y.options,!0),Ir(this,y.animation,b),b.previousNode=y}visitSequence(y,b){const F=b.subContextCount;let J=b;const Se=y.options;if(Se&&(Se.params||Se.delay)&&(J=b.createSubContext(Se),J.transformIntoNewTimeline(),null!=Se.delay)){6==J.previousNode.type&&(J.currentTimeline.snapshotCurrentStyles(),J.previousNode=bi);const We=mt(Se.delay);J.delayNextStep(We)}y.steps.length&&(y.steps.forEach(We=>Ir(this,We,J)),J.currentTimeline.applyStylesToKeyframe(),J.subContextCount>F&&J.transformIntoNewTimeline()),b.previousNode=y}visitGroup(y,b){const F=[];let J=b.currentTimeline.currentTime;const Se=y.options&&y.options.delay?mt(y.options.delay):0;y.steps.forEach(We=>{const et=b.createSubContext(y.options);Se&&et.delayNextStep(Se),Ir(this,We,et),J=Math.max(J,et.currentTimeline.currentTime),F.push(et.currentTimeline)}),F.forEach(We=>b.currentTimeline.mergeTimelineCollectedStyles(We)),b.transformIntoNewTimeline(J),b.previousNode=y}_visitTiming(y,b){if(y.dynamic){const F=y.strValue;return je(b.params?ei(F,b.params,b.errors):F,b.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,b){const F=b.currentAnimateTimings=this._visitTiming(y.timings,b),J=b.currentTimeline;F.delay&&(b.incrementTime(F.delay),J.snapshotCurrentStyles());const Se=y.style;5==Se.type?this.visitKeyframes(Se,b):(b.incrementTime(F.duration),this.visitStyle(Se,b),J.applyStylesToKeyframe()),b.currentAnimateTimings=null,b.previousNode=y}visitStyle(y,b){const F=b.currentTimeline,J=b.currentAnimateTimings;!J&&F.hasCurrentStyleProperties()&&F.forwardFrame();const Se=J&&J.easing||y.easing;y.isEmptyStep?F.applyEmptyStep(Se):F.setStyles(y.styles,Se,b.errors,b.options),b.previousNode=y}visitKeyframes(y,b){const F=b.currentAnimateTimings,J=b.currentTimeline.duration,Se=F.duration,et=b.createSubContext().currentTimeline;et.easing=F.easing,y.styles.forEach(It=>{et.forwardTime((It.offset||0)*Se),et.setStyles(It.styles,It.easing,b.errors,b.options),et.applyStylesToKeyframe()}),b.currentTimeline.mergeTimelineCollectedStyles(et),b.transformIntoNewTimeline(J+Se),b.previousNode=y}visitQuery(y,b){const F=b.currentTimeline.currentTime,J=y.options||{},Se=J.delay?mt(J.delay):0;Se&&(6===b.previousNode.type||0==F&&b.currentTimeline.hasCurrentStyleProperties())&&(b.currentTimeline.snapshotCurrentStyles(),b.previousNode=bi);let We=F;const et=b.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!J.optional,b.errors);b.currentQueryTotal=et.length;let It=null;et.forEach((qt,kn)=>{b.currentQueryIndex=kn;const jn=b.createSubContext(y.options,qt);Se&&jn.delayNextStep(Se),qt===b.element&&(It=jn.currentTimeline),Ir(this,y.animation,jn),jn.currentTimeline.applyStylesToKeyframe(),We=Math.max(We,jn.currentTimeline.currentTime)}),b.currentQueryIndex=0,b.currentQueryTotal=0,b.transformIntoNewTimeline(We),It&&(b.currentTimeline.mergeTimelineCollectedStyles(It),b.currentTimeline.snapshotCurrentStyles()),b.previousNode=y}visitStagger(y,b){const F=b.parentContext,J=b.currentTimeline,Se=y.timings,We=Math.abs(Se.duration),et=We*(b.currentQueryTotal-1);let It=We*b.currentQueryIndex;switch(Se.duration<0?"reverse":Se.easing){case"reverse":It=et-It;break;case"full":It=F.currentStaggerTime}const kn=b.currentTimeline;It&&kn.delayNextStep(It);const jn=kn.currentTime;Ir(this,y.animation,b),b.previousNode=y,F.currentStaggerTime=J.currentTime-jn+(J.startTime-F.currentTimeline.startTime)}}const bi={};class fi{constructor(y,b,F,J,Se,We,et,It){this._driver=y,this.element=b,this.subInstructions=F,this._enterClassName=J,this._leaveClassName=Se,this.errors=We,this.timelines=et,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=It||new us(this._driver,b,0),et.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,b){if(!y)return;const F=y;let J=this.options;null!=F.duration&&(J.duration=mt(F.duration)),null!=F.delay&&(J.delay=mt(F.delay));const Se=F.params;if(Se){let We=J.params;We||(We=this.options.params={}),Object.keys(Se).forEach(et=>{(!b||!We.hasOwnProperty(et))&&(We[et]=ei(Se[et],We,this.errors))})}}_copyOptions(){const y={};if(this.options){const b=this.options.params;if(b){const F=y.params={};Object.keys(b).forEach(J=>{F[J]=b[J]})}}return y}createSubContext(y=null,b,F){const J=b||this.element,Se=new fi(this._driver,J,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(J,F||0));return Se.previousNode=this.previousNode,Se.currentAnimateTimings=this.currentAnimateTimings,Se.options=this._copyOptions(),Se.updateOptions(y),Se.currentQueryIndex=this.currentQueryIndex,Se.currentQueryTotal=this.currentQueryTotal,Se.parentContext=this,this.subContextCount++,Se}transformIntoNewTimeline(y){return this.previousNode=bi,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,b,F){const J={duration:b??y.duration,delay:this.currentTimeline.currentTime+(F??0)+y.delay,easing:""},Se=new ts(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,J,y.stretchStartingKeyframe);return this.timelines.push(Se),J}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,b,F,J,Se,We){let et=[];if(J&&et.push(this.element),y.length>0){y=(y=y.replace(lt,"."+this._enterClassName)).replace(bt,"."+this._leaveClassName);let qt=this._driver.query(this.element,y,1!=F);0!==F&&(qt=F<0?qt.slice(qt.length+F,qt.length):qt.slice(0,F)),et.push(...qt)}return!Se&&0==et.length&&We.push(function fn(z){return new C.vHH(3014,!1)}()),et}}class us{constructor(y,b,F,J){this._driver=y,this.element=b,this.startTime=F,this._elementTimelineStylesLookup=J,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(b),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(b,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const b=1===this._keyframes.size&&this._pendingStyles.size;this.duration||b?(this.forwardTime(this.currentTime+y),b&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,b){return this.applyStylesToKeyframe(),new us(this._driver,y,b||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,b){this._localTimelineStyles.set(y,b),this._globalTimelineStyles.set(y,b),this._styleSummary.set(y,{time:this.currentTime,value:b})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[b,F]of this._globalTimelineStyles)this._backFill.set(b,F||ze.l3),this._currentKeyframe.set(b,ze.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,b,F,J){b&&this._previousKeyframe.set("easing",b);const Se=J&&J.params||{},We=function As(z,y){const b=new Map;let F;return z.forEach(J=>{if("*"===J){F=F||y.keys();for(let Se of F)b.set(Se,ze.l3)}else ue(J,b)}),b}(y,this._globalTimelineStyles);for(let[et,It]of We){const qt=ei(It,Se,F);this._pendingStyles.set(et,qt),this._localTimelineStyles.has(et)||this._backFill.set(et,this._globalTimelineStyles.get(et)??ze.l3),this._updateStyle(et,qt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,b)=>{this._currentKeyframe.set(b,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,b)=>{this._currentKeyframe.has(b)||this._currentKeyframe.set(b,y)}))}snapshotCurrentStyles(){for(let[y,b]of this._localTimelineStyles)this._pendingStyles.set(y,b),this._updateStyle(y,b)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let b in this._currentKeyframe)y.push(b);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((b,F)=>{const J=this._styleSummary.get(F);(!J||b.time>J.time)&&this._updateStyle(F,b.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,b=new Set,F=1===this._keyframes.size&&0===this.duration;let J=[];this._keyframes.forEach((et,It)=>{const qt=ue(et,new Map,this._backFill);qt.forEach((kn,jn)=>{kn===ze.k1?y.add(jn):kn===ze.l3&&b.add(jn)}),F||qt.set("offset",It/this.duration),J.push(qt)});const Se=y.size?Xr(y.values()):[],We=b.size?Xr(b.values()):[];if(F){const et=J[0],It=new Map(et);et.set("offset",0),It.set("offset",1),J=[et,It]}return un(this.element,J,Se,We,this.duration,this.startTime,this.easing,!1)}}class ts extends us{constructor(y,b,F,J,Se,We,et=!1){super(y,b,We.delay),this.keyframes=F,this.preStyleProps=J,this.postStyleProps=Se,this._stretchStartingKeyframe=et,this.timings={duration:We.duration,delay:We.delay,easing:We.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:b,duration:F,easing:J}=this.timings;if(this._stretchStartingKeyframe&&b){const Se=[],We=F+b,et=b/We,It=ue(y[0]);It.set("offset",0),Se.push(It);const qt=ue(y[0]);qt.set("offset",Gi(et)),Se.push(qt);const kn=y.length-1;for(let jn=1;jn<=kn;jn++){let Or=ue(y[jn]);const wr=Or.get("offset");Or.set("offset",Gi((b+wr*F)/We)),Se.push(Or)}F=We,b=0,J="",y=Se}return un(this.element,y,this.preStyleProps,this.postStyleProps,F,b,J,!0)}}function Gi(z,y=3){const b=Math.pow(10,y-1);return Math.round(z*b)/b}class ks{}const no=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _o extends ks{normalizePropertyName(y,b){return Jr(y)}normalizeStyleValue(y,b,F,J){let Se="";const We=F.toString().trim();if(no.has(b)&&0!==F&&"0"!==F)if("number"==typeof F)Se="px";else{const et=F.match(/^[+-]?[\d\.]+([a-z]*)$/);et&&0==et[1].length&&J.push(function Ie(z,y){return new C.vHH(3005,!1)}())}return We+Se}}function cs(z,y,b,F,J,Se,We,et,It,qt,kn,jn,Or){return{type:0,element:z,triggerName:y,isRemovalTransition:J,fromState:b,fromStyles:Se,toState:F,toStyles:We,timelines:et,queriedElements:It,preStyleProps:qt,postStyleProps:kn,totalTime:jn,errors:Or}}const ds={};class ys{constructor(y,b,F){this._triggerName=y,this.ast=b,this._stateStyles=F}match(y,b,F,J){return function Ps(z,y,b,F,J){return z.some(Se=>Se(y,b,F,J))}(this.ast.matchers,y,b,F,J)}buildStyles(y,b,F){let J=this._stateStyles.get("*");return void 0!==y&&(J=this._stateStyles.get(y?.toString())||J),J?J.buildStyles(b,F):new Map}build(y,b,F,J,Se,We,et,It,qt,kn){const jn=[],Or=this.ast.options&&this.ast.options.params||ds,lr=this.buildStyles(F,et&&et.params||ds,jn),dr=It&&It.params||ds,ii=this.buildStyles(J,dr,jn),ui=new Set,ur=new Map,Ni=new Map,Ci="void"===J,bs={params:ro(dr,Or),delay:this.ast.options?.delay},Bs=kn?[]:Sn(y,b,this.ast.animation,Se,We,lr,ii,bs,qt,jn);let rn=0;if(Bs.forEach(zi=>{rn=Math.max(zi.duration+zi.delay,rn)}),jn.length)return cs(b,this._triggerName,F,J,Ci,lr,ii,[],[],ur,Ni,rn,jn);Bs.forEach(zi=>{const ci=zi.element,In=st(ur,ci,new Set);zi.preStyleProps.forEach(Qs=>In.add(Qs));const Yn=st(Ni,ci,new Set);zi.postStyleProps.forEach(Qs=>Yn.add(Qs)),ci!==b&&ui.add(ci)});const Zr=Xr(ui.values());return cs(b,this._triggerName,F,J,Ci,lr,ii,Bs,Zr,ur,Ni,rn)}}function ro(z,y){const b=ie(y);for(const F in z)z.hasOwnProperty(F)&&null!=z[F]&&(b[F]=z[F]);return b}class Hi{constructor(y,b,F){this.styles=y,this.defaultParams=b,this.normalizer=F}buildStyles(y,b){const F=new Map,J=ie(this.defaultParams);return Object.keys(y).forEach(Se=>{const We=y[Se];null!==We&&(J[Se]=We)}),this.styles.styles.forEach(Se=>{"string"!=typeof Se&&Se.forEach((We,et)=>{We&&(We=ei(We,J,b));const It=this.normalizer.normalizePropertyName(et,b);We=this.normalizer.normalizeStyleValue(et,It,We,b),F.set(It,We)})}),F}}class Ws{constructor(y,b,F){this.name=y,this.ast=b,this._normalizer=F,this.transitionFactories=[],this.states=new Map,b.states.forEach(J=>{this.states.set(J.name,new Hi(J.style,J.options&&J.options.params||{},F))}),Ks(this.states,"true","1"),Ks(this.states,"false","0"),b.transitions.forEach(J=>{this.transitionFactories.push(new ys(y,J,this.states))}),this.fallbackTransition=function ni(z,y,b){return new ys(z,{type:1,animation:{type:2,steps:[],options:null},matchers:[(We,et)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,b,F,J){return this.transitionFactories.find(We=>We.match(y,b,F,J))||null}matchStyles(y,b,F){return this.fallbackTransition.buildStyles(y,b,F)}}function Ks(z,y,b){z.has(y)?z.has(b)||z.set(b,z.get(y)):z.has(b)&&z.set(y,z.get(b))}const da=new Dn;class Vr{constructor(y,b,F){this.bodyNode=y,this._driver=b,this._normalizer=F,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,b){const F=[],Se=Rs(this._driver,b,F,[]);if(F.length)throw function Hn(z){return new C.vHH(3503,!1)}();this._animations.set(y,Se)}_buildPlayer(y,b,F){const J=y.element,Se=ir(0,this._normalizer,0,y.keyframes,b,F);return this._driver.animate(J,Se,y.duration,y.delay,y.easing,[],!0)}create(y,b,F={}){const J=[],Se=this._animations.get(y);let We;const et=new Map;if(Se?(We=Sn(this._driver,b,Se,Qt,nn,new Map,new Map,F,da,J),We.forEach(kn=>{const jn=st(et,kn.element,new Map);kn.postStyleProps.forEach(Or=>jn.set(Or,null))})):(J.push(function Nn(){return new C.vHH(3300,!1)}()),We=[]),J.length)throw function wn(z){return new C.vHH(3504,!1)}();et.forEach((kn,jn)=>{kn.forEach((Or,wr)=>{kn.set(wr,this._driver.computeStyle(jn,wr,ze.l3))})});const qt=Xn(We.map(kn=>{const jn=et.get(kn.element);return this._buildPlayer(kn,new Map,jn)}));return this._playersById.set(y,qt),qt.onDestroy(()=>this.destroy(y)),this.players.push(qt),qt}destroy(y){const b=this._getPlayer(y);b.destroy(),this._playersById.delete(y);const F=this.players.indexOf(b);F>=0&&this.players.splice(F,1)}_getPlayer(y){const b=this._playersById.get(y);if(!b)throw function xr(z){return new C.vHH(3301,!1)}();return b}listen(y,b,F,J){const Se=Ct(b,"","","");return cr(this._getPlayer(y),F,Se,J),()=>{}}command(y,b,F,J){if("register"==F)return void this.register(y,J[0]);if("create"==F)return void this.create(y,b,J[0]||{});const Se=this._getPlayer(y);switch(F){case"play":Se.play();break;case"pause":Se.pause();break;case"reset":Se.reset();break;case"restart":Se.restart();break;case"finish":Se.finish();break;case"init":Se.init();break;case"setPosition":Se.setPosition(parseFloat(J[0]));break;case"destroy":this.destroy(y)}}}const $i="ng-animate-queued",ns="ng-animate-disabled",Ls=[],qi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},fs={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wi="__ng_removed";class Gr{constructor(y,b=""){this.namespaceId=b;const F=y&&y.hasOwnProperty("value");if(this.value=function rs(z){return z??null}(F?y.value:y),F){const Se=ie(y);delete Se.value,this.options=Se}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(y){const b=y.params;if(b){const F=this.options.params;Object.keys(b).forEach(J=>{null==F[J]&&(F[J]=b[J])})}}}const tr="void",uo=new Gr(tr);class Go{constructor(y,b,F){this.id=y,this.hostElement=b,this._engine=F,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,is(b,this._hostClassName)}listen(y,b,F,J){if(!this._triggers.has(b))throw function An(z,y){return new C.vHH(3302,!1)}();if(null==F||0==F.length)throw function Gn(z){return new C.vHH(3303,!1)}();if(!function ko(z){return"start"==z||"done"==z}(F))throw function or(z,y){return new C.vHH(3400,!1)}();const Se=st(this._elementListeners,y,[]),We={name:b,phase:F,callback:J};Se.push(We);const et=st(this._engine.statesByElement,y,new Map);return et.has(b)||(is(y,ln),is(y,ln+"-"+b),et.set(b,uo)),()=>{this._engine.afterFlush(()=>{const It=Se.indexOf(We);It>=0&&Se.splice(It,1),this._triggers.has(b)||et.delete(b)})}}register(y,b){return!this._triggers.has(y)&&(this._triggers.set(y,b),!0)}_getTrigger(y){const b=this._triggers.get(y);if(!b)throw function $n(z){return new C.vHH(3401,!1)}();return b}trigger(y,b,F,J=!0){const Se=this._getTrigger(b),We=new bo(this.id,b,y);let et=this._engine.statesByElement.get(y);et||(is(y,ln),is(y,ln+"-"+b),this._engine.statesByElement.set(y,et=new Map));let It=et.get(b);const qt=new Gr(F,this.id);if(!(F&&F.hasOwnProperty("value"))&&It&&qt.absorbOptions(It.options),et.set(b,qt),It||(It=uo),qt.value!==tr&&It.value===qt.value){if(!function pe(z,y){const b=Object.keys(z),F=Object.keys(y);if(b.length!=F.length)return!1;for(let J=0;J<b.length;J++){const Se=b[J];if(!y.hasOwnProperty(Se)||z[Se]!==y[Se])return!1}return!0}(It.params,qt.params)){const dr=[],ii=Se.matchStyles(It.value,It.params,dr),ui=Se.matchStyles(qt.value,qt.params,dr);dr.length?this._engine.reportError(dr):this._engine.afterFlush(()=>{Lt(y,ii),gt(y,ui)})}return}const Or=st(this._engine.playersByElement,y,[]);Or.forEach(dr=>{dr.namespaceId==this.id&&dr.triggerName==b&&dr.queued&&dr.destroy()});let wr=Se.matchTransition(It.value,qt.value,y,qt.params),lr=!1;if(!wr){if(!J)return;wr=Se.fallbackTransition,lr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:b,transition:wr,fromState:It,toState:qt,player:We,isFallbackTransition:lr}),lr||(is(y,$i),We.onStart(()=>{ai(y,$i)})),We.onDone(()=>{let dr=this.players.indexOf(We);dr>=0&&this.players.splice(dr,1);const ii=this._engine.playersByElement.get(y);if(ii){let ui=ii.indexOf(We);ui>=0&&ii.splice(ui,1)}}),this.players.push(We),Or.push(We),We}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(b=>b.delete(y)),this._elementListeners.forEach((b,F)=>{this._elementListeners.set(F,b.filter(J=>J.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const b=this._engine.playersByElement.get(y);b&&(b.forEach(F=>F.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,b){const F=this._engine.driver.query(y,mn,!0);F.forEach(J=>{if(J[wi])return;const Se=this._engine.fetchNamespacesByElement(J);Se.size?Se.forEach(We=>We.triggerLeaveAnimation(J,b,!1,!0)):this.clearElementCache(J)}),this._engine.afterFlushAnimationsDone(()=>F.forEach(J=>this.clearElementCache(J)))}triggerLeaveAnimation(y,b,F,J){const Se=this._engine.statesByElement.get(y),We=new Map;if(Se){const et=[];if(Se.forEach((It,qt)=>{if(We.set(qt,It.value),this._triggers.has(qt)){const kn=this.trigger(y,qt,tr,J);kn&&et.push(kn)}}),et.length)return this._engine.markElementAsRemoved(this.id,y,!0,b,We),F&&Xn(et).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const b=this._elementListeners.get(y),F=this._engine.statesByElement.get(y);if(b&&F){const J=new Set;b.forEach(Se=>{const We=Se.name;if(J.has(We))return;J.add(We);const It=this._triggers.get(We).fallbackTransition,qt=F.get(We)||uo,kn=new Gr(tr),jn=new bo(this.id,We,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:We,transition:It,fromState:qt,toState:kn,player:jn,isFallbackTransition:!0})})}}removeNode(y,b){const F=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,b),this.triggerLeaveAnimation(y,b,!0))return;let J=!1;if(F.totalAnimations){const Se=F.players.length?F.playersByQueriedElement.get(y):[];if(Se&&Se.length)J=!0;else{let We=y;for(;We=We.parentNode;)if(F.statesByElement.get(We)){J=!0;break}}}if(this.prepareLeaveAnimationListeners(y),J)F.markElementAsRemoved(this.id,y,!1,b);else{const Se=y[wi];(!Se||Se===qi)&&(F.afterFlush(()=>this.clearElementCache(y)),F.destroyInnerAnimations(y),F._onRemovalComplete(y,b))}}insertNode(y,b){is(y,this._hostClassName)}drainQueuedTransitions(y){const b=[];return this._queue.forEach(F=>{const J=F.player;if(J.destroyed)return;const Se=F.element,We=this._elementListeners.get(Se);We&&We.forEach(et=>{if(et.name==F.triggerName){const It=Ct(Se,F.triggerName,F.fromState.value,F.toState.value);It._data=y,cr(F.player,et.phase,It,et.callback)}}),J.markedForDestroy?this._engine.afterFlush(()=>{J.destroy()}):b.push(F)}),this._queue=[],b.sort((F,J)=>{const Se=F.transition.ast.depCount,We=J.transition.ast.depCount;return 0==Se||0==We?Se-We:this._engine.driver.containsElement(F.element,J.element)?1:-1})}destroy(y){this.players.forEach(b=>b.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}elementContainsData(y){let b=!1;return this._elementListeners.has(y)&&(b=!0),b=!!this._queue.find(F=>F.element===y)||b,b}}class Vs{constructor(y,b,F){this.bodyNode=y,this.driver=b,this._normalizer=F,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(J,Se)=>{}}_onRemovalComplete(y,b){this.onRemovalComplete(y,b)}get queuedPlayers(){const y=[];return this._namespaceList.forEach(b=>{b.players.forEach(F=>{F.queued&&y.push(F)})}),y}createNamespace(y,b){const F=new Go(y,b,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,b)?this._balanceNamespaceList(F,b):(this.newHostElements.set(b,F),this.collectEnterElement(b)),this._namespaceLookup[y]=F}_balanceNamespaceList(y,b){const F=this._namespaceList,J=this.namespacesByHostElement;if(F.length-1>=0){let We=!1,et=this.driver.getParentElement(b);for(;et;){const It=J.get(et);if(It){const qt=F.indexOf(It);F.splice(qt+1,0,y),We=!0;break}et=this.driver.getParentElement(et)}We||F.unshift(y)}else F.push(y);return J.set(b,y),y}register(y,b){let F=this._namespaceLookup[y];return F||(F=this.createNamespace(y,b)),F}registerTrigger(y,b,F){let J=this._namespaceLookup[y];J&&J.register(b,F)&&this.totalAnimations++}destroy(y,b){if(!y)return;const F=this._fetchNamespace(y);this.afterFlush(()=>{this.namespacesByHostElement.delete(F.hostElement),delete this._namespaceLookup[y];const J=this._namespaceList.indexOf(F);J>=0&&this._namespaceList.splice(J,1)}),this.afterFlushAnimationsDone(()=>F.destroy(b))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const b=new Set,F=this.statesByElement.get(y);if(F)for(let J of F.values())if(J.namespaceId){const Se=this._fetchNamespace(J.namespaceId);Se&&b.add(Se)}return b}trigger(y,b,F,J){if(Oo(b)){const Se=this._fetchNamespace(y);if(Se)return Se.trigger(b,F,J),!0}return!1}insertNode(y,b,F,J){if(!Oo(b))return;const Se=b[wi];if(Se&&Se.setForRemoval){Se.setForRemoval=!1,Se.setForMove=!0;const We=this.collectedLeaveElements.indexOf(b);We>=0&&this.collectedLeaveElements.splice(We,1)}if(y){const We=this._fetchNamespace(y);We&&We.insertNode(b,F)}J&&this.collectEnterElement(b)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,b){b?this.disabledNodes.has(y)||(this.disabledNodes.add(y),is(y,ns)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),ai(y,ns))}removeNode(y,b,F,J){if(Oo(b)){const Se=y?this._fetchNamespace(y):null;if(Se?Se.removeNode(b,J):this.markElementAsRemoved(y,b,!1,J),F){const We=this.namespacesByHostElement.get(b);We&&We.id!==y&&We.removeNode(b,J)}}else this._onRemovalComplete(b,J)}markElementAsRemoved(y,b,F,J,Se){this.collectedLeaveElements.push(b),b[wi]={namespaceId:y,setForRemoval:J,hasAnimation:F,removedBeforeQueried:!1,previousTriggersValues:Se}}listen(y,b,F,J,Se){return Oo(b)?this._fetchNamespace(y).listen(b,F,J,Se):()=>{}}_buildInstruction(y,b,F,J,Se){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,F,J,y.fromState.options,y.toState.options,b,Se)}destroyInnerAnimations(y){let b=this.driver.query(y,mn,!0);b.forEach(F=>this.destroyActiveAnimationsForElement(F)),0!=this.playersByQueriedElement.size&&(b=this.driver.query(y,ar,!0),b.forEach(F=>this.finishActiveQueriedAnimationOnElement(F)))}destroyActiveAnimationsForElement(y){const b=this.playersByElement.get(y);b&&b.forEach(F=>{F.queued?F.markedForDestroy=!0:F.destroy()})}finishActiveQueriedAnimationOnElement(y){const b=this.playersByQueriedElement.get(y);b&&b.forEach(F=>F.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return Xn(this.players).onDone(()=>y());y()})}processLeaveNode(y){const b=y[wi];if(b&&b.setForRemoval){if(y[wi]=qi,b.namespaceId){this.destroyInnerAnimations(y);const F=this._fetchNamespace(b.namespaceId);F&&F.clearElementCache(y)}this._onRemovalComplete(y,b.setForRemoval)}y.classList?.contains(ns)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(F=>{this.markElementAsDisabled(F,!1)})}flush(y=-1){let b=[];if(this.newHostElements.size&&(this.newHostElements.forEach((F,J)=>this._balanceNamespaceList(F,J)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let F=0;F<this.collectedEnterElements.length;F++)is(this.collectedEnterElements[F],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const F=[];try{b=this._flushAnimations(F,y)}finally{for(let J=0;J<F.length;J++)F[J]()}}else for(let F=0;F<this.collectedLeaveElements.length;F++)this.processLeaveNode(this.collectedLeaveElements[F]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(F=>F()),this._flushFns=[],this._whenQuietFns.length){const F=this._whenQuietFns;this._whenQuietFns=[],b.length?Xn(b).onDone(()=>{F.forEach(J=>J())}):F.forEach(J=>J())}}reportError(y){throw function Zn(z){return new C.vHH(3402,!1)}()}_flushAnimations(y,b){const F=new Dn,J=[],Se=new Map,We=[],et=new Map,It=new Map,qt=new Map,kn=new Set;this.disabledNodes.forEach(wt=>{kn.add(wt);const On=this.driver.query(wt,".ng-animate-queued",!0);for(let fr=0;fr<On.length;fr++)kn.add(On[fr])});const jn=this.bodyNode,Or=Array.from(this.statesByElement.keys()),wr=Eo(Or,this.collectedEnterElements),lr=new Map;let dr=0;wr.forEach((wt,On)=>{const fr=Qt+dr++;lr.set(On,fr),wt.forEach(Nr=>is(Nr,fr))});const ii=[],ui=new Set,ur=new Set;for(let wt=0;wt<this.collectedLeaveElements.length;wt++){const On=this.collectedLeaveElements[wt],fr=On[wi];fr&&fr.setForRemoval&&(ii.push(On),ui.add(On),fr.hasAnimation?this.driver.query(On,".ng-star-inserted",!0).forEach(Nr=>ui.add(Nr)):ur.add(On))}const Ni=new Map,Ci=Eo(Or,Array.from(ui));Ci.forEach((wt,On)=>{const fr=nn+dr++;Ni.set(On,fr),wt.forEach(Nr=>is(Nr,fr))}),y.push(()=>{wr.forEach((wt,On)=>{const fr=lr.get(On);wt.forEach(Nr=>ai(Nr,fr))}),Ci.forEach((wt,On)=>{const fr=Ni.get(On);wt.forEach(Nr=>ai(Nr,fr))}),ii.forEach(wt=>{this.processLeaveNode(wt)})});const bs=[],Bs=[];for(let wt=this._namespaceList.length-1;wt>=0;wt--)this._namespaceList[wt].drainQueuedTransitions(b).forEach(fr=>{const Nr=fr.player,Yi=fr.element;if(bs.push(Nr),this.collectedEnterElements.length){const os=Yi[wi];if(os&&os.setForMove){if(os.previousTriggersValues&&os.previousTriggersValues.has(fr.triggerName)){const Xs=os.previousTriggersValues.get(fr.triggerName),Wn=this.statesByElement.get(fr.element);if(Wn&&Wn.has(fr.triggerName)){const Fo=Wn.get(fr.triggerName);Fo.value=Xs,Wn.set(fr.triggerName,Fo)}}return void Nr.destroy()}}const ps=!jn||!this.driver.containsElement(jn,Yi),Qr=Ni.get(Yi),Do=lr.get(Yi),di=this._buildInstruction(fr,F,Do,Qr,ps);if(di.errors&&di.errors.length)return void Bs.push(di);if(ps)return Nr.onStart(()=>Lt(Yi,di.fromStyles)),Nr.onDestroy(()=>gt(Yi,di.toStyles)),void J.push(Nr);if(fr.isFallbackTransition)return Nr.onStart(()=>Lt(Yi,di.fromStyles)),Nr.onDestroy(()=>gt(Yi,di.toStyles)),void J.push(Nr);const so=[];di.timelines.forEach(os=>{os.stretchStartingKeyframe=!0,this.disabledNodes.has(os.element)||so.push(os)}),di.timelines=so,F.append(Yi,di.timelines),We.push({instruction:di,player:Nr,element:Yi}),di.queriedElements.forEach(os=>st(et,os,[]).push(Nr)),di.preStyleProps.forEach((os,Xs)=>{if(os.size){let Wn=It.get(Xs);Wn||It.set(Xs,Wn=new Set),os.forEach((Fo,Ia)=>Wn.add(Ia))}}),di.postStyleProps.forEach((os,Xs)=>{let Wn=qt.get(Xs);Wn||qt.set(Xs,Wn=new Set),os.forEach((Fo,Ia)=>Wn.add(Ia))})});if(Bs.length){const wt=[];Bs.forEach(On=>{wt.push(function Bn(z,y){return new C.vHH(3505,!1)}())}),bs.forEach(On=>On.destroy()),this.reportError(wt)}const rn=new Map,Zr=new Map;We.forEach(wt=>{const On=wt.element;F.has(On)&&(Zr.set(On,On),this._beforeAnimationBuild(wt.player.namespaceId,wt.instruction,rn))}),J.forEach(wt=>{const On=wt.element;this._getPreviousPlayers(On,!1,wt.namespaceId,wt.triggerName,null).forEach(Nr=>{st(rn,On,[]).push(Nr),Nr.destroy()})});const zi=ii.filter(wt=>Mt(wt,It,qt)),ci=new Map;Er(ci,this.driver,ur,qt,ze.l3).forEach(wt=>{Mt(wt,It,qt)&&zi.push(wt)});const Yn=new Map;wr.forEach((wt,On)=>{Er(Yn,this.driver,new Set(wt),It,ze.k1)}),zi.forEach(wt=>{const On=ci.get(wt),fr=Yn.get(wt);ci.set(wt,new Map([...Array.from(On?.entries()??[]),...Array.from(fr?.entries()??[])]))});const Qs=[],Cn=[],kt={};We.forEach(wt=>{const{element:On,player:fr,instruction:Nr}=wt;if(F.has(On)){if(kn.has(On))return fr.onDestroy(()=>gt(On,Nr.toStyles)),fr.disabled=!0,fr.overrideTotalTime(Nr.totalTime),void J.push(fr);let Yi=kt;if(Zr.size>1){let Qr=On;const Do=[];for(;Qr=Qr.parentNode;){const di=Zr.get(Qr);if(di){Yi=di;break}Do.push(Qr)}Do.forEach(di=>Zr.set(di,Yi))}const ps=this._buildAnimation(fr.namespaceId,Nr,rn,Se,Yn,ci);if(fr.setRealPlayer(ps),Yi===kt)Qs.push(fr);else{const Qr=this.playersByElement.get(Yi);Qr&&Qr.length&&(fr.parentPlayer=Xn(Qr)),J.push(fr)}}else Lt(On,Nr.fromStyles),fr.onDestroy(()=>gt(On,Nr.toStyles)),Cn.push(fr),kn.has(On)&&J.push(fr)}),Cn.forEach(wt=>{const On=Se.get(wt.element);if(On&&On.length){const fr=Xn(On);wt.setRealPlayer(fr)}}),J.forEach(wt=>{wt.parentPlayer?wt.syncPlayerEvents(wt.parentPlayer):wt.destroy()});for(let wt=0;wt<ii.length;wt++){const On=ii[wt],fr=On[wi];if(ai(On,nn),fr&&fr.hasAnimation)continue;let Nr=[];if(et.size){let ps=et.get(On);ps&&ps.length&&Nr.push(...ps);let Qr=this.driver.query(On,ar,!0);for(let Do=0;Do<Qr.length;Do++){let di=et.get(Qr[Do]);di&&di.length&&Nr.push(...di)}}const Yi=Nr.filter(ps=>!ps.destroyed);Yi.length?U(this,On,Yi):this.processLeaveNode(On)}return ii.length=0,Qs.forEach(wt=>{this.players.push(wt),wt.onDone(()=>{wt.destroy();const On=this.players.indexOf(wt);this.players.splice(On,1)}),wt.play()}),Qs}elementContainsData(y,b){let F=!1;const J=b[wi];return J&&J.setForRemoval&&(F=!0),this.playersByElement.has(b)&&(F=!0),this.playersByQueriedElement.has(b)&&(F=!0),this.statesByElement.has(b)&&(F=!0),this._fetchNamespace(y).elementContainsData(b)||F}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,b,F,J,Se){let We=[];if(b){const et=this.playersByQueriedElement.get(y);et&&(We=et)}else{const et=this.playersByElement.get(y);if(et){const It=!Se||Se==tr;et.forEach(qt=>{qt.queued||!It&&qt.triggerName!=J||We.push(qt)})}}return(F||J)&&(We=We.filter(et=>!(F&&F!=et.namespaceId||J&&J!=et.triggerName))),We}_beforeAnimationBuild(y,b,F){const Se=b.element,We=b.isRemovalTransition?void 0:y,et=b.isRemovalTransition?void 0:b.triggerName;for(const It of b.timelines){const qt=It.element,kn=qt!==Se,jn=st(F,qt,[]);this._getPreviousPlayers(qt,kn,We,et,b.toState).forEach(wr=>{const lr=wr.getRealPlayer();lr.beforeDestroy&&lr.beforeDestroy(),wr.destroy(),jn.push(wr)})}Lt(Se,b.fromStyles)}_buildAnimation(y,b,F,J,Se,We){const et=b.triggerName,It=b.element,qt=[],kn=new Set,jn=new Set,Or=b.timelines.map(lr=>{const dr=lr.element;kn.add(dr);const ii=dr[wi];if(ii&&ii.removedBeforeQueried)return new ze.ZN(lr.duration,lr.delay);const ui=dr!==It,ur=function L(z){const y=[];return R(z,y),y}((F.get(dr)||Ls).map(rn=>rn.getRealPlayer())).filter(rn=>!!rn.element&&rn.element===dr),Ni=Se.get(dr),Ci=We.get(dr),bs=ir(0,this._normalizer,0,lr.keyframes,Ni,Ci),Bs=this._buildPlayer(lr,bs,ur);if(lr.subTimeline&&J&&jn.add(dr),ui){const rn=new bo(y,et,dr);rn.setRealPlayer(Bs),qt.push(rn)}return Bs});qt.forEach(lr=>{st(this.playersByQueriedElement,lr.element,[]).push(lr),lr.onDone(()=>function Ys(z,y,b){let F=z.get(y);if(F){if(F.length){const J=F.indexOf(b);F.splice(J,1)}0==F.length&&z.delete(y)}return F}(this.playersByQueriedElement,lr.element,lr))}),kn.forEach(lr=>is(lr,xn));const wr=Xn(Or);return wr.onDestroy(()=>{kn.forEach(lr=>ai(lr,xn)),gt(It,b.toStyles)}),jn.forEach(lr=>{st(J,lr,[]).push(wr)}),wr}_buildPlayer(y,b,F){return b.length>0?this.driver.animate(y.element,b,y.duration,y.delay,y.easing,F):new ze.ZN(y.duration,y.delay)}}class bo{constructor(y,b,F){this.namespaceId=y,this.triggerName=b,this.element=F,this._player=new ze.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((b,F)=>{b.forEach(J=>cr(y,F,void 0,J))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const b=this._player;b.triggerCallback&&y.onStart(()=>b.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,b){st(this._queuedCallbacks,y,[]).push(b)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const b=this._player;b.triggerCallback&&b.triggerCallback(y)}}function Oo(z){return z&&1===z.nodeType}function Wt(z,y){const b=z.style.display;return z.style.display=y??"none",b}function Er(z,y,b,F,J){const Se=[];b.forEach(It=>Se.push(Wt(It)));const We=[];F.forEach((It,qt)=>{const kn=new Map;It.forEach(jn=>{const Or=y.computeStyle(qt,jn,J);kn.set(jn,Or),(!Or||0==Or.length)&&(qt[wi]=fs,We.push(qt))}),z.set(qt,kn)});let et=0;return b.forEach(It=>Wt(It,Se[et++])),We}function Eo(z,y){const b=new Map;if(z.forEach(et=>b.set(et,[])),0==y.length)return b;const J=new Set(y),Se=new Map;function We(et){if(!et)return 1;let It=Se.get(et);if(It)return It;const qt=et.parentNode;return It=b.has(qt)?qt:J.has(qt)?1:We(qt),Se.set(et,It),It}return y.forEach(et=>{const It=We(et);1!==It&&b.get(It).push(et)}),b}function is(z,y){z.classList?.add(y)}function ai(z,y){z.classList?.remove(y)}function U(z,y,b){Xn(b).onDone(()=>z.processLeaveNode(y))}function R(z,y){for(let b=0;b<z.length;b++){const F=z[b];F instanceof ze.ZE?R(F.players,y):y.push(F)}}function Mt(z,y,b){const F=b.get(z);if(!F)return!1;let J=y.get(z);return J?F.forEach(Se=>J.add(Se)):y.set(z,F),b.delete(z),!0}class Tn{constructor(y,b,F){this.bodyNode=y,this._driver=b,this._normalizer=F,this._triggerCache={},this.onRemovalComplete=(J,Se)=>{},this._transitionEngine=new Vs(y,b,F),this._timelineEngine=new Vr(y,b,F),this._transitionEngine.onRemovalComplete=(J,Se)=>this.onRemovalComplete(J,Se)}registerTrigger(y,b,F,J,Se){const We=y+"-"+J;let et=this._triggerCache[We];if(!et){const It=[],kn=Rs(this._driver,Se,It,[]);if(It.length)throw function gn(z,y){return new C.vHH(3404,!1)}();et=function vs(z,y,b){return new Ws(z,y,b)}(J,kn,this._normalizer),this._triggerCache[We]=et}this._transitionEngine.registerTrigger(b,J,et)}register(y,b){this._transitionEngine.register(y,b)}destroy(y,b){this._transitionEngine.destroy(y,b)}onInsert(y,b,F,J){this._transitionEngine.insertNode(y,b,F,J)}onRemove(y,b,F,J){this._transitionEngine.removeNode(y,b,J||!1,F)}disableAnimations(y,b){this._transitionEngine.markElementAsDisabled(y,b)}process(y,b,F,J){if("@"==F.charAt(0)){const[Se,We]=Pt(F);this._timelineEngine.command(Se,b,We,J)}else this._transitionEngine.trigger(y,b,F,J)}listen(y,b,F,J,Se){if("@"==F.charAt(0)){const[We,et]=Pt(F);return this._timelineEngine.listen(We,b,et,Se)}return this._transitionEngine.listen(y,b,F,J,Se)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ss=(()=>{class z{constructor(b,F,J){this._element=b,this._startStyles=F,this._endStyles=J,this._state=0;let Se=z.initialStylesByElement.get(b);Se||z.initialStylesByElement.set(b,Se=new Map),this._initialStyles=Se}start(){this._state<1&&(this._startStyles&&gt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gt(this._element,this._initialStyles),this._endStyles&&(gt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(z.initialStylesByElement.delete(this._element),this._startStyles&&(Lt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Lt(this._element,this._endStyles),this._endStyles=null),gt(this._element,this._initialStyles),this._state=3)}}return z.initialStylesByElement=new WeakMap,z})();function Fs(z){let y=null;return z.forEach((b,F)=>{(function ri(z){return"display"===z||"position"===z})(F)&&(y=y||new Map,y.set(F,b))}),y}class _s{constructor(y,b,F,J){this.element=y,this.keyframes=b,this.options=F,this._specialStyles=J,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=F.duration,this._delay=F.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const b=[];return y.forEach(F=>{b.push(Object.fromEntries(F))}),b}_triggerWebAnimation(y,b,F){return y.animate(this._convertKeyframesToObject(b),F)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((F,J)=>{"offset"!==J&&y.set(J,this._finished?F:gr(this.element,J))}),this.currentSnapshot=y}triggerCallback(y){const b="start"===y?this._onStartFns:this._onDoneFns;b.forEach(F=>F()),b.length=0}}class ma{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,b){return!1}containsElement(y,b){return Y(y,b)}getParentElement(y){return hn(y)}query(y,b,F){return j(y,b,F)}computeStyle(y,b,F){return window.getComputedStyle(y)[b]}animate(y,b,F,J,Se,We=[]){const It={duration:F,delay:J,fill:0==J?"both":"forwards"};Se&&(It.easing=Se);const qt=new Map,kn=We.filter(wr=>wr instanceof _s);(function Hr(z,y){return 0===z||0===y})(F,J)&&kn.forEach(wr=>{wr.currentSnapshot.forEach((lr,dr)=>qt.set(dr,lr))});let jn=function he(z){return z.length?z[0]instanceof Map?z:z.map(y=>Ce(y)):[]}(b).map(wr=>ue(wr));jn=function Pr(z,y,b){if(b.size&&y.length){let F=y[0],J=[];if(b.forEach((Se,We)=>{F.has(We)||J.push(We),F.set(We,Se)}),J.length)for(let Se=1;Se<y.length;Se++){let We=y[Se];J.forEach(et=>We.set(et,gr(z,et)))}}return y}(y,jn,qt);const Or=function pi(z,y){let b=null,F=null;return Array.isArray(y)&&y.length?(b=Fs(y[0]),y.length>1&&(F=Fs(y[y.length-1]))):y instanceof Map&&(b=Fs(y)),b||F?new ss(z,b,F):null}(y,jn);return new _s(y,jn,It,Or)}}let Ei=(()=>{class z extends ze._j{constructor(b,F){super(),this._nextAnimationId=0,this._renderer=b.createRenderer(F.body,{id:"0",encapsulation:C.ifc.None,styles:[],data:{animation:[]}})}build(b){const F=this._nextAnimationId.toString();this._nextAnimationId++;const J=Array.isArray(b)?(0,ze.vP)(b):b;return $o(this._renderer,null,F,"register",[J]),new io(F,this._renderer)}}return z.\u0275fac=function(b){return new(b||z)(C.LFG(C.FYo),C.LFG(be.K0))},z.\u0275prov=C.Yz7({token:z,factory:z.\u0275fac}),z})();class io extends ze.LC{constructor(y,b){super(),this._id=y,this._renderer=b}create(y,b){return new Xa(this._id,y,b||{},this._renderer)}}class Xa{constructor(y,b,F,J){this.id=y,this.element=b,this._renderer=J,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",F)}_listen(y,b){return this._renderer.listen(this.element,`@@${this.id}:${y}`,b)}_command(y,...b){return $o(this._renderer,this.element,this.id,y,b)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function $o(z,y,b,F,J){return z.setProperty(y,`@@${b}:${F}`,J)}const zo="@.disabled";let Jo=(()=>{class z{constructor(b,F,J){this.delegate=b,this.engine=F,this._zone=J,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),F.onRemovalComplete=(Se,We)=>{const et=We?.parentNode(Se);et&&We.removeChild(et,Se)}}createRenderer(b,F){const Se=this.delegate.createRenderer(b,F);if(!(b&&F&&F.data&&F.data.animation)){let kn=this._rendererCache.get(Se);return kn||(kn=new co("",Se,this.engine),this._rendererCache.set(Se,kn)),kn}const We=F.id,et=F.id+"-"+this._currentId;this._currentId++,this.engine.register(et,b);const It=kn=>{Array.isArray(kn)?kn.forEach(It):this.engine.registerTrigger(We,et,b,kn.name,kn)};return F.data.animation.forEach(It),new Po(this,et,Se,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(b,F,J){b>=0&&b<this._microtaskId?this._zone.run(()=>F(J)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Se=>{const[We,et]=Se;We(et)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([F,J]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return z.\u0275fac=function(b){return new(b||z)(C.LFG(C.FYo),C.LFG(Tn),C.LFG(C.R0b))},z.\u0275prov=C.Yz7({token:z,factory:z.\u0275fac}),z})();class co{constructor(y,b,F){this.namespaceId=y,this.delegate=b,this.engine=F,this.destroyNode=this.delegate.destroyNode?J=>b.destroyNode(J):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(y,b){return this.delegate.createElement(y,b)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,b){this.delegate.appendChild(y,b),this.engine.onInsert(this.namespaceId,b,y,!1)}insertBefore(y,b,F,J=!0){this.delegate.insertBefore(y,b,F),this.engine.onInsert(this.namespaceId,b,y,J)}removeChild(y,b,F){this.engine.onRemove(this.namespaceId,b,this.delegate,F)}selectRootElement(y,b){return this.delegate.selectRootElement(y,b)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,b,F,J){this.delegate.setAttribute(y,b,F,J)}removeAttribute(y,b,F){this.delegate.removeAttribute(y,b,F)}addClass(y,b){this.delegate.addClass(y,b)}removeClass(y,b){this.delegate.removeClass(y,b)}setStyle(y,b,F,J){this.delegate.setStyle(y,b,F,J)}removeStyle(y,b,F){this.delegate.removeStyle(y,b,F)}setProperty(y,b,F){"@"==b.charAt(0)&&b==zo?this.disableAnimations(y,!!F):this.delegate.setProperty(y,b,F)}setValue(y,b){this.delegate.setValue(y,b)}listen(y,b,F){return this.delegate.listen(y,b,F)}disableAnimations(y,b){this.engine.disableAnimations(y,b)}}class Po extends co{constructor(y,b,F,J){super(b,F,J),this.factory=y,this.namespaceId=b}setProperty(y,b,F){"@"==b.charAt(0)?"."==b.charAt(1)&&b==zo?this.disableAnimations(y,F=void 0===F||!!F):this.engine.process(this.namespaceId,y,b.slice(1),F):this.delegate.setProperty(y,b,F)}listen(y,b,F){if("@"==b.charAt(0)){const J=function wo(z){switch(z){case"body":return document.body;case"document":return document;case"window":return window;default:return z}}(y);let Se=b.slice(1),We="";return"@"!=Se.charAt(0)&&([Se,We]=function xs(z){const y=z.indexOf(".");return[z.substring(0,y),z.slice(y+1)]}(Se)),this.engine.listen(this.namespaceId,J,Se,We,et=>{this.factory.scheduleListenerCallback(et._data||-1,F,et)})}return this.delegate.listen(y,b,F)}}const Co=[{provide:ze._j,useClass:Ei},{provide:ks,useFactory:function ta(){return new _o}},{provide:Tn,useClass:(()=>{class z extends Tn{constructor(b,F,J,Se){super(b.body,F,J)}ngOnDestroy(){this.flush()}}return z.\u0275fac=function(b){return new(b||z)(C.LFG(be.K0),C.LFG(fe),C.LFG(ks),C.LFG(C.z2F))},z.\u0275prov=C.Yz7({token:z,factory:z.\u0275fac}),z})()},{provide:C.FYo,useFactory:function na(z,y,b){return new Jo(z,y,b)},deps:[c.se,Tn,C.R0b]}],ho=[{provide:fe,useFactory:()=>new ma},{provide:C.QbO,useValue:"BrowserAnimations"},...Co],T=[{provide:fe,useClass:$},{provide:C.QbO,useValue:"NoopAnimations"},...Co];let K=(()=>{class z{static withConfig(b){return{ngModule:z,providers:b.disableAnimations?T:ho}}}return z.\u0275fac=function(b){return new(b||z)},z.\u0275mod=C.oAB({type:z}),z.\u0275inj=C.cJS({providers:ho,imports:[c.b2]}),z})();var Dt=S(2011),Vt=S(7407),Vn=S(1205),Wr=S(2330),Yr=S(5550),Kr=S(3683);function Br(z,y){if(1&z){const b=C.EpF();C.TgZ(0,"button",5),C.NdJ("click",function(){C.CHM(b);const J=C.oxw();return C.KtG(J.logout())}),C._uU(1," Logout "),C.qZA()}}let Mi=(()=>{class z{constructor(b){this.authService=b}ngOnInit(){this.authSubscription=this.authService.authChange.subscribe(b=>{this.isAuth=b})}ngOnDestroy(){this.authSubscription.unsubscribe()}logout(){this.authService.logout()}}return z.\u0275fac=function(b){return new(b||z)(C.Y36(Me.e))},z.\u0275cmp=C.Xpm({type:z,selectors:[["app-header"]],decls:6,vars:1,consts:[["fxLayout","row","fxLayoutAlign","space-between center",1,"header"],["routerLink","/","fxLayout","row","fxLayoutAlign","start center",1,"logo"],["src","assets/images/logo.png","alt","",1,"logo-img"],[1,"title"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"]],template:function(b,F){1&b&&(C.TgZ(0,"mat-toolbar",0)(1,"div",1),C._UZ(2,"img",2),C.TgZ(3,"p",3),C._uU(4,"Phone Book"),C.qZA()(),C.YNc(5,Br,2,0,"button",4),C.qZA()),2&b&&(C.xp6(5),C.Q6J("ngIf",F.isAuth))},dependencies:[be.O5,Te.xw,Te.Wh,Kr.Ye,ke.lW,ge.rH],styles:[".header[_ngcontent-%COMP%]{height:70px;width:100%;background-color:transparent;color:#d04e68;font-family:Merriweather,serif}.logo[_ngcontent-%COMP%]{cursor:pointer}.logo-img[_ngcontent-%COMP%]{height:65px;margin:0 10px 0 0}.title[_ngcontent-%COMP%]{font-size:24px}button[_ngcontent-%COMP%]{font-family:Merriweather,serif}"]}),z})();var li=S(3336);let Fi=(()=>{class z{constructor(){}ngOnInit(){}}return z.\u0275fac=function(b){return new(b||z)},z.\u0275cmp=C.Xpm({type:z,selectors:[["app-footer"]],decls:6,vars:0,consts:[["fxLayoutAlign","center center",1,"container"],["fxLayoutAlign","center center"],["href","https://darshit.js.org/","target","_blank"]],template:function(b,F){1&b&&(C.TgZ(0,"div",0)(1,"mat-icon",1),C._uU(2,"copyright"),C.qZA(),C.TgZ(3,"a",2)(4,"b"),C._uU(5,"Darshit Gupta"),C.qZA()()())},dependencies:[Te.Wh,li.Hw],styles:[".container[_ngcontent-%COMP%]{padding:6px 0;background-color:#1d1d1d;color:#fff;height:36px}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-family:Merriweather,serif}"]}),z})(),Ss=(()=>{class z{constructor(b){this.authService=b,this.title="phonebook"}ngOnInit(){this.authService.initAuthListener()}}return z.\u0275fac=function(b){return new(b||z)(C.Y36(Me.e))},z.\u0275cmp=C.Xpm({type:z,selectors:[["app-root"]],decls:5,vars:0,consts:[["fxLayout","column",1,"container"],["fxFlex","",1,"home"]],template:function(b,F){1&b&&(C.TgZ(0,"div",0),C._UZ(1,"app-header"),C.TgZ(2,"div",1),C._UZ(3,"router-outlet"),C.qZA(),C._UZ(4,"app-footer"),C.qZA())},dependencies:[Te.xw,Te.yH,ge.lC,Mi,Fi],styles:[".container[_ngcontent-%COMP%]{height:100vh;width:100%}"]}),z})(),Zs=(()=>{class z{}return z.\u0275fac=function(b){return new(b||z)},z.\u0275mod=C.oAB({type:z,bootstrap:[Ss]}),z.\u0275inj=C.cJS({providers:[Me.e,Yr.r],imports:[c.b2,Wr.m,nt,K,Dt.hO.initializeApp(re_firebaseConfig),Vn.ww,Vt.yb]}),z})();(0,C.G48)(),c.q6().bootstrapModule(Zs).catch(z=>console.error(z))},5867:(en,rt,S)=>{"use strict";S.d(rt,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=S(9681);(0,c.registerVersion)("firebase","9.10.0","app")},127:(en,rt,S)=>{"use strict";S.d(rt,{Z:()=>c.Z});var c=S(3942);c.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(en,rt,S)=>{"use strict";S.r(rt);var c=S(5861),C=S(3942),I=S(2090),re=S(9681),ge=S(655),Me=S(1877),Ne=S(3475);const ze=function it(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},_t=function nt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Je=new I.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fe=new Me.Yd("@firebase/auth");function Rt(m,...d){Fe.logLevel<=Me.in.ERROR&&Fe.error(`Auth (${re.SDK_VERSION}): ${m}`,...d)}function Be(m,...d){throw Et(m,...d)}function we(m,...d){return Et(m,...d)}function Ie(m,d,p){const E=Object.assign(Object.assign({},_t()),{[d]:p});return new I.LL("auth","Firebase",E).create(d,{appName:m.name})}function tt(m,d,p){if(!(d instanceof p))throw p.name!==d.constructor.name&&Be(m,"argument-error"),Ie(m,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Et(m,...d){if("string"!=typeof m){const p=d[0],E=[...d.slice(1)];return E[0]&&(E[0].appName=m.name),m._errorFactory.create(p,...E)}return Je.create(m,...d)}function ye(m,d,...p){if(!m)throw Et(d,...p)}function pt(m){const d="INTERNAL ASSERTION FAILED: "+m;throw Rt(d),new Error(d)}function Re(m,d){m||pt(d)}const Ye=new Map;function ct(m){Re(m instanceof Function,"Expected a class definition");let d=Ye.get(m);return d?(Re(d instanceof m,"Instance stored in cache mismatched with class"),d):(d=new m,Ye.set(m,d),d)}function Gt(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function Kt(){return"http:"===fn()||"https:"===fn()}function fn(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Rn{constructor(d,p){this.shortDelay=d,this.longDelay=p,Re(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,I.uI)()||(0,I.b$)()}get(){return function tn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Kt()||(0,I.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pn(m,d){Re(m.emulator,"Emulator should always be set here");const{url:p}=m.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class gn{static initialize(d,p,E){this.fetchImpl=d,p&&(this.headersImpl=p),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Hn=new Rn(3e4,6e4);function Nn(m,d){return m.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:m.tenantId}):d}function wn(m,d,p,E){return xr.apply(this,arguments)}function xr(){return(xr=(0,c.Z)(function*(m,d,p,E,W={}){return An(m,W,(0,c.Z)(function*(){let ve={},ft={};E&&("GET"===d?ft=E:ve={body:JSON.stringify(E)});const Ht=(0,I.xO)(Object.assign({key:m.config.apiKey},ft)).slice(1),bn=yield m._getAdditionalHeaders();return bn["Content-Type"]="application/json",m.languageCode&&(bn["X-Firebase-Locale"]=m.languageCode),gn.fetch()(Zn(m,m.config.apiHost,p,Ht),Object.assign({method:d,headers:bn,referrerPolicy:"no-referrer"},ve))}))})).apply(this,arguments)}function An(m,d,p){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,c.Z)(function*(m,d,p){m._canInitEmulator=!1;const E=Object.assign(Object.assign({},zt),d);try{const W=new hr(m),ve=yield Promise.race([p(),W.promise]);W.clearNetworkTimeout();const ft=yield ve.json();if("needConfirmation"in ft)throw Bn(m,"account-exists-with-different-credential",ft);if(ve.ok&&!("errorMessage"in ft))return ft;{const Ht=ve.ok?ft.errorMessage:ft.error.message,[bn,zn]=Ht.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===bn)throw Bn(m,"credential-already-in-use",ft);if("EMAIL_EXISTS"===bn)throw Bn(m,"email-already-in-use",ft);if("USER_DISABLED"===bn)throw Bn(m,"user-disabled",ft);const pr=E[bn]||bn.toLowerCase().replace(/[_\s]+/g,"-");if(zn)throw Ie(m,pr,zn);Be(m,pr)}}catch(W){if(W instanceof I.ZR)throw W;Be(m,"network-request-failed")}})).apply(this,arguments)}function or(m,d,p,E){return $n.apply(this,arguments)}function $n(){return($n=(0,c.Z)(function*(m,d,p,E,W={}){const ve=yield wn(m,d,p,E,W);return"mfaPendingCredential"in ve&&Be(m,"multi-factor-auth-required",{_serverResponse:ve}),ve})).apply(this,arguments)}function Zn(m,d,p,E){const W=`${d}${p}?${E}`;return m.config.emulator?pn(m.config,W):`${m.config.apiScheme}://${W}`}class hr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,E)=>{this.timer=setTimeout(()=>E(we(this.auth,"network-request-failed")),Hn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bn(m,d,p){const E={appName:m.name};p.email&&(E.email=p.email),p.phoneNumber&&(E.phoneNumber=p.phoneNumber);const W=we(m,d,E);return W.customData._tokenResponse=p,W}function $t(){return($t=(0,c.Z)(function*(m,d){return wn(m,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function rr(m,d){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,c.Z)(function*(m,d){return wn(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ir(m,d){return cr.apply(this,arguments)}function cr(){return(cr=(0,c.Z)(function*(m,d){return wn(m,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function sn(m){if(m)try{const d=new Date(Number(m));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Pt(){return(Pt=(0,c.Z)(function*(m,d=!1){const p=(0,I.m9)(m),E=yield p.getIdToken(d),W=Bt(E);ye(W&&W.exp&&W.auth_time&&W.iat,p.auth,"internal-error");const ve="object"==typeof W.firebase?W.firebase:void 0,ft=ve?.sign_in_provider;return{claims:W,token:E,authTime:sn(Tt(W.auth_time)),issuedAtTime:sn(Tt(W.iat)),expirationTime:sn(Tt(W.exp)),signInProvider:ft||null,signInSecondFactor:ve?.sign_in_second_factor||null}})).apply(this,arguments)}function Tt(m){return 1e3*Number(m)}function Bt(m){var d;const[p,E,W]=m.split(".");if(void 0===p||void 0===E||void 0===W)return Rt("JWT malformed, contained fewer than 3 sections"),null;try{const ve=(0,I.tV)(E);return ve?JSON.parse(ve):(Rt("Failed to decode base64 JWT payload"),null)}catch(ve){return Rt("Caught error parsing JWT payload as JSON",null===(d=ve)||void 0===d?void 0:d.toString()),null}}function hn(m,d){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(m,d,p=!1){if(p)return d;try{return yield d}catch(E){throw E instanceof I.ZR&&qn(E)&&m.auth.currentUser===m&&(yield m.auth.signOut()),E}})).apply(this,arguments)}function qn({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class Qe{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const W=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const E=this.getInterval(d);this.timerId=setTimeout((0,c.Z)(function*(){yield p.iteration()}),E)}iteration(){var d=this;return(0,c.Z)(function*(){var p;try{yield d.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(p=E)||void 0===p?void 0:p.code)&&d.schedule(!0))}d.schedule()})()}}class qe{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=sn(this.lastLoginAt),this.creationTime=sn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function N(m){return Z.apply(this,arguments)}function Z(){return(Z=(0,c.Z)(function*(m){var d;const p=m.auth,E=yield m.getIdToken(),W=yield hn(m,ir(p,{idToken:E}));ye(W?.users.length,p,"internal-error");const ve=W.users[0];m._notifyReloadListener(ve);const ft=null!==(d=ve.providerUserInfo)&&void 0!==d&&d.length?ee(ve.providerUserInfo):[],Ht=j(m.providerData,ft),pr=!!m.isAnonymous&&!(m.email&&ve.passwordHash||Ht?.length),vr={uid:ve.localId,displayName:ve.displayName||null,photoURL:ve.photoUrl||null,email:ve.email||null,emailVerified:ve.emailVerified||!1,phoneNumber:ve.phoneNumber||null,tenantId:ve.tenantId||null,providerData:Ht,metadata:new qe(ve.createdAt,ve.lastLoginAt),isAnonymous:pr};Object.assign(m,vr)})).apply(this,arguments)}function Y(){return(Y=(0,c.Z)(function*(m){const d=(0,I.m9)(m);yield N(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function j(m,d){return[...m.filter(E=>!d.some(W=>W.providerId===E.providerId)),...d]}function ee(m){return m.map(d=>{var{providerId:p}=d,E=(0,ge._T)(d,["providerId"]);return{providerId:p,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function fe(){return(fe=(0,c.Z)(function*(m,d){const p=yield An(m,{},(0,c.Z)(function*(){const E=(0,I.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:W,apiKey:ve}=m.config,ft=Zn(m,W,"/v1/token",`key=${ve}`),Ht=yield m._getAdditionalHeaders();return Ht["Content-Type"]="application/x-www-form-urlencoded",gn.fetch()(ft,{method:"POST",headers:Ht,body:E})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class xe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ye(d.idToken,"internal-error"),ye(typeof d.idToken<"u","internal-error"),ye(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function _n(m){const d=Bt(m);return ye(d,"internal-error"),ye(typeof d.exp<"u","internal-error"),ye(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var E=this;return(0,c.Z)(function*(){return ye(!E.accessToken||E.refreshToken,d,"user-token-expired"),p||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(d,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var E=this;return(0,c.Z)(function*(){const{accessToken:W,refreshToken:ve,expiresIn:ft}=yield function $(m,d){return fe.apply(this,arguments)}(d,p);E.updateTokensAndExpiration(W,ve,Number(ft))})()}updateTokensAndExpiration(d,p,E){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(d,p){const{refreshToken:E,accessToken:W,expirationTime:ve}=p,ft=new xe;return E&&(ye("string"==typeof E,"internal-error",{appName:d}),ft.refreshToken=E),W&&(ye("string"==typeof W,"internal-error",{appName:d}),ft.accessToken=W),ve&&(ye("number"==typeof ve,"internal-error",{appName:d}),ft.expirationTime=ve),ft}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new xe,this.toJSON())}_performRefresh(){return pt("not implemented")}}function Ge(m,d){ye("string"==typeof m||typeof m>"u","internal-error",{appName:d})}class ot{constructor(d){var{uid:p,auth:E,stsTokenManager:W}=d,ve=(0,ge._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=E,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=ve.displayName||null,this.email=ve.email||null,this.emailVerified=ve.emailVerified||!1,this.phoneNumber=ve.phoneNumber||null,this.photoURL=ve.photoURL||null,this.isAnonymous=ve.isAnonymous||!1,this.tenantId=ve.tenantId||null,this.providerData=ve.providerData?[...ve.providerData]:[],this.metadata=new qe(ve.createdAt||void 0,ve.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,c.Z)(function*(){const E=yield hn(p,p.stsTokenManager.getToken(p.auth,d));return ye(E,p.auth,"internal-error"),p.accessToken!==E&&(p.accessToken=E,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),E})()}getIdTokenResult(d){return function st(m){return Pt.apply(this,arguments)}(this,d)}reload(){return function q(m){return Y.apply(this,arguments)}(this)}_assign(d){this!==d&&(ye(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new ot(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var E=this;return(0,c.Z)(function*(){let W=!1;d.idToken&&d.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(d),W=!0),p&&(yield N(E)),yield E.auth._persistUserIfCurrent(E),W&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var d=this;return(0,c.Z)(function*(){const p=yield d.getIdToken();return yield hn(d,function Qn(m,d){return $t.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var E,W,ve,ft,Ht,bn,zn,pr;const vr=null!==(E=p.displayName)&&void 0!==E?E:void 0,Gs=null!==(W=p.email)&&void 0!==W?W:void 0,ga=null!==(ve=p.phoneNumber)&&void 0!==ve?ve:void 0,Tl=null!==(ft=p.photoURL)&&void 0!==ft?ft:void 0,To=null!==(Ht=p.tenantId)&&void 0!==Ht?Ht:void 0,md=null!==(bn=p._redirectEventId)&&void 0!==bn?bn:void 0,Ou=null!==(zn=p.createdAt)&&void 0!==zn?zn:void 0,La=null!==(pr=p.lastLoginAt)&&void 0!==pr?pr:void 0,{uid:yd,emailVerified:Ml,isAnonymous:Ch,providerData:Dh,stsTokenManager:Lf}=p;ye(yd&&Lf,d,"internal-error");const xg=xe.fromJSON(this.name,Lf);ye("string"==typeof yd,d,"internal-error"),Ge(vr,d.name),Ge(Gs,d.name),ye("boolean"==typeof Ml,d,"internal-error"),ye("boolean"==typeof Ch,d,"internal-error"),Ge(ga,d.name),Ge(Tl,d.name),Ge(To,d.name),Ge(md,d.name),Ge(Ou,d.name),Ge(La,d.name);const Ih=new ot({uid:yd,auth:d,email:Gs,emailVerified:Ml,displayName:vr,isAnonymous:Ch,photoURL:Tl,phoneNumber:ga,tenantId:To,stsTokenManager:xg,createdAt:Ou,lastLoginAt:La});return Dh&&Array.isArray(Dh)&&(Ih.providerData=Dh.map(Vf=>Object.assign({},Vf))),md&&(Ih._redirectEventId=md),Ih}static _fromIdTokenResponse(d,p,E=!1){return(0,c.Z)(function*(){const W=new xe;W.updateFromServerResponse(p);const ve=new ot({uid:p.localId,auth:d,stsTokenManager:W,isAnonymous:E});return yield N(ve),ve})()}}const nn=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(p,E){var W=this;return(0,c.Z)(function*(){W.storage[p]=E})()}_get(p){var E=this;return(0,c.Z)(function*(){const W=E.storage[p];return void 0===W?null:W})()}_remove(p){var E=this;return(0,c.Z)(function*(){delete E.storage[p]})()}_addListener(p,E){}_removeListener(p,E){}}return m.type="NONE",m})();function ln(m,d,p){return`firebase:${m}:${d}:${p}`}class mn{constructor(d,p,E){this.persistence=d,this.auth=p,this.userKey=E;const{config:W,name:ve}=this.auth;this.fullUserKey=ln(this.userKey,W.apiKey,ve),this.fullPersistenceKey=ln("persistence",W.apiKey,ve),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,c.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?ot._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,c.Z)(function*(){if(p.persistence===d)return;const E=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,E?p.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,E="authUser"){return(0,c.Z)(function*(){if(!p.length)return new mn(ct(nn),d,E);const W=(yield Promise.all(p.map(function(){var zn=(0,c.Z)(function*(pr){if(yield pr._isAvailable())return pr});return function(pr){return zn.apply(this,arguments)}}()))).filter(zn=>zn);let ve=W[0]||ct(nn);const ft=ln(E,d.config.apiKey,d.name);let Ht=null;for(const zn of p)try{const pr=yield zn._get(ft);if(pr){const vr=ot._fromJSON(d,pr);zn!==ve&&(Ht=vr),ve=zn;break}}catch{}const bn=W.filter(zn=>zn._shouldAllowMigration);return ve._shouldAllowMigration&&bn.length?(ve=bn[0],Ht&&(yield ve._set(ft,Ht.toJSON())),yield Promise.all(p.map(function(){var zn=(0,c.Z)(function*(pr){if(pr!==ve)try{yield pr._remove(ft)}catch{}});return function(pr){return zn.apply(this,arguments)}}())),new mn(ve,d,E)):new mn(ve,d,E)})()}}function xn(m){const d=m.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(je(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(ar(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(ie(d))return"Blackberry";if(Ce(d))return"Webos";if(mt(d))return"Safari";if((d.includes("chrome/")||Xe(d))&&!d.includes("edge/"))return"Chrome";if(yt(d))return"Android";{const E=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function ar(m=(0,I.z$)()){return/firefox\//i.test(m)}function mt(m=(0,I.z$)()){const d=m.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Xe(m=(0,I.z$)()){return/crios\//i.test(m)}function je(m=(0,I.z$)()){return/iemobile/i.test(m)}function yt(m=(0,I.z$)()){return/android/i.test(m)}function ie(m=(0,I.z$)()){return/blackberry/i.test(m)}function Ce(m=(0,I.z$)()){return/webos/i.test(m)}function he(m=(0,I.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function Ve(m=(0,I.z$)()){return he(m)||yt(m)||Ce(m)||ie(m)||/windows phone/i.test(m)||je(m)}function Lt(m,d=[]){let p;switch(m){case"Browser":p=xn((0,I.z$)());break;case"Worker":p=`${xn((0,I.z$)())}-${m}`;break;default:p=m}const E=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${re.SDK_VERSION}/${E}`}class cn{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const E=ve=>new Promise((ft,Ht)=>{try{ft(d(ve))}catch(bn){Ht(bn)}});E.onAbort=p,this.queue.push(E);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,c.Z)(function*(){var E;if(p.auth.currentUser===d)return;const W=[];try{for(const ve of p.queue)yield ve(d),ve.onAbort&&W.push(ve.onAbort)}catch(ve){W.reverse();for(const ft of W)try{ft()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=ve)||void 0===E?void 0:E.message})}})()}}class an{constructor(d,p,E){this.app=d,this.heartbeatServiceProvider=p,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rr(this),this.idTokenSubscription=new Rr(this),this.beforeStateQueue=new cn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Je,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(d,p){var E=this;return p&&(this._popupRedirectResolver=ct(p)),this._initializationPromise=this.queue((0,c.Z)(function*(){var W,ve;if(!E._deleted&&(E.persistenceManager=yield mn.create(E,d),!E._deleted)){if(null!==(W=E._popupRedirectResolver)&&void 0!==W&&W._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(p),E.lastNotifiedUid=(null===(ve=E.currentUser)||void 0===ve?void 0:ve.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,c.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUser(d){var p=this;return(0,c.Z)(function*(){var E;const W=yield p.assertedPersistence.getCurrentUser();let ve=W,ft=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Ht=null===(E=p.redirectUser)||void 0===E?void 0:E._redirectEventId,bn=ve?._redirectEventId,zn=yield p.tryRedirectSignIn(d);(!Ht||Ht===bn)&&zn?.user&&(ve=zn.user,ft=!0)}if(!ve)return p.directlySetCurrentUser(null);if(!ve._redirectEventId){if(ft)try{yield p.beforeStateQueue.runMiddleware(ve)}catch(Ht){ve=W,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Ht))}return ve?p.reloadAndSetCurrentUserOrClear(ve):p.directlySetCurrentUser(null)}return ye(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===ve._redirectEventId?p.directlySetCurrentUser(ve):p.reloadAndSetCurrentUserOrClear(ve)})()}tryRedirectSignIn(d){var p=this;return(0,c.Z)(function*(){let E=null;try{E=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,c.Z)(function*(){var E;try{yield N(d)}catch(W){if("auth/network-request-failed"!==(null===(E=W)||void 0===E?void 0:E.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Nt(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var d=this;return(0,c.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,c.Z)(function*(){const E=d?(0,I.m9)(d):null;return E&&ye(E.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(E&&E._clone(p))})()}_updateCurrentUser(d,p=!1){var E=this;return(0,c.Z)(function*(){if(!E._deleted)return d&&ye(E.tenantId===d.tenantId,E,"tenant-id-mismatch"),p||(yield E.beforeStateQueue.runMiddleware(d)),E.queue((0,c.Z)(function*(){yield E.directlySetCurrentUser(d),E.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,c.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var p=this;return this.queue((0,c.Z)(function*(){yield p.assertedPersistence.setPersistence(ct(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new I.LL("auth","Firebase",d())}onAuthStateChanged(d,p,E){return this.registerStateListener(this.authStateSubscription,d,p,E)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,E){return this.registerStateListener(this.idTokenSubscription,d,p,E)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var E=this;return(0,c.Z)(function*(){const W=yield E.getOrInitRedirectPersistenceManager(p);return null===d?W.removeCurrentUser():W.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,c.Z)(function*(){if(!p.redirectPersistenceManager){const E=d&&ct(d)||p._popupRedirectResolver;ye(E,p,"argument-error"),p.redirectPersistenceManager=yield mn.create(p,[ct(E._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,c.Z)(function*(){var E,W;return p._isInitialized&&(yield p.queue((0,c.Z)(function*(){}))),(null===(E=p._currentUser)||void 0===E?void 0:E._redirectEventId)===d?p._currentUser:(null===(W=p.redirectUser)||void 0===W?void 0:W._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,c.Z)(function*(){if(d===p.currentUser)return p.queue((0,c.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,E,W){if(this._deleted)return()=>{};const ve="function"==typeof p?p:p.next.bind(p),ft=this._isInitialized?Promise.resolve():this._initializationPromise;return ye(ft,this,"internal-error"),ft.then(()=>ve(this.currentUser)),"function"==typeof p?d.addObserver(p,E,W):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,c.Z)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Lt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,c.Z)(function*(){var p;const E={"X-Client-Version":d.clientVersion};d.app.options.appId&&(E["X-Firebase-gmpid"]=d.app.options.appId);const W=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return W&&(E["X-Firebase-Client"]=W),E})()}}function vn(m){return(0,I.m9)(m)}class Rr{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,I.ne)(p=>this.observer=p)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xr(m){const d=m.indexOf(":");return d<0?"":m.substr(0,d+1)}function Jr(m){if(!m)return null;const d=Number(m);return isNaN(d)?null:d}class Hr{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return pt("not implemented")}_getIdTokenResponse(d){return pt("not implemented")}_linkToIdToken(d,p){return pt("not implemented")}_getReauthenticationResolver(d){return pt("not implemented")}}function Pr(m,d){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,c.Z)(function*(m,d){return wn(m,"POST","/v1/accounts:resetPassword",Nn(m,d))})).apply(this,arguments)}function gr(m,d){return vi.apply(this,arguments)}function vi(){return(vi=(0,c.Z)(function*(m,d){return wn(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function qr(m,d){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,c.Z)(function*(m,d){return wn(m,"POST","/v1/accounts:update",Nn(m,d))})).apply(this,arguments)}function Ai(){return(Ai=(0,c.Z)(function*(m,d){return or(m,"POST","/v1/accounts:signInWithPassword",Nn(m,d))})).apply(this,arguments)}function Ar(m,d){return xi.apply(this,arguments)}function xi(){return(xi=(0,c.Z)(function*(m,d){return wn(m,"POST","/v1/accounts:sendOobCode",Nn(m,d))})).apply(this,arguments)}function _r(m,d){return ji.apply(this,arguments)}function ji(){return(ji=(0,c.Z)(function*(m,d){return Ar(m,d)})).apply(this,arguments)}function ti(m,d){return oi.apply(this,arguments)}function oi(){return(oi=(0,c.Z)(function*(m,d){return Ar(m,d)})).apply(this,arguments)}function Ki(m,d){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,c.Z)(function*(m,d){return Ar(m,d)})).apply(this,arguments)}function es(m,d){return _i.apply(this,arguments)}function _i(){return(_i=(0,c.Z)(function*(m,d){return Ar(m,d)})).apply(this,arguments)}function Rs(){return(Rs=(0,c.Z)(function*(m,d){return or(m,"POST","/v1/accounts:signInWithEmailLink",Nn(m,d))})).apply(this,arguments)}function zs(){return(zs=(0,c.Z)(function*(m,d){return or(m,"POST","/v1/accounts:signInWithEmailLink",Nn(m,d))})).apply(this,arguments)}class oe extends Hr{constructor(d,p,E,W=null){super("password",E),this._email=d,this._password=p,this._tenantId=W}static _fromEmailAndPassword(d,p){return new oe(d,p,"password")}static _fromEmailAndCode(d,p,E=null){return new oe(d,p,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,c.Z)(function*(){switch(p.signInMethod){case"password":return function ki(m,d){return Ai.apply(this,arguments)}(d,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function Is(m,d){return Rs.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:Be(d,"internal-error")}})()}_linkToIdToken(d,p){var E=this;return(0,c.Z)(function*(){switch(E.signInMethod){case"password":return gr(d,{idToken:p,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function ls(m,d){return zs.apply(this,arguments)}(d,{idToken:p,email:E._email,oobCode:E._password});default:Be(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Ee(m,d){return X.apply(this,arguments)}function X(){return(X=(0,c.Z)(function*(m,d){return or(m,"POST","/v1/accounts:signInWithIdp",Nn(m,d))})).apply(this,arguments)}class Le extends Hr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const p=new Le(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(p.idToken=d.idToken),d.accessToken&&(p.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(p.nonce=d.nonce),d.pendingToken&&(p.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(p.accessToken=d.oauthToken,p.secret=d.oauthTokenSecret):Be("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:E,signInMethod:W}=p,ve=(0,ge._T)(p,["providerId","signInMethod"]);if(!E||!W)return null;const ft=new Le(E,W);return ft.idToken=ve.idToken||void 0,ft.accessToken=ve.accessToken||void 0,ft.secret=ve.secret,ft.nonce=ve.nonce,ft.pendingToken=ve.pendingToken||null,ft}_getIdTokenResponse(d){return Ee(d,this.buildRequest())}_linkToIdToken(d,p){const E=this.buildRequest();return E.idToken=p,Ee(d,E)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,Ee(d,p)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),d.postBody=(0,I.xO)(p)}return d}}function ht(m,d){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(m,d){return wn(m,"POST","/v1/accounts:sendVerificationCode",Nn(m,d))})).apply(this,arguments)}function Dn(){return(Dn=(0,c.Z)(function*(m,d){return or(m,"POST","/v1/accounts:signInWithPhoneNumber",Nn(m,d))})).apply(this,arguments)}function te(){return(te=(0,c.Z)(function*(m,d){const p=yield or(m,"POST","/v1/accounts:signInWithPhoneNumber",Nn(m,d));if(p.temporaryProof)throw Bn(m,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const lt={USER_NOT_FOUND:"user-not-found"};function bt(){return(bt=(0,c.Z)(function*(m,d){return or(m,"POST","/v1/accounts:signInWithPhoneNumber",Nn(m,Object.assign(Object.assign({},d),{operation:"REAUTH"})),lt)})).apply(this,arguments)}class Sn extends Hr{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,p){return new Sn({verificationId:d,verificationCode:p})}static _fromTokenResponse(d,p){return new Sn({phoneNumber:d,temporaryProof:p})}_getIdTokenResponse(d){return function un(m,d){return Dn.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,p){return function Sr(m,d){return te.apply(this,arguments)}(d,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function Ue(m,d){return bt.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:p,verificationId:E,verificationCode:W}=this.params;return d&&p?{temporaryProof:d,phoneNumber:p}:{sessionInfo:E,code:W}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:p,verificationCode:E,phoneNumber:W,temporaryProof:ve}=d;return E||p||W||ve?new Sn({verificationId:p,verificationCode:E,phoneNumber:W,temporaryProof:ve}):null}}class fi{constructor(d){var p,E,W,ve,ft,Ht;const bn=(0,I.zd)((0,I.pd)(d)),zn=null!==(p=bn.apiKey)&&void 0!==p?p:null,pr=null!==(E=bn.oobCode)&&void 0!==E?E:null,vr=function Kn(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=bn.mode)&&void 0!==W?W:null);ye(zn&&pr&&vr,"argument-error"),this.apiKey=zn,this.operation=vr,this.code=pr,this.continueUrl=null!==(ve=bn.continueUrl)&&void 0!==ve?ve:null,this.languageCode=null!==(ft=bn.languageCode)&&void 0!==ft?ft:null,this.tenantId=null!==(Ht=bn.tenantId)&&void 0!==Ht?Ht:null}static parseLink(d){const p=function bi(m){const d=(0,I.zd)((0,I.pd)(m)).link,p=d?(0,I.zd)((0,I.pd)(d)).deep_link_id:null,E=(0,I.zd)((0,I.pd)(m)).deep_link_id;return(E?(0,I.zd)((0,I.pd)(E)).link:null)||E||p||d||m}(d);try{return new fi(p)}catch{return null}}}let ts=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(p,E){return oe._fromEmailAndPassword(p,E)}static credentialWithLink(p,E){const W=fi.parseLink(E);return ye(W,"argument-error"),oe._fromEmailAndCode(p,W.code,W.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class Gi{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class As extends Gi{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Os extends As{static credentialFromJSON(d){const p="string"==typeof d?JSON.parse(d):d;return ye("providerId"in p&&"signInMethod"in p,"argument-error"),Le._fromParams(p)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ye(d.idToken||d.accessToken,"argument-error"),Le._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Os.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Os.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:E,oauthTokenSecret:W,pendingToken:ve,nonce:ft,providerId:Ht}=d;if(!E&&!W&&!p&&!ve||!Ht)return null;try{return new Os(Ht)._credential({idToken:p,accessToken:E,nonce:ft,pendingToken:ve})}catch{return null}}}let ks=(()=>{class m extends As{constructor(){super("facebook.com")}static credential(p){return Le._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return m.credential(p.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),vo=(()=>{class m extends As{constructor(){super("google.com"),this.addScope("profile")}static credential(p,E){return Le._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:E})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:E,oauthAccessToken:W}=p;if(!E&&!W)return null;try{return m.credential(E,W)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),no=(()=>{class m extends As{constructor(){super("github.com")}static credential(p){return Le._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return m.credential(p.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class cs extends Hr{constructor(d,p){super(d,d),this.pendingToken=p}_getIdTokenResponse(d){return Ee(d,this.buildRequest())}_linkToIdToken(d,p){const E=this.buildRequest();return E.idToken=p,Ee(d,E)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,Ee(d,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:E,signInMethod:W,pendingToken:ve}=p;return E&&W&&ve&&E===W?new cs(E,ve):null}static _create(d,p){return new cs(d,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ys extends Gi{constructor(d){ye(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return ys.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return ys.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const p=cs.fromJSON(d);return ye(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:p,providerId:E}=d;if(!p||!E)return null;try{return cs._create(E,p)}catch{return null}}}let hs=(()=>{class m extends As{constructor(){super("twitter.com")}static credential(p,E){return Le._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:E})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:E,oauthTokenSecret:W}=p;if(!E||!W)return null;try{return m.credential(E,W)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Ps(m,d){return ro.apply(this,arguments)}function ro(){return(ro=(0,c.Z)(function*(m,d){return or(m,"POST","/v1/accounts:signUp",Nn(m,d))})).apply(this,arguments)}class Hi{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,E,W=!1){return(0,c.Z)(function*(){const ve=yield ot._fromIdTokenResponse(d,E,W),ft=vs(E);return new Hi({user:ve,providerId:ft,_tokenResponse:E,operationType:p})})()}static _forOperation(d,p,E){return(0,c.Z)(function*(){yield d._updateTokensIfNecessary(E,!0);const W=vs(E);return new Hi({user:d,providerId:W,_tokenResponse:E,operationType:p})})()}}function vs(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function ni(){return(ni=(0,c.Z)(function*(m){var d;const p=vn(m);if(yield p._initializationPromise,null!==(d=p.currentUser)&&void 0!==d&&d.isAnonymous)return new Hi({user:p.currentUser,providerId:null,operationType:"signIn"});const E=yield Ps(p,{returnSecureToken:!0}),W=yield Hi._fromIdTokenResponse(p,"signIn",E,!0);return yield p._updateCurrentUser(W.user),W})).apply(this,arguments)}class Ks extends I.ZR{constructor(d,p,E,W){var ve;super(p.code,p.message),this.operationType=E,this.user=W,Object.setPrototypeOf(this,Ks.prototype),this.customData={appName:d.name,tenantId:null!==(ve=d.tenantId)&&void 0!==ve?ve:void 0,_serverResponse:p.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(d,p,E,W){return new Ks(d,p,E,W)}}function da(m,d,p,E){return("reauthenticate"===d?p._getReauthenticationResolver(m):p._getIdTokenResponse(m)).catch(ve=>{throw"auth/multi-factor-auth-required"===ve.code?Ks._fromErrorAndOperation(m,ve,d,E):ve})}function Vr(m){return new Set(m.map(({providerId:d})=>d).filter(d=>!!d))}function Ns(){return(Ns=(0,c.Z)(function*(m,d){const p=(0,I.m9)(m);yield Fr(!0,p,d);const{providerUserInfo:E}=yield rr(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[d]}),W=Vr(E||[]);return p.providerData=p.providerData.filter(ve=>W.has(ve.providerId)),W.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function ns(m,d){return qs.apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(m,d,p=!1){const E=yield hn(m,d._linkToIdToken(m.auth,yield m.getIdToken()),p);return Hi._forOperation(m,"link",E)})).apply(this,arguments)}function Fr(m,d,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,c.Z)(function*(m,d,p){yield N(d);const W=!1===m?"provider-already-linked":"no-such-provider";ye(Vr(d.providerData).has(p)===m,d.auth,W)})).apply(this,arguments)}function Ls(m,d){return qi.apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(m,d,p=!1){var E;const{auth:W}=m,ve="reauthenticate";try{const ft=yield hn(m,da(W,ve,d,m),p);ye(ft.idToken,W,"internal-error");const Ht=Bt(ft.idToken);ye(Ht,W,"internal-error");const{sub:bn}=Ht;return ye(m.uid===bn,W,"user-mismatch"),Hi._forOperation(m,ve,ft)}catch(ft){throw"auth/user-not-found"===(null===(E=ft)||void 0===E?void 0:E.code)&&Be(W,"user-mismatch"),ft}})).apply(this,arguments)}function fs(m,d){return wi.apply(this,arguments)}function wi(){return(wi=(0,c.Z)(function*(m,d,p=!1){const E="signIn",W=yield da(m,E,d),ve=yield Hi._fromIdTokenResponse(m,E,W);return p||(yield m._updateCurrentUser(ve.user)),ve})).apply(this,arguments)}function Gr(m,d){return tr.apply(this,arguments)}function tr(){return(tr=(0,c.Z)(function*(m,d){return fs(vn(m),d)})).apply(this,arguments)}function uo(m,d){return Go.apply(this,arguments)}function Go(){return(Go=(0,c.Z)(function*(m,d){const p=(0,I.m9)(m);return yield Fr(!1,p,d.providerId),ns(p,d)})).apply(this,arguments)}function Vs(m,d){return bo.apply(this,arguments)}function bo(){return(bo=(0,c.Z)(function*(m,d){return Ls((0,I.m9)(m),d)})).apply(this,arguments)}function Ys(m,d){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(m,d){return or(m,"POST","/v1/accounts:signInWithCustomToken",Nn(m,d))})).apply(this,arguments)}function ko(){return(ko=(0,c.Z)(function*(m,d){const p=vn(m),E=yield Ys(p,{token:d,returnSecureToken:!0}),W=yield Hi._fromIdTokenResponse(p,"signIn",E);return yield p._updateCurrentUser(W.user),W})).apply(this,arguments)}class Wt{constructor(d,p){this.factorId=d,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(d,p){return"phoneInfo"in p?Er._fromServerResponse(d,p):Be(d,"internal-error")}}class Er extends Wt{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,p){return new Er(p)}}function Eo(m,d,p){var E;ye((null===(E=p.url)||void 0===E?void 0:E.length)>0,m,"invalid-continue-uri"),ye(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),d.continueUrl=p.url,d.dynamicLinkDomain=p.dynamicLinkDomain,d.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(ye(p.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),d.iOSBundleId=p.iOS.bundleId),p.android&&(ye(p.android.packageName.length>0,m,"missing-android-pkg-name"),d.androidInstallApp=p.android.installApp,d.androidMinimumVersionCode=p.android.minimumVersion,d.androidPackageName=p.android.packageName)}function ai(){return(ai=(0,c.Z)(function*(m,d,p){const E=(0,I.m9)(m),W={requestType:"PASSWORD_RESET",email:d};p&&Eo(E,W,p),yield ti(E,W)})).apply(this,arguments)}function L(){return(L=(0,c.Z)(function*(m,d,p){yield Pr((0,I.m9)(m),{oobCode:d,newPassword:p})})).apply(this,arguments)}function pe(){return(pe=(0,c.Z)(function*(m,d){yield qr((0,I.m9)(m),{oobCode:d})})).apply(this,arguments)}function Mt(m,d){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,c.Z)(function*(m,d){const p=(0,I.m9)(m),E=yield Pr(p,{oobCode:d}),W=E.requestType;switch(ye(W,p,"internal-error"),W){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(E.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(E.mfaInfo,p,"internal-error");default:ye(E.email,p,"internal-error")}let ve=null;return E.mfaInfo&&(ve=Wt._fromServerResponse(vn(p),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:ve},operation:W}})).apply(this,arguments)}function ss(){return(ss=(0,c.Z)(function*(m,d){const{data:p}=yield Mt((0,I.m9)(m),d);return p.email})).apply(this,arguments)}function ri(){return(ri=(0,c.Z)(function*(m,d,p){const E=vn(m),W=yield Ps(E,{returnSecureToken:!0,email:d,password:p}),ve=yield Hi._fromIdTokenResponse(E,"signIn",W);return yield E._updateCurrentUser(ve.user),ve})).apply(this,arguments)}function Ei(){return(Ei=(0,c.Z)(function*(m,d,p){const E=(0,I.m9)(m),W={requestType:"EMAIL_SIGNIN",email:d};ye(p.handleCodeInApp,E,"argument-error"),p&&Eo(E,W,p),yield Ki(E,W)})).apply(this,arguments)}function $o(){return($o=(0,c.Z)(function*(m,d,p){const E=(0,I.m9)(m),W=ts.credentialWithLink(d,p||Gt());return ye(W._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Gr(E,W)})).apply(this,arguments)}function ya(m,d){return zo.apply(this,arguments)}function zo(){return(zo=(0,c.Z)(function*(m,d){return wn(m,"POST","/v1/accounts:createAuthUri",Nn(m,d))})).apply(this,arguments)}function co(){return(co=(0,c.Z)(function*(m,d){const E={identifier:d,continueUri:Kt()?Gt():"http://localhost"},{signinMethods:W}=yield ya((0,I.m9)(m),E);return W||[]})).apply(this,arguments)}function wo(){return(wo=(0,c.Z)(function*(m,d){const p=(0,I.m9)(m),W={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};d&&Eo(p.auth,W,d);const{email:ve}=yield _r(p.auth,W);ve!==m.email&&(yield m.reload())})).apply(this,arguments)}function ea(){return(ea=(0,c.Z)(function*(m,d,p){const E=(0,I.m9)(m),ve={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:d};p&&Eo(E.auth,ve,p);const{email:ft}=yield es(E.auth,ve);ft!==m.email&&(yield m.reload())})).apply(this,arguments)}function ta(m,d){return na.apply(this,arguments)}function na(){return(na=(0,c.Z)(function*(m,d){return wn(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ho(){return(ho=(0,c.Z)(function*(m,{displayName:d,photoURL:p}){if(void 0===d&&void 0===p)return;const E=(0,I.m9)(m),ve={idToken:yield E.getIdToken(),displayName:d,photoUrl:p,returnSecureToken:!0},ft=yield hn(E,ta(E.auth,ve));E.displayName=ft.displayName||null,E.photoURL=ft.photoUrl||null;const Ht=E.providerData.find(({providerId:bn})=>"password"===bn);Ht&&(Ht.displayName=E.displayName,Ht.photoURL=E.photoURL),yield E._updateTokensIfNecessary(ft)})).apply(this,arguments)}function P(m,d,p){return le.apply(this,arguments)}function le(){return(le=(0,c.Z)(function*(m,d,p){const{auth:E}=m,ve={idToken:yield m.getIdToken(),returnSecureToken:!0};d&&(ve.email=d),p&&(ve.password=p);const ft=yield hn(m,gr(E,ve));yield m._updateTokensIfNecessary(ft,!0)})).apply(this,arguments)}class Dt{constructor(d,p,E={}){this.isNewUser=d,this.providerId=p,this.profile=E}}class Vt extends Dt{constructor(d,p,E,W){super(d,p,E),this.username=W}}class Vn extends Dt{constructor(d,p){super(d,"facebook.com",p)}}class Wr extends Vt{constructor(d,p){super(d,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class Yr extends Dt{constructor(d,p){super(d,"google.com",p)}}class Kr extends Vt{constructor(d,p,E){super(d,"twitter.com",p,E)}}function Br(m){const{user:d,_tokenResponse:p}=m;return d.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Ke(m){var d,p;if(!m)return null;const{providerId:E}=m,W=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},ve=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!E&&m?.idToken){const ft=null===(p=null===(d=Bt(m.idToken))||void 0===d?void 0:d.firebase)||void 0===p?void 0:p.sign_in_provider;if(ft)return new Dt(ve,"anonymous"!==ft&&"custom"!==ft?ft:null)}if(!E)return null;switch(E){case"facebook.com":return new Vn(ve,W);case"github.com":return new Wr(ve,W);case"google.com":return new Yr(ve,W);case"twitter.com":return new Kr(ve,W,m.screenName||null);case"custom":case"anonymous":return new Dt(ve,null);default:return new Dt(ve,E,W)}}(p)}class J{constructor(d,p,E){this.type=d,this.credential=p,this.auth=E}static _fromIdtoken(d,p){return new J("enroll",d,p)}static _fromMfaPendingCredential(d){return new J("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var p,E;if(d?.multiFactorSession){if(null!==(p=d.multiFactorSession)&&void 0!==p&&p.pendingCredential)return J._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(E=d.multiFactorSession)&&void 0!==E&&E.idToken)return J._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Se{constructor(d,p,E){this.session=d,this.hints=p,this.signInResolver=E}static _fromError(d,p){const E=vn(d),W=p.customData._serverResponse,ve=(W.mfaInfo||[]).map(Ht=>Wt._fromServerResponse(E,Ht));ye(W.mfaPendingCredential,E,"internal-error");const ft=J._fromMfaPendingCredential(W.mfaPendingCredential);return new Se(ft,ve,function(){var Ht=(0,c.Z)(function*(bn){const zn=yield bn._process(E,ft);delete W.mfaInfo,delete W.mfaPendingCredential;const pr=Object.assign(Object.assign({},W),{idToken:zn.idToken,refreshToken:zn.refreshToken});switch(p.operationType){case"signIn":const vr=yield Hi._fromIdTokenResponse(E,p.operationType,pr);return yield E._updateCurrentUser(vr.user),vr;case"reauthenticate":return ye(p.user,E,"internal-error"),Hi._forOperation(p.user,p.operationType,pr);default:Be(E,"internal-error")}});return function(bn){return Ht.apply(this,arguments)}}())}resolveSignIn(d){var p=this;return(0,c.Z)(function*(){return p.signInResolver(d)})()}}function et(m,d){return wn(m,"POST","/v2/accounts/mfaEnrollment:start",Nn(m,d))}class kn{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(E=>Wt._fromServerResponse(d.auth,E)))})}static _fromUser(d){return new kn(d)}getSession(){var d=this;return(0,c.Z)(function*(){return J._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,p){var E=this;return(0,c.Z)(function*(){const W=d,ve=yield E.getSession(),ft=yield hn(E.user,W._process(E.user.auth,ve,p));return yield E.user._updateTokensIfNecessary(ft),E.user.reload()})()}unenroll(d){var p=this;return(0,c.Z)(function*(){var E;const W="string"==typeof d?d:d.uid,ve=yield p.user.getIdToken(),ft=yield hn(p.user,function qt(m,d){return wn(m,"POST","/v2/accounts/mfaEnrollment:withdraw",Nn(m,d))}(p.user.auth,{idToken:ve,mfaEnrollmentId:W}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Ht})=>Ht!==W),yield p.user._updateTokensIfNecessary(ft);try{yield p.user.reload()}catch(Ht){if("auth/user-token-expired"!==(null===(E=Ht)||void 0===E?void 0:E.code))throw Ht}})()}}const jn=new WeakMap,wr="__sak";class lr{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(wr,"1"),this.storage.removeItem(wr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ni=(()=>{class m extends lr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,E)=>this.onStorageEvent(p,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function dr(){const m=(0,I.z$)();return mt(m)||he(m)}()&&function gt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ve(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const E of Object.keys(this.listeners)){const W=this.storage.getItem(E),ve=this.localCache[E];W!==ve&&p(E,ve,W)}}onStorageEvent(p,E=!1){if(!p.key)return void this.forAllChangedKeys((Ht,bn,zn)=>{this.notifyListeners(Ht,zn)});const W=p.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ht=this.storage.getItem(W);if(p.newValue!==Ht)null!==p.newValue?this.storage.setItem(W,p.newValue):this.storage.removeItem(W);else if(this.localCache[W]===p.newValue&&!E)return}const ve=()=>{const Ht=this.storage.getItem(W);!E&&this.localCache[W]===Ht||this.notifyListeners(W,Ht)},ft=this.storage.getItem(W);!function ne(){return(0,I.w1)()&&10===document.documentMode}()||ft===p.newValue||p.newValue===p.oldValue?ve():setTimeout(ve,10)}notifyListeners(p,E){this.localCache[p]=E;const W=this.listeners[p];if(W)for(const ve of Array.from(W))ve(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,E,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:E,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,E){var W=()=>super._set,ve=this;return(0,c.Z)(function*(){yield W().call(ve,p,E),ve.localCache[p]=JSON.stringify(E)})()}_get(p){var E=()=>super._get,W=this;return(0,c.Z)(function*(){const ve=yield E().call(W,p);return W.localCache[p]=JSON.stringify(ve),ve})()}_remove(p){var E=()=>super._remove,W=this;return(0,c.Z)(function*(){yield E().call(W,p),delete W.localCache[p]})()}}return m.type="LOCAL",m})(),bs=(()=>{class m extends lr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,E){}_removeListener(p,E){}}return m.type="SESSION",m})();let rn=(()=>{class m{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const E=this.receivers.find(ve=>ve.isListeningto(p));if(E)return E;const W=new m(p);return this.receivers.push(W),W}isListeningto(p){return this.eventTarget===p}handleEvent(p){var E=this;return(0,c.Z)(function*(){const W=p,{eventId:ve,eventType:ft,data:Ht}=W.data,bn=E.handlersMap[ft];if(!bn?.size)return;W.ports[0].postMessage({status:"ack",eventId:ve,eventType:ft});const zn=Array.from(bn).map(function(){var vr=(0,c.Z)(function*(Gs){return Gs(W.origin,Ht)});return function(Gs){return vr.apply(this,arguments)}}()),pr=yield function Bs(m){return Promise.all(m.map(function(){var d=(0,c.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(E){return{fulfilled:!1,reason:E}}});return function(p){return d.apply(this,arguments)}}()))}(zn);W.ports[0].postMessage({status:"done",eventId:ve,eventType:ft,response:pr})})()}_subscribe(p,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(E)}_unsubscribe(p,E){this.handlersMap[p]&&E&&this.handlersMap[p].delete(E),(!E||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function Zr(m="",d=10){let p="";for(let E=0;E<d;E++)p+=Math.floor(10*Math.random());return m+p}class zi{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,E=50){var W=this;return(0,c.Z)(function*(){const ve=typeof MessageChannel<"u"?new MessageChannel:null;if(!ve)throw new Error("connection_unavailable");let ft,Ht;return new Promise((bn,zn)=>{const pr=Zr("",20);ve.port1.start();const vr=setTimeout(()=>{zn(new Error("unsupported_event"))},E);Ht={messageChannel:ve,onMessage(Gs){const ga=Gs;if(ga.data.eventId===pr)switch(ga.data.status){case"ack":clearTimeout(vr),ft=setTimeout(()=>{zn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ft),bn(ga.data.response);break;default:clearTimeout(vr),clearTimeout(ft),zn(new Error("invalid_response"))}}},W.handlers.add(Ht),ve.port1.addEventListener("message",Ht.onMessage),W.target.postMessage({eventType:d,eventId:pr,data:p},[ve.port2])}).finally(()=>{Ht&&W.removeMessageHandler(Ht)})})()}}function ci(){return window}function Yn(){return typeof ci().WorkerGlobalScope<"u"&&"function"==typeof ci().importScripts}function Cn(){return(Cn=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const On="firebaseLocalStorageDb",Nr="firebaseLocalStorage",Yi="fbase_key";class ps{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Qr(m,d){return m.transaction([Nr],d?"readwrite":"readonly").objectStore(Nr)}function di(){const m=indexedDB.open(On,1);return new Promise((d,p)=>{m.addEventListener("error",()=>{p(m.error)}),m.addEventListener("upgradeneeded",()=>{const E=m.result;try{E.createObjectStore(Nr,{keyPath:Yi})}catch(W){p(W)}}),m.addEventListener("success",(0,c.Z)(function*(){const E=m.result;E.objectStoreNames.contains(Nr)?d(E):(E.close(),yield function Do(){const m=indexedDB.deleteDatabase(On);return new ps(m).toPromise()}(),d(yield di()))}))})}function so(m,d,p){return va.apply(this,arguments)}function va(){return(va=(0,c.Z)(function*(m,d,p){const E=Qr(m,!0).put({[Yi]:d,value:p});return new ps(E).toPromise()})).apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(m,d){const p=Qr(m,!1).get(d),E=yield new ps(p).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Wn(m,d){const p=Qr(m,!0).delete(d);return new ps(p).toPromise()}const Jn=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,c.Z)(function*(){return p.db||(p.db=yield di()),p.db})()}_withRetries(p){var E=this;return(0,c.Z)(function*(){let W=0;for(;;)try{const ve=yield E._openDb();return yield p(ve)}catch(ve){if(W++>3)throw ve;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,c.Z)(function*(){return Yn()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,c.Z)(function*(){p.receiver=rn._getInstance(function wt(){return Yn()?self:null}()),p.receiver._subscribe("keyChanged",function(){var E=(0,c.Z)(function*(W,ve){return{keyProcessed:(yield p._poll()).includes(ve.key)}});return function(W,ve){return E.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var E=(0,c.Z)(function*(W,ve){return["keyChanged"]});return function(W,ve){return E.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,c.Z)(function*(){var E,W;if(p.activeServiceWorker=yield function Qs(){return Cn.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new zi(p.activeServiceWorker);const ve=yield p.sender._send("ping",{},800);!ve||(null===(E=ve[0])||void 0===E?void 0:E.fulfilled)&&(null===(W=ve[0])||void 0===W?void 0:W.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var E=this;return(0,c.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function kt(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:p},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const p=yield di();return yield so(p,wr,"1"),yield Wn(p,wr),!0}catch{}return!1})()}_withPendingWrite(p){var E=this;return(0,c.Z)(function*(){E.pendingWrites++;try{yield p()}finally{E.pendingWrites--}})()}_set(p,E){var W=this;return(0,c.Z)(function*(){return W._withPendingWrite((0,c.Z)(function*(){return yield W._withRetries(ve=>so(ve,p,E)),W.localCache[p]=E,W.notifyServiceWorker(p)}))})()}_get(p){var E=this;return(0,c.Z)(function*(){const W=yield E._withRetries(ve=>function os(m,d){return Xs.apply(this,arguments)}(ve,p));return E.localCache[p]=W,W})()}_remove(p){var E=this;return(0,c.Z)(function*(){return E._withPendingWrite((0,c.Z)(function*(){return yield E._withRetries(W=>Wn(W,p)),delete E.localCache[p],E.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,c.Z)(function*(){const E=yield p._withRetries(ft=>{const Ht=Qr(ft,!1).getAll();return new ps(Ht).toPromise()});if(!E)return[];if(0!==p.pendingWrites)return[];const W=[],ve=new Set;for(const{fbase_key:ft,value:Ht}of E)ve.add(ft),JSON.stringify(p.localCache[ft])!==JSON.stringify(Ht)&&(p.notifyListeners(ft,Ht),W.push(ft));for(const ft of Object.keys(p.localCache))p.localCache[ft]&&!ve.has(ft)&&(p.notifyListeners(ft,null),W.push(ft));return W})()}notifyListeners(p,E){this.localCache[p]=E;const W=this.listeners[p];if(W)for(const ve of Array.from(W))ve(E)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function ra(m,d){return wn(m,"POST","/v2/accounts/mfaSignIn:start",Nn(m,d))}function gi(){return(gi=(0,c.Z)(function*(m){return(yield wn(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function No(m){return new Promise((d,p)=>{const E=document.createElement("script");E.setAttribute("src",m),E.onload=d,E.onerror=W=>{const ve=we("internal-error");ve.customData=W,p(ve)},E.type="text/javascript",E.charset="UTF-8",function yn(){var m,d;return null!==(d=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==d?d:document}().appendChild(E)})}function Aa(m){return`__${m}${Math.floor(1e6*Math.random())}`}const Lo=1e12;class Li{constructor(d){this.auth=d,this.counter=Lo,this._widgets=new Map}render(d,p){const E=this.counter;return this._widgets.set(E,new Ja(d,this.auth.name,p||{})),this.counter++,E}reset(d){var p;const E=d||Lo;null===(p=this._widgets.get(E))||void 0===p||p.delete(),this._widgets.delete(E)}getResponse(d){var p;return(null===(p=this._widgets.get(d||Lo))||void 0===p?void 0:p.getResponse())||""}execute(d){var p=this;return(0,c.Z)(function*(){var E;return null===(E=p._widgets.get(d||Lo))||void 0===E||E.execute(),""})()}}class Ja{constructor(d,p,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const W="string"==typeof d?document.getElementById(d):d;ye(W,"argument-error",{appName:p}),this.container=W,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function vu(m){const d=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<m;E++)d.push(p.charAt(Math.floor(Math.random()*p.length)));return d.join("")}(50);const{callback:d,"expired-callback":p}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const El=Aa("rcb"),Io=new Rn(3e4,6e4);class xa{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=ci().grecaptcha)||void 0===d||!d.render)}load(d,p=""){return ye(function Jc(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(p),d,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(ci().grecaptcha):new Promise((E,W)=>{const ve=ci().setTimeout(()=>{W(we(d,"network-request-failed"))},Io.get());ci()[El]=()=>{ci().clearTimeout(ve),delete ci()[El];const Ht=ci().grecaptcha;if(!Ht)return void W(we(d,"internal-error"));const bn=Ht.render;Ht.render=(zn,pr)=>{const vr=bn(zn,pr);return this.counter++,vr},this.hostLanguage=p,E(Ht)},No(`https://www.google.com/recaptcha/api.js??${(0,I.xO)({onload:El,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(ve),W(we(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var p;return!(null===(p=ci().grecaptcha)||void 0===p||!p.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ao{load(d){return(0,c.Z)(function*(){return new Li(d)})()}clearedOneInstance(){}}const $l="recaptcha",Ot={theme:"light",type:"image"};class as{constructor(d,p=Object.assign({},Ot),E){this.parameters=p,this.type=$l,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vn(E),this.isInvisible="invisible"===this.parameters.size,ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const W="string"==typeof d?document.getElementById(d):d;ye(W,this.auth,"argument-error"),this.container=W,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ao:new xa,this.validateStartingState()}verify(){var d=this;return(0,c.Z)(function*(){d.assertNotDestroyed();const p=yield d.render(),E=d.getAssertedRecaptcha();return E.getResponse(p)||new Promise(ve=>{const ft=Ht=>{!Ht||(d.tokenChangeListeners.delete(ft),ve(Ht))};d.tokenChangeListeners.add(ft),d.isInvisible&&E.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return p=>{if(this.tokenChangeListeners.forEach(E=>E(p)),"function"==typeof d)d(p);else if("string"==typeof d){const E=ci()[d];"function"==typeof E&&E(p)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,c.Z)(function*(){if(yield d.init(),!d.widgetId){let p=d.container;if(!d.isInvisible){const E=document.createElement("div");p.appendChild(E),p=E}d.widgetId=d.getAssertedRecaptcha().render(p,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,c.Z)(function*(){ye(Kt()&&!Yn(),d.auth,"internal-error"),yield function po(){let m=null;return new Promise(d=>{"complete"!==document.readyState?(m=()=>d(),window.addEventListener("load",m)):d()}).catch(d=>{throw m&&window.removeEventListener("load",m),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const p=yield function fo(m){return gi.apply(this,arguments)}(d.auth);ye(p,d.auth,"internal-error"),d.parameters.sitekey=p})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Sa{constructor(d,p){this.verificationId=d,this.onConfirmation=p}confirm(d){const p=Sn._fromVerification(this.verificationId,d);return this.onConfirmation(p)}}function Vo(){return(Vo=(0,c.Z)(function*(m,d,p){const E=vn(m),W=yield w(E,d,(0,I.m9)(p));return new Sa(W,ve=>Gr(E,ve))})).apply(this,arguments)}function Ts(){return(Ts=(0,c.Z)(function*(m,d,p){const E=(0,I.m9)(m);yield Fr(!1,E,"phone");const W=yield w(E.auth,d,(0,I.m9)(p));return new Sa(W,ve=>uo(E,ve))})).apply(this,arguments)}function _a(){return(_a=(0,c.Z)(function*(m,d,p){const E=(0,I.m9)(m),W=yield w(E.auth,d,(0,I.m9)(p));return new Sa(W,ve=>Vs(E,ve))})).apply(this,arguments)}function w(m,d,p){return D.apply(this,arguments)}function D(){return(D=(0,c.Z)(function*(m,d,p){var E;const W=yield p.verify();try{let ve;if(ye("string"==typeof W,m,"argument-error"),ye(p.type===$l,m,"argument-error"),ve="string"==typeof d?{phoneNumber:d}:d,"session"in ve){const ft=ve.session;if("phoneNumber"in ve)return ye("enroll"===ft.type,m,"internal-error"),(yield et(m,{idToken:ft.credential,phoneEnrollmentInfo:{phoneNumber:ve.phoneNumber,recaptchaToken:W}})).phoneSessionInfo.sessionInfo;{ye("signin"===ft.type,m,"internal-error");const Ht=(null===(E=ve.multiFactorHint)||void 0===E?void 0:E.uid)||ve.multiFactorUid;return ye(Ht,m,"missing-multi-factor-info"),(yield ra(m,{mfaPendingCredential:ft.credential,mfaEnrollmentId:Ht,phoneSignInInfo:{recaptchaToken:W}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ft}=yield ht(m,{phoneNumber:ve.phoneNumber,recaptchaToken:W});return ft}}finally{p._reset()}})).apply(this,arguments)}function O(){return(O=(0,c.Z)(function*(m,d){yield ns((0,I.m9)(m),d)})).apply(this,arguments)}let V=(()=>{class m{constructor(p){this.providerId=m.PROVIDER_ID,this.auth=vn(p)}verifyPhoneNumber(p,E){return w(this.auth,p,(0,I.m9)(E))}static credential(p,E){return Sn._fromVerification(p,E)}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:E,temporaryProof:W}=p;return E&&W?Sn._fromTokenResponse(E,W):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function ae(m,d){return d?ct(d):(ye(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class Oe extends Hr{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Ee(d,this._buildIdpRequest())}_linkToIdToken(d,p){return Ee(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return Ee(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function $e(m){return fs(m.auth,new Oe(m),m.bypassAuthState)}function St(m){const{auth:d,user:p}=m;return ye(p,d,"internal-error"),Ls(p,new Oe(m),m.bypassAuthState)}function Xt(m){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,c.Z)(function*(m){const{auth:d,user:p}=m;return ye(p,d,"internal-error"),ns(p,new Oe(m),m.bypassAuthState)})).apply(this,arguments)}class Fn{constructor(d,p,E,W,ve=!1){this.auth=d,this.resolver=E,this.user=W,this.bypassAuthState=ve,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,c.Z)(function*(E,W){d.pendingPromise={resolve:E,reject:W};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(ve){d.reject(ve)}});return function(E,W){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,c.Z)(function*(){const{urlResponse:E,sessionId:W,postBody:ve,tenantId:ft,error:Ht,type:bn}=d;if(Ht)return void p.reject(Ht);const zn={auth:p.auth,requestUri:E,sessionId:W,tenantId:ft||void 0,postBody:ve||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(bn)(zn))}catch(pr){p.reject(pr)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return $e;case"linkViaPopup":case"linkViaRedirect":return Xt;case"reauthViaPopup":case"reauthViaRedirect":return St;default:Be(this.auth,"internal-error")}}resolve(d){Re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Mr=new Rn(2e3,1e4);function mi(){return(mi=(0,c.Z)(function*(m,d,p){const E=vn(m);tt(m,d,Gi);const W=ae(E,p);return new ha(E,"signInViaPopup",d,W).executeNotNull()})).apply(this,arguments)}function Es(){return(Es=(0,c.Z)(function*(m,d,p){const E=(0,I.m9)(m);tt(E.auth,d,Gi);const W=ae(E.auth,p);return new ha(E.auth,"reauthViaPopup",d,W,E).executeNotNull()})).apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(m,d,p){const E=(0,I.m9)(m);tt(E.auth,d,Gi);const W=ae(E.auth,p);return new ha(E.auth,"linkViaPopup",d,W,E).executeNotNull()})).apply(this,arguments)}let ha=(()=>{class m extends Fn{constructor(p,E,W,ve,ft){super(p,E,ve,ft),this.provider=W,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var p=this;return(0,c.Z)(function*(){const E=yield p.execute();return ye(E,p.auth,"internal-error"),E})()}onExecution(){var p=this;return(0,c.Z)(function*(){Re(1===p.filter.length,"Popup operations only handle one event");const E=Zr();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],E),p.authWindow.associatedEvent=E,p.resolver._originValidation(p.auth).catch(W=>{p.reject(W)}),p.resolver._isIframeWebStorageSupported(p.auth,W=>{W||p.reject(we(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const p=()=>{var E,W;this.pollId=null!==(W=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==W&&W.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,Mr.get())};p()}}return m.currentPopupAction=null,m})();const xo=new Map;class bu extends Fn{constructor(d,p,E=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,E),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,c.Z)(function*(){let E=xo.get(p.auth._key());if(!E){try{const ve=(yield function sa(m,d){return Bo.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;E=()=>Promise.resolve(ve)}catch(W){E=()=>Promise.reject(W)}xo.set(p.auth._key(),E)}return p.bypassAuthState||xo.set(p.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,E=this;return(0,c.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(E,d);if("unknown"!==d.type){if(d.eventId){const W=yield E.auth._redirectUserForId(d.eventId);if(W)return E.user=W,p().call(E,d);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Bo(){return(Bo=(0,c.Z)(function*(m,d){const p=oa(d),E=So(m);if(!(yield E._isAvailable()))return!1;const W="true"===(yield E._get(p));return yield E._remove(p),W})).apply(this,arguments)}function $a(m,d){return fa.apply(this,arguments)}function fa(){return(fa=(0,c.Z)(function*(m,d){return So(m)._set(oa(d),"true")})).apply(this,arguments)}function ba(m,d){xo.set(m._key(),d)}function So(m){return ct(m._redirectPersistence)}function oa(m){return ln("pendingRedirect",m.config.apiKey,m.name)}function k(){return(k=(0,c.Z)(function*(m,d,p){const E=vn(m);tt(m,d,Gi);const W=ae(E,p);return yield $a(W,E),W._openRedirect(E,d,"signInViaRedirect")})).apply(this,arguments)}function He(){return(He=(0,c.Z)(function*(m,d,p){const E=(0,I.m9)(m);tt(E.auth,d,Gi);const W=ae(E.auth,p);yield $a(W,E.auth);const ve=yield yr(E);return W._openRedirect(E.auth,d,"reauthViaRedirect",ve)})).apply(this,arguments)}function on(){return(on=(0,c.Z)(function*(m,d,p){const E=(0,I.m9)(m);tt(E.auth,d,Gi);const W=ae(E.auth,p);yield Fr(!1,E,d.providerId),yield $a(W,E.auth);const ve=yield yr(E);return W._openRedirect(E.auth,d,"linkViaRedirect",ve)})).apply(this,arguments)}function sr(){return(sr=(0,c.Z)(function*(m,d){return yield vn(m)._initializationPromise,mr(m,d,!1)})).apply(this,arguments)}function mr(m,d){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,c.Z)(function*(m,d,p=!1){const E=vn(m),W=ae(E,d),ft=yield new bu(E,W,p).execute();return ft&&!p&&(delete ft.user._redirectEventId,yield E._persistUserIfCurrent(ft.user),yield E._setRedirectUser(null,d)),ft})).apply(this,arguments)}function yr(m){return gs.apply(this,arguments)}function gs(){return(gs=(0,c.Z)(function*(m){const d=Zr(`${m.uid}:::`);return m._redirectEventId=d,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),d})).apply(this,arguments)}class za{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(d,E)&&(p=!0,this.sendToConsumer(d,E),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Di(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Oa(m);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var E;if(d.error&&!Oa(d)){const W=(null===(E=d.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";p.onError(we(this.auth,W))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const E=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&E}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ms(d))}saveEventToCache(d){this.cachedEventUids.add(ms(d)),this.lastProcessedEventTime=Date.now()}}function ms(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(d=>d).join("-")}function Oa({type:m,error:d}){return"unknown"===m&&"auth/no-auth-event"===d?.code}function ka(m){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,c.Z)(function*(m,d={}){return wn(m,"GET","/v1/projects",d)})).apply(this,arguments)}const Wo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wa=/^https?/;function Eu(){return(Eu=(0,c.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:d}=yield ka(m);for(const p of d)try{if(Zu(p))return}catch{}Be(m,"unauthorized-domain")})).apply(this,arguments)}function Zu(m){const d=Gt(),{protocol:p,hostname:E}=new URL(d);if(m.startsWith("chrome-extension://")){const ft=new URL(m);return""===ft.hostname&&""===E?"chrome-extension:"===p&&m.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&ft.hostname===E}if(!Wa.test(p))return!1;if(Wo.test(m))return E===m;const W=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(E)}const oh=new Rn(3e4,6e4);function ed(){const m=ci().___jsl;if(m?.H)for(const d of Object.keys(m.H))if(m.H[d].r=m.H[d].r||[],m.H[d].L=m.H[d].L||[],m.H[d].r=[...m.H[d].L],m.CP)for(let p=0;p<m.CP.length;p++)m.CP[p]=null}let wu=null;function Sf(m){return wu=wu||function Hs(m){return new Promise((d,p)=>{var E,W,ve;function ft(){ed(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{ed(),p(we(m,"network-request-failed"))},timeout:oh.get()})}if(null!==(W=null===(E=ci().gapi)||void 0===E?void 0:E.iframes)&&void 0!==W&&W.Iframe)d(gapi.iframes.getContext());else{if(null===(ve=ci().gapi)||void 0===ve||!ve.load){const Ht=Aa("iframefcb");return ci()[Ht]=()=>{gapi.load?ft():p(we(m,"network-request-failed"))},No(`https://apis.google.com/js/api.js?onload=${Ht}`).catch(bn=>p(bn))}ft()}}).catch(d=>{throw wu=null,d})}(m),wu}const ah=new Rn(5e3,15e3),Dg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},td=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mf(m){const d=m.config;ye(d.authDomain,m,"auth-domain-config-required");const p=d.emulator?pn(d,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,E={apiKey:d.apiKey,appName:m.name,v:re.SDK_VERSION},W=td.get(m.config.apiHost);W&&(E.eid=W);const ve=m._getFrameworks();return ve.length&&(E.fw=ve.join(",")),`${p}?${(0,I.xO)(E).slice(1)}`}function Ea(){return Ea=(0,c.Z)(function*(m){const d=yield Sf(m),p=ci().gapi;return ye(p,m,"internal-error"),d.open({where:document.body,url:Mf(m),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dg,dontclear:!0},E=>new Promise(function(){var W=(0,c.Z)(function*(ve,ft){yield E.restyle({setHideOnLeave:!1});const Ht=we(m,"network-request-failed"),bn=ci().setTimeout(()=>{ft(Ht)},ah.get());function zn(){ci().clearTimeout(bn),ve(E)}E.ping(zn).then(zn,()=>{ft(Ht)})});return function(ve,ft){return W.apply(this,arguments)}}()))}),Ea.apply(this,arguments)}const nd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Fa{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ko(m,d,p,E,W,ve){ye(m.config.authDomain,m,"auth-domain-config-required"),ye(m.config.apiKey,m,"invalid-api-key");const ft={apiKey:m.config.apiKey,appName:m.name,authType:p,redirectUrl:E,v:re.SDK_VERSION,eventId:W};if(d instanceof Gi){d.setDefaultLanguage(m.languageCode),ft.providerId=d.providerId||"",(0,I.xb)(d.getCustomParameters())||(ft.customParameters=JSON.stringify(d.getCustomParameters()));for(const[bn,zn]of Object.entries(ve||{}))ft[bn]=zn}if(d instanceof As){const bn=d.getScopes().filter(zn=>""!==zn);bn.length>0&&(ft.scopes=bn.join(","))}m.tenantId&&(ft.tid=m.tenantId);const Ht=ft;for(const bn of Object.keys(Ht))void 0===Ht[bn]&&delete Ht[bn];return`${function qo({config:m}){return m.emulator?pn(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,I.xO)(Ht).slice(1)}`}const zl="webStorageSupport";class aa extends class id{constructor(d){this.factorId=d}_process(d,p,E){switch(p.type){case"enroll":return this._finalizeEnroll(d,p.credential,E);case"signin":return this._finalizeSignIn(d,p.credential);default:return pt("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new aa(d)}_finalizeEnroll(d,p,E){return function It(m,d){return wn(m,"POST","/v2/accounts/mfaEnrollment:finalize",Nn(m,d))}(d,{idToken:p,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,p){return function jr(m,d){return wn(m,"POST","/v2/accounts/mfaSignIn:finalize",Nn(m,d))}(d,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Dl=(()=>{class m{constructor(){}static assertion(p){return aa._fromCredential(p)}}return m.FACTOR_ID="phone",m})();var sd="@firebase/auth";class dh{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,c.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(E=>{var W;d((null===(W=E)||void 0===W?void 0:W.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);!p||(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function nl(){return window}function rl(){return(rl=(0,c.Z)(function*(m,d,p){var E;const{BuildInfo:W}=nl();Re(d.sessionId,"AuthEvent did not contain a session ID");const ve=yield ld(d.sessionId),ft={};return he()?ft.ibi=W.packageName:yt()?ft.apn=W.packageName:Be(m,"operation-not-supported-in-this-environment"),W.displayName&&(ft.appDisplayName=W.displayName),ft.sessionId=ve,Ko(m,p,d.type,void 0,null!==(E=d.eventId)&&void 0!==E?E:void 0,ft)})).apply(this,arguments)}function Al(){return(Al=(0,c.Z)(function*(m){const{BuildInfo:d}=nl(),p={};he()?p.iosBundleId=d.packageName:yt()?p.androidPackageName=d.packageName:Be(m,"operation-not-supported-in-this-environment"),yield ka(m,p)})).apply(this,arguments)}function Ya(){return(Ya=(0,c.Z)(function*(m,d,p){const{cordova:E}=nl();let W=()=>{};try{yield new Promise((ve,ft)=>{let Ht=null;function bn(){var vr;ve();const Gs=null===(vr=E.plugins.browsertab)||void 0===vr?void 0:vr.close;"function"==typeof Gs&&Gs(),"function"==typeof p?.close&&p.close()}function zn(){Ht||(Ht=window.setTimeout(()=>{ft(we(m,"redirect-cancelled-by-user"))},2e3))}function pr(){"visible"===document?.visibilityState&&zn()}d.addPassiveListener(bn),document.addEventListener("resume",zn,!1),yt()&&document.addEventListener("visibilitychange",pr,!1),W=()=>{d.removePassiveListener(bn),document.removeEventListener("resume",zn,!1),document.removeEventListener("visibilitychange",pr,!1),Ht&&window.clearTimeout(Ht)}})}finally{W()}})).apply(this,arguments)}function ld(m){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,c.Z)(function*(m){const d=Ig(m),p=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(p)).map(W=>W.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ig(m){if(Re(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(m);const d=new ArrayBuffer(m.length),p=new Uint8Array(d);for(let E=0;E<m.length;E++)p[E]=m.charCodeAt(E);return p}!function fh(m){(0,re._registerComponent)(new Ne.wA("auth",(d,{options:p})=>{const E=d.getProvider("app").getImmediate(),W=d.getProvider("heartbeat"),{apiKey:ve,authDomain:ft}=E.options;return((Ht,bn)=>{ye(ve&&!ve.includes(":"),"invalid-api-key",{appName:Ht.name}),ye(!ft?.includes(":"),"argument-error",{appName:Ht.name});const zn={apiKey:ve,authDomain:ft,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lt(m)},pr=new an(Ht,bn,zn);return function jt(m,d){const p=d?.persistence||[],E=(Array.isArray(p)?p:[p]).map(ct);d?.errorMap&&m._updateErrorMap(d.errorMap),m._initializeWithPersistence(E,d?.popupRedirectResolver)}(pr,p),pr})(E,W)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,E)=>{d.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new Ne.wA("auth-internal",d=>{const p=vn(d.getProvider("auth").getImmediate());return new dh(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)(sd,"0.20.7",function hh(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,re.registerVersion)(sd,"0.20.7","esm2017")}("Browser");class Xi extends za{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(d)),super.onEvent(d)}initialized(){var d=this;return(0,c.Z)(function*(){yield d.initPromise})()}}function gh(m){return tc.apply(this,arguments)}function tc(){return(tc=(0,c.Z)(function*(m){const d=yield nc()._get(il(m));return d&&(yield nc()._remove(il(m))),d})).apply(this,arguments)}function kf(){const m=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const E=Math.floor(Math.random()*d.length);m.push(d.charAt(E))}return m.join("")}function nc(){return ct(Ni)}function il(m){return ln("authEvent",m.config.apiKey,m.name)}function Yl(m){if(!m?.includes("?"))return{};const[d,...p]=m.split("?");return(0,I.zd)(p.join("?"))}function mh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:we("no-auth-event")}}function pa(){var m;return(null===(m=self?.location)||void 0===m?void 0:m.protocol)||null}function Ho(m=(0,I.z$)()){return!("file:"!==pa()&&"ionic:"!==pa()&&"capacitor:"!==pa()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function Au(){try{const m=self.localStorage,d=Zr();if(m)return m.setItem(d,"1"),m.removeItem(d),!function Yo(m=(0,I.z$)()){return function ic(){return(0,I.w1)()&&11===document?.documentMode}()||function Ff(m=(0,I.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,I.hl)()}catch{return sl()&&(0,I.hl)()}return!1}function sl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function sc(){return(function Pf(){return"http:"===pa()||"https:"===pa()}()||(0,I.ru)()||Ho())&&!function vh(){return(0,I.b$)()||(0,I.UG)()}()&&Au()&&!sl()}function dd(){return Ho()&&typeof document<"u"}function oc(){return(oc=(0,c.Z)(function*(){return!!dd()&&new Promise(m=>{const d=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),m(!0)})})})).apply(this,arguments)}const to={LOCAL:"local",NONE:"none",SESSION:"session"},ol=ye,Su="persistence";function Tu(m){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,c.Z)(function*(m){yield m._initializationPromise;const d=hd(),p=ln(Su,m.config.apiKey,m.name);d&&d.setItem(p,m._getPersistence())})).apply(this,arguments)}function hd(){var m;try{return(null===(m=function xu(){return typeof window<"u"?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch{return null}}const lc=ye;class wa{constructor(){this.browserResolver=ct(class Cu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bs,this._completeRedirectFn=mr,this._overrideRedirectResult=ba}_openPopup(d,p,E,W){var ve=this;return(0,c.Z)(function*(){var ft;Re(null===(ft=ve.eventManagers[d._key()])||void 0===ft?void 0:ft.manager,"_initialize() not called before _openPopup()");const Ht=Ko(d,p,E,Gt(),W);return function Qu(m,d,p,E=500,W=600){const ve=Math.max((window.screen.availHeight-W)/2,0).toString(),ft=Math.max((window.screen.availWidth-E)/2,0).toString();let Ht="";const bn=Object.assign(Object.assign({},nd),{width:E.toString(),height:W.toString(),top:ve,left:ft}),zn=(0,I.z$)().toLowerCase();p&&(Ht=Xe(zn)?"_blank":p),ar(zn)&&(d=d||"http://localhost",bn.scrollbars="yes");const pr=Object.entries(bn).reduce((Gs,[ga,Tl])=>`${Gs}${ga}=${Tl},`,"");if(function ue(m=(0,I.z$)()){var d;return he(m)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(zn)&&"_self"!==Ht)return function Xu(m,d){const p=document.createElement("a");p.href=m,p.target=d;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(E)}(d||"",Ht),new Fa(null);const vr=window.open(d||"",Ht,pr);ye(vr,m,"popup-blocked");try{vr.focus()}catch{}return new Fa(vr)}(d,Ht,Zr())})()}_openRedirect(d,p,E,W){var ve=this;return(0,c.Z)(function*(){return yield ve._originValidation(d),function In(m){ci().location.href=m}(Ko(d,p,E,Gt(),W)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:W,promise:ve}=this.eventManagers[p];return W?Promise.resolve(W):(Re(ve,"If manager is not set, promise should be"),ve)}const E=this.initAndGetManager(d);return this.eventManagers[p]={promise:E},E.catch(()=>{delete this.eventManagers[p]}),E}initAndGetManager(d){var p=this;return(0,c.Z)(function*(){const E=yield function Ka(m){return Ea.apply(this,arguments)}(d),W=new za(d);return E.register("authEvent",ve=>(ye(ve?.authEvent,d,"invalid-auth-event"),{status:W.onEvent(ve.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:W},p.iframes[d._key()]=E,W})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(zl,{type:zl},W=>{var ve;const ft=null===(ve=W?.[0])||void 0===ve?void 0:ve[zl];void 0!==ft&&p(!!ft),Be(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function tl(m){return Eu.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return Ve()||mt()||he()}}),this.cordovaResolver=ct(class Zl{constructor(){this._redirectPersistence=bs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=mr,this._overrideRedirectResult=ba}_initialize(d){var p=this;return(0,c.Z)(function*(){const E=d._key();let W=p.eventManagers.get(E);return W||(W=new Xi(d),p.eventManagers.set(E,W),p.attachCallbackListeners(d,W)),W})()}_openPopup(d){Be(d,"operation-not-supported-in-this-environment")}_openRedirect(d,p,E,W){var ve=this;return(0,c.Z)(function*(){!function ad(m){var d,p,E,W,ve,ft,Ht,bn,zn,pr;const vr=nl();ye("function"==typeof(null===(d=vr?.universalLinks)||void 0===d?void 0:d.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ye(typeof(null===(p=vr?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ye("function"==typeof(null===(ve=null===(W=null===(E=vr?.cordova)||void 0===E?void 0:E.plugins)||void 0===W?void 0:W.browsertab)||void 0===ve?void 0:ve.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye("function"==typeof(null===(bn=null===(Ht=null===(ft=vr?.cordova)||void 0===ft?void 0:ft.plugins)||void 0===Ht?void 0:Ht.browsertab)||void 0===bn?void 0:bn.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye("function"==typeof(null===(pr=null===(zn=vr?.cordova)||void 0===zn?void 0:zn.InAppBrowser)||void 0===pr?void 0:pr.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const ft=yield ve._initialize(d);yield ft.initialized(),ft.resetRedirect(),function Ma(){xo.clear()}(),yield ve._originValidation(d);const Ht=function ql(m,d,p=null){return{type:d,eventId:p,urlResponse:null,sessionId:kf(),postBody:null,tenantId:m.tenantId,error:we(m,"no-auth-event")}}(d,E,W);yield function ud(m,d){return nc()._set(il(m),d)}(d,Ht);const bn=yield function ph(m,d,p){return rl.apply(this,arguments)}(d,Ht,p),zn=yield function Uo(m){const{cordova:d}=nl();return new Promise(p=>{d.plugins.browsertab.isAvailable(E=>{let W=null;E?d.plugins.browsertab.openUrl(m):W=d.InAppBrowser.open(m,function _e(m=(0,I.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),p(W)})})}(bn);return function Wl(m,d,p){return Ya.apply(this,arguments)}(d,ft,zn)})()}_isIframeWebStorageSupported(d,p){throw new Error("Method not implemented.")}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Il(m){return Al.apply(this,arguments)}(d)),this.originValidationPromises[p]}attachCallbackListeners(d,p){const{universalLinks:E,handleOpenURL:W,BuildInfo:ve}=nl(),ft=setTimeout((0,c.Z)(function*(){yield gh(d),p.onEvent(mh())}),500),Ht=function(){var pr=(0,c.Z)(function*(vr){clearTimeout(ft);const Gs=yield gh(d);let ga=null;Gs&&vr?.url&&(ga=function Du(m,d){var p,E;const W=function Iu(m){const d=Yl(m),p=d.link?decodeURIComponent(d.link):void 0,E=Yl(p).link,W=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return Yl(W).link||W||E||p||m}(d);if(W.includes("/__/auth/callback")){const ve=Yl(W),ft=ve.firebaseError?function Na(m){try{return JSON.parse(m)}catch{return null}}(decodeURIComponent(ve.firebaseError)):null,Ht=null===(E=null===(p=ft?.code)||void 0===p?void 0:p.split("auth/"))||void 0===E?void 0:E[1],bn=Ht?we(Ht):null;return bn?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:bn,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:W,postBody:null}}return null}(Gs,vr.url)),p.onEvent(ga||mh())});return function(Gs){return pr.apply(this,arguments)}}();typeof E<"u"&&"function"==typeof E.subscribe&&E.subscribe(null,Ht);const bn=W,zn=`${ve.packageName.toLowerCase()}://`;nl().handleOpenURL=function(){var pr=(0,c.Z)(function*(vr){if(vr.toLowerCase().startsWith(zn)&&Ht({url:vr}),"function"==typeof bn)try{bn(vr)}catch(Gs){console.error(Gs)}});return function(vr){return pr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=bs,this._completeRedirectFn=mr,this._overrideRedirectResult=ba}_initialize(d){var p=this;return(0,c.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,p,E,W){var ve=this;return(0,c.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openPopup(d,p,E,W)})()}_openRedirect(d,p,E,W){var ve=this;return(0,c.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openRedirect(d,p,E,W)})()}_isIframeWebStorageSupported(d,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,p)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return dd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,c.Z)(function*(){if(d.underlyingResolver)return;const p=yield function $r(){return oc.apply(this,arguments)}();d.underlyingResolver=p?d.cordovaResolver:d.browserResolver})()}}function _h(m){return m.unwrap()}function al(m){return pd(m)}function pd(m){const{_tokenResponse:d}=m instanceof I.ZR?m.customData:m;if(!d)return null;if(!(m instanceof I.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return V.credentialFromResult(m);const p=d.providerId;if(!p||"password"===p)return null;let E;switch(p){case"google.com":E=vo;break;case"facebook.com":E=ks;break;case"github.com":E=no;break;case"twitter.com":E=hs;break;default:const{oauthIdToken:W,oauthAccessToken:ve,oauthTokenSecret:ft,pendingToken:Ht,nonce:bn}=d;return ve||ft||W||Ht?Ht?p.startsWith("saml.")?cs._create(p,Ht):Le._fromParams({providerId:p,signInMethod:p,pendingToken:Ht,idToken:W,accessToken:ve}):new Os(p).credential({idToken:W,accessToken:ve,rawNonce:bn}):null}return m instanceof I.ZR?E.credentialFromError(m):E.credentialFromResult(m)}function Ii(m,d){return d.catch(p=>{throw p instanceof I.ZR&&function ll(m,d){var p,E;const W=null===(p=d.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null===(E=d)||void 0===E?void 0:E.code))d.resolver=new Ql(m,function We(m,d){var p;const E=(0,I.m9)(m),W=d;return ye(d.customData.operationType,E,"argument-error"),ye(null===(p=W.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,E,"argument-error"),Se._fromError(E,W)}(m,d));else if(W){const ve=pd(d),ft=d;ve&&(ft.credential=ve,ft.tenantId=W.tenantId||void 0,ft.email=W.email||void 0,ft.phoneNumber=W.phoneNumber||void 0)}}(m,p),p}).then(p=>{const W=p.user;return{operationType:p.operationType,credential:al(p),additionalUserInfo:Br(p),user:Cs.getOrCreate(W)}})}function Ru(m,d){return uc.apply(this,arguments)}function uc(){return(uc=(0,c.Z)(function*(m,d){const p=yield d;return{verificationId:p.verificationId,confirm:E=>Ii(m,p.confirm(E))}})).apply(this,arguments)}class Ql{constructor(d,p){this.resolver=p,this.auth=function fd(m){return m.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return Ii(_h(this.auth),this.resolver.resolveSignIn(d))}}class Cs{constructor(d){this._delegate=d,this.multiFactor=function Or(m){const d=(0,I.m9)(m);return jn.has(d)||jn.set(d,kn._fromUser(d)),jn.get(d)}(d)}static getOrCreate(d){return Cs.USER_MAP.has(d)||Cs.USER_MAP.set(d,new Cs(d)),Cs.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var p=this;return(0,c.Z)(function*(){return Ii(p.auth,uo(p._delegate,d))})()}linkWithPhoneNumber(d,p){var E=this;return(0,c.Z)(function*(){return Ru(E.auth,function go(m,d,p){return Ts.apply(this,arguments)}(E._delegate,d,p))})()}linkWithPopup(d){var p=this;return(0,c.Z)(function*(){return Ii(p.auth,function Zi(m,d,p){return Js.apply(this,arguments)}(p._delegate,d,wa))})()}linkWithRedirect(d){var p=this;return(0,c.Z)(function*(){return yield Tu(vn(p.auth)),function vt(m,d,p){return function Ft(m,d,p){return on.apply(this,arguments)}(m,d,p)}(p._delegate,d,wa)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var p=this;return(0,c.Z)(function*(){return Ii(p.auth,Vs(p._delegate,d))})()}reauthenticateWithPhoneNumber(d,p){return Ru(this.auth,function wl(m,d,p){return _a.apply(this,arguments)}(this._delegate,d,p))}reauthenticateWithPopup(d){return Ii(this.auth,function Ta(m,d,p){return Es.apply(this,arguments)}(this._delegate,d,wa))}reauthenticateWithRedirect(d){var p=this;return(0,c.Z)(function*(){return yield Tu(vn(p.auth)),function B(m,d,p){return function se(m,d,p){return He.apply(this,arguments)}(m,d,p)}(p._delegate,d,wa)})()}sendEmailVerification(d){return function Po(m,d){return wo.apply(this,arguments)}(this._delegate,d)}unlink(d){var p=this;return(0,c.Z)(function*(){return yield function $i(m,d){return Ns.apply(this,arguments)}(p._delegate,d),p})()}updateEmail(d){return function T(m,d){return P((0,I.m9)(m),d,null)}(this._delegate,d)}updatePassword(d){return function K(m,d){return P((0,I.m9)(m),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function _(m,d){return O.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function Co(m,d){return ho.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,p){return function xs(m,d,p){return ea.apply(this,arguments)}(this._delegate,d,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Cs.USER_MAP=new WeakMap;const Sl=ye;let gd=(()=>{class m{constructor(p,E){if(this.app=p,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:W}=p.options;Sl(W,"invalid-api-key",{appName:p.name}),Sl(W,"invalid-api-key",{appName:p.name});const ve=typeof window<"u"?wa:void 0;this._delegate=E.initialize({options:{persistence:bh(W,p.name),popupRedirectResolver:ve}}),this._delegate._updateErrorMap(ze),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Cs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,E){!function ei(m,d,p){const E=vn(m);ye(E._canInitEmulator,E,"emulator-config-failed"),ye(/^https?:\/\//.test(d),E,"invalid-emulator-scheme");const W=!!p?.disableWarnings,ve=Xr(d),{host:ft,port:Ht}=function br(m){const d=Xr(m),p=/(\/\/)?([^?#/]+)/.exec(m.substr(d.length));if(!p)return{host:"",port:null};const E=p[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(E);if(W){const ve=W[1];return{host:ve,port:Jr(E.substr(ve.length+1))}}{const[ve,ft]=E.split(":");return{host:ve,port:Jr(ft)}}}(d);E.config.emulator={url:`${ve}//${ft}${null===Ht?"":`:${Ht}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ft,port:Ht,protocol:ve.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function Lr(){function m(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,p,E)}applyActionCode(p){return function R(m,d){return pe.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Mt(this._delegate,p)}confirmPasswordReset(p,E){return function U(m,d,p){return L.apply(this,arguments)}(this._delegate,p,E)}createUserWithEmailAndPassword(p,E){var W=this;return(0,c.Z)(function*(){return Ii(W._delegate,function Fs(m,d,p){return ri.apply(this,arguments)}(W._delegate,p,E))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Jo(m,d){return co.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function io(m,d){return"EMAIL_SIGNIN"===fi.parseLink(d)?.operation}(0,p)}getRedirectResult(){var p=this;return(0,c.Z)(function*(){Sl(sc(),p._delegate,"operation-not-supported-in-this-environment");const E=yield function Mn(m,d){return sr.apply(this,arguments)}(p._delegate,wa);return E?Ii(p._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function js(m,d){vn(m)._logFramework(d)}(this._delegate,p)}onAuthStateChanged(p,E,W){const{next:ve,error:ft,complete:Ht}=Xl(p,E,W);return this._delegate.onAuthStateChanged(ve,ft,Ht)}onIdTokenChanged(p,E,W){const{next:ve,error:ft,complete:Ht}=Xl(p,E,W);return this._delegate.onIdTokenChanged(ve,ft,Ht)}sendSignInLinkToEmail(p,E){return function ma(m,d,p){return Ei.apply(this,arguments)}(this._delegate,p,E)}sendPasswordResetEmail(p,E){return function is(m,d,p){return ai.apply(this,arguments)}(this._delegate,p,E||void 0)}setPersistence(p){var E=this;return(0,c.Z)(function*(){let W;switch(function ac(m,d){ol(Object.values(to).includes(d),m,"invalid-persistence-type"),(0,I.b$)()?ol(d!==to.SESSION,m,"unsupported-persistence-type"):(0,I.UG)()?ol(d===to.NONE,m,"unsupported-persistence-type"):sl()?ol(d===to.NONE||d===to.LOCAL&&(0,I.hl)(),m,"unsupported-persistence-type"):ol(d===to.NONE||Au(),m,"unsupported-persistence-type")}(E._delegate,p),p){case to.SESSION:W=bs;break;case to.LOCAL:W=(yield ct(Jn)._isAvailable())?Jn:Ni;break;case to.NONE:W=nn;break;default:return Be("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(W)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Ii(this._delegate,function Ws(m){return ni.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Ii(this._delegate,Gr(this._delegate,p))}signInWithCustomToken(p){return Ii(this._delegate,function Oo(m,d){return ko.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,E){return Ii(this._delegate,function _s(m,d,p){return Gr((0,I.m9)(m),ts.credential(d,p))}(this._delegate,p,E))}signInWithEmailLink(p,E){return Ii(this._delegate,function Xa(m,d,p){return $o.apply(this,arguments)}(this._delegate,p,E))}signInWithPhoneNumber(p,E){return Ru(this._delegate,function Ga(m,d,p){return Vo.apply(this,arguments)}(this._delegate,p,E))}signInWithPopup(p){var E=this;return(0,c.Z)(function*(){return Sl(sc(),E._delegate,"operation-not-supported-in-this-environment"),Ii(E._delegate,function Us(m,d,p){return mi.apply(this,arguments)}(E._delegate,p,wa))})()}signInWithRedirect(p){var E=this;return(0,c.Z)(function*(){return Sl(sc(),E._delegate,"operation-not-supported-in-this-environment"),yield Tu(E._delegate),function Qi(m,d,p){return function Ra(m,d,p){return k.apply(this,arguments)}(m,d,p)}(E._delegate,p,wa)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function pi(m,d){return ss.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=to,m})();function Xl(m,d,p){let E=m;"function"!=typeof m&&({next:E,error:d,complete:p}=m);const W=E;return{next:ft=>W(ft&&Cs.getOrCreate(ft)),error:d,complete:p}}function bh(m,d){const p=function xl(m,d){const p=hd();if(!p)return[];const E=ln(Su,m,d);switch(p.getItem(E)){case to.NONE:return[nn];case to.LOCAL:return[Jn,bs];case to.SESSION:return[bs];default:return[]}}(m,d);if(typeof self<"u"&&!p.includes(Jn)&&p.push(Jn),typeof window<"u")for(const E of[Ni,bs])p.includes(E)||p.push(E);return p.includes(nn)||p.push(nn),p}class Jl{constructor(){this.providerId="phone",this._delegate=new V(_h(C.Z.auth()))}static credential(d,p){return V.credential(d,p)}verifyPhoneNumber(d,p){return this._delegate.verifyPhoneNumber(d,p)}unwrap(){return this._delegate}}Jl.PHONE_SIGN_IN_METHOD=V.PHONE_SIGN_IN_METHOD,Jl.PROVIDER_ID=V.PROVIDER_ID;const Eh=ye;class wh{constructor(d,p,E=C.Z.app()){var W;Eh(null===(W=E.options)||void 0===W?void 0:W.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new as(d,p,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function eu(m){m.INTERNAL.registerComponent(new Ne.wA("auth-compat",d=>{const p=d.getProvider("app-compat").getImmediate(),E=d.getProvider("auth");return new gd(p,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ts,FacebookAuthProvider:ks,GithubAuthProvider:no,GoogleAuthProvider:vo,OAuthProvider:Os,SAMLAuthProvider:ys,PhoneAuthProvider:Jl,PhoneMultiFactorGenerator:Dl,RecaptchaVerifier:wh,TwitterAuthProvider:hs,Auth:gd,AuthCredential:Hr,Error:I.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.20")}(C.Z)},5386:(en,rt,S)=>{var c;!function(C,I,re,ge){"use strict";var _t,Me=["","webkit","Moz","MS","ms","o"],Ne=I.createElement("div"),ke=Math.round,ce=Math.abs,be=Date.now;function De(oe,Ee,X){return setTimeout(Rt(oe,X),Ee)}function it(oe,Ee,X){return!!Array.isArray(oe)&&(nt(oe,X[Ee],X),!0)}function nt(oe,Ee,X){var me;if(oe)if(oe.forEach)oe.forEach(Ee,X);else if(oe.length!==ge)for(me=0;me<oe.length;)Ee.call(X,oe[me],me,oe),me++;else for(me in oe)oe.hasOwnProperty(me)&&Ee.call(X,oe[me],me,oe)}function ze(oe,Ee,X){var me="DEPRECATED METHOD: "+Ee+"\n"+X+" AT \n";return function(){var Le=new Error("get-stack-trace"),ht=Le&&Le.stack?Le.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Ut=C.console&&(C.console.warn||C.console.log);return Ut&&Ut.call(C.console,me,ht),oe.apply(this,arguments)}}_t="function"!=typeof Object.assign?function(Ee){if(Ee===ge||null===Ee)throw new TypeError("Cannot convert undefined or null to object");for(var X=Object(Ee),me=1;me<arguments.length;me++){var Le=arguments[me];if(Le!==ge&&null!==Le)for(var ht in Le)Le.hasOwnProperty(ht)&&(X[ht]=Le[ht])}return X}:Object.assign;var Je=ze(function(Ee,X,me){for(var Le=Object.keys(X),ht=0;ht<Le.length;)(!me||me&&Ee[Le[ht]]===ge)&&(Ee[Le[ht]]=X[Le[ht]]),ht++;return Ee},"extend","Use `assign`."),at=ze(function(Ee,X){return Je(Ee,X,!0)},"merge","Use `assign`.");function Fe(oe,Ee,X){var Le,me=Ee.prototype;(Le=oe.prototype=Object.create(me)).constructor=oe,Le._super=me,X&&_t(Le,X)}function Rt(oe,Ee){return function(){return oe.apply(Ee,arguments)}}function Be(oe,Ee){return"function"==typeof oe?oe.apply(Ee&&Ee[0]||ge,Ee):oe}function we(oe,Ee){return oe===ge?Ee:oe}function Ie(oe,Ee,X){nt(pt(Ee),function(me){oe.addEventListener(me,X,!1)})}function tt(oe,Ee,X){nt(pt(Ee),function(me){oe.removeEventListener(me,X,!1)})}function Et(oe,Ee){for(;oe;){if(oe==Ee)return!0;oe=oe.parentNode}return!1}function ye(oe,Ee){return oe.indexOf(Ee)>-1}function pt(oe){return oe.trim().split(/\s+/g)}function Re(oe,Ee,X){if(oe.indexOf&&!X)return oe.indexOf(Ee);for(var me=0;me<oe.length;){if(X&&oe[me][X]==Ee||!X&&oe[me]===Ee)return me;me++}return-1}function Ye(oe){return Array.prototype.slice.call(oe,0)}function ct(oe,Ee,X){for(var me=[],Le=[],ht=0;ht<oe.length;){var Ut=Ee?oe[ht][Ee]:oe[ht];Re(Le,Ut)<0&&me.push(oe[ht]),Le[ht]=Ut,ht++}return X&&(me=Ee?me.sort(function(Dn,Sr){return Dn[Ee]>Sr[Ee]}):me.sort()),me}function dt(oe,Ee){for(var X,me,Le=Ee[0].toUpperCase()+Ee.slice(1),ht=0;ht<Me.length;){if((me=(X=Me[ht])?X+Le:Ee)in oe)return me;ht++}return ge}var jt=1;function Kt(oe){var Ee=oe.ownerDocument||oe;return Ee.defaultView||Ee.parentWindow||C}var tn="ontouchstart"in C,Nt=dt(C,"PointerEvent")!==ge,Rn=tn&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),pn="touch",zt="mouse",Xn=["x","y"],ir=["clientX","clientY"];function cr(oe,Ee){var X=this;this.manager=oe,this.callback=Ee,this.element=oe.element,this.target=oe.options.inputTarget,this.domHandler=function(me){Be(oe.options.enable,[oe])&&X.handler(me)},this.init()}function Ct(oe,Ee,X){var me=X.pointers.length,Le=X.changedPointers.length,ht=1&Ee&&me-Le==0,Ut=12&Ee&&me-Le==0;X.isFirst=!!ht,X.isFinal=!!Ut,ht&&(oe.session={}),X.eventType=Ee,function st(oe,Ee){var X=oe.session,me=Ee.pointers,Le=me.length;X.firstInput||(X.firstInput=Bt(Ee)),Le>1&&!X.firstMultiple?X.firstMultiple=Bt(Ee):1===Le&&(X.firstMultiple=!1);var ht=X.firstInput,Ut=X.firstMultiple,un=Ut?Ut.center:ht.center,Dn=Ee.center=_n(me);Ee.timeStamp=be(),Ee.deltaTime=Ee.timeStamp-ht.timeStamp,Ee.angle=Qe(un,Dn),Ee.distance=qn(un,Dn),function Pt(oe,Ee){var X=Ee.center,me=oe.offsetDelta||{},Le=oe.prevDelta||{},ht=oe.prevInput||{};(1===Ee.eventType||4===ht.eventType)&&(Le=oe.prevDelta={x:ht.deltaX||0,y:ht.deltaY||0},me=oe.offsetDelta={x:X.x,y:X.y}),Ee.deltaX=Le.x+(X.x-me.x),Ee.deltaY=Le.y+(X.y-me.y)}(X,Ee),Ee.offsetDirection=Ln(Ee.deltaX,Ee.deltaY);var Sr=hn(Ee.deltaTime,Ee.deltaX,Ee.deltaY);Ee.overallVelocityX=Sr.x,Ee.overallVelocityY=Sr.y,Ee.overallVelocity=ce(Sr.x)>ce(Sr.y)?Sr.x:Sr.y,Ee.scale=Ut?function N(oe,Ee){return qn(Ee[0],Ee[1],ir)/qn(oe[0],oe[1],ir)}(Ut.pointers,me):1,Ee.rotation=Ut?function qe(oe,Ee){return Qe(Ee[1],Ee[0],ir)+Qe(oe[1],oe[0],ir)}(Ut.pointers,me):0,Ee.maxPointers=X.prevInput?Ee.pointers.length>X.prevInput.maxPointers?Ee.pointers.length:X.prevInput.maxPointers:Ee.pointers.length,function Tt(oe,Ee){var Le,ht,Ut,un,X=oe.lastInterval||Ee,me=Ee.timeStamp-X.timeStamp;if(8!=Ee.eventType&&(me>25||X.velocity===ge)){var Dn=Ee.deltaX-X.deltaX,Sr=Ee.deltaY-X.deltaY,te=hn(me,Dn,Sr);ht=te.x,Ut=te.y,Le=ce(te.x)>ce(te.y)?te.x:te.y,un=Ln(Dn,Sr),oe.lastInterval=Ee}else Le=X.velocity,ht=X.velocityX,Ut=X.velocityY,un=X.direction;Ee.velocity=Le,Ee.velocityX=ht,Ee.velocityY=Ut,Ee.direction=un}(X,Ee);var te=oe.element;Et(Ee.srcEvent.target,te)&&(te=Ee.srcEvent.target),Ee.target=te}(oe,X),oe.emit("hammer.input",X),oe.recognize(X),oe.session.prevInput=X}function Bt(oe){for(var Ee=[],X=0;X<oe.pointers.length;)Ee[X]={clientX:ke(oe.pointers[X].clientX),clientY:ke(oe.pointers[X].clientY)},X++;return{timeStamp:be(),pointers:Ee,center:_n(Ee),deltaX:oe.deltaX,deltaY:oe.deltaY}}function _n(oe){var Ee=oe.length;if(1===Ee)return{x:ke(oe[0].clientX),y:ke(oe[0].clientY)};for(var X=0,me=0,Le=0;Le<Ee;)X+=oe[Le].clientX,me+=oe[Le].clientY,Le++;return{x:ke(X/Ee),y:ke(me/Ee)}}function hn(oe,Ee,X){return{x:Ee/oe||0,y:X/oe||0}}function Ln(oe,Ee){return oe===Ee?1:ce(oe)>=ce(Ee)?oe<0?2:4:Ee<0?8:16}function qn(oe,Ee,X){X||(X=Xn);var me=Ee[X[0]]-oe[X[0]],Le=Ee[X[1]]-oe[X[1]];return Math.sqrt(me*me+Le*Le)}function Qe(oe,Ee,X){return X||(X=Xn),180*Math.atan2(Ee[X[1]]-oe[X[1]],Ee[X[0]]-oe[X[0]])/Math.PI}cr.prototype={handler:function(){},init:function(){this.evEl&&Ie(this.element,this.evEl,this.domHandler),this.evTarget&&Ie(this.target,this.evTarget,this.domHandler),this.evWin&&Ie(Kt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&tt(this.element,this.evEl,this.domHandler),this.evTarget&&tt(this.target,this.evTarget,this.domHandler),this.evWin&&tt(Kt(this.element),this.evWin,this.domHandler)}};var Z={mousedown:1,mousemove:2,mouseup:4},q="mousedown",Y="mousemove mouseup";function j(){this.evEl=q,this.evWin=Y,this.pressed=!1,cr.apply(this,arguments)}Fe(j,cr,{handler:function(Ee){var X=Z[Ee.type];1&X&&0===Ee.button&&(this.pressed=!0),2&X&&1!==Ee.which&&(X=4),this.pressed&&(4&X&&(this.pressed=!1),this.callback(this.manager,X,{pointers:[Ee],changedPointers:[Ee],pointerType:zt,srcEvent:Ee}))}});var ee={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},$={2:pn,3:"pen",4:zt,5:"kinect"},fe="pointerdown",xe="pointermove pointerup pointercancel";function Ge(){this.evEl=fe,this.evWin=xe,cr.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}C.MSPointerEvent&&!C.PointerEvent&&(fe="MSPointerDown",xe="MSPointerMove MSPointerUp MSPointerCancel"),Fe(Ge,cr,{handler:function(Ee){var X=this.store,me=!1,Le=Ee.type.toLowerCase().replace("ms",""),ht=ee[Le],Ut=$[Ee.pointerType]||Ee.pointerType,un=Ut==pn,Dn=Re(X,Ee.pointerId,"pointerId");1&ht&&(0===Ee.button||un)?Dn<0&&(X.push(Ee),Dn=X.length-1):12&ht&&(me=!0),!(Dn<0)&&(X[Dn]=Ee,this.callback(this.manager,ht,{pointers:X,changedPointers:[Ee],pointerType:Ut,srcEvent:Ee}),me&&X.splice(Dn,1))}});var ot={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Qt="touchstart",nn="touchstart touchmove touchend touchcancel";function ln(){this.evTarget=Qt,this.evWin=nn,this.started=!1,cr.apply(this,arguments)}function mn(oe,Ee){var X=Ye(oe.touches),me=Ye(oe.changedTouches);return 12&Ee&&(X=ct(X.concat(me),"identifier",!0)),[X,me]}Fe(ln,cr,{handler:function(Ee){var X=ot[Ee.type];if(1===X&&(this.started=!0),this.started){var me=mn.call(this,Ee,X);12&X&&me[0].length-me[1].length==0&&(this.started=!1),this.callback(this.manager,X,{pointers:me[0],changedPointers:me[1],pointerType:pn,srcEvent:Ee})}}});var xn={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ar="touchstart touchmove touchend touchcancel";function mt(){this.evTarget=ar,this.targetIds={},cr.apply(this,arguments)}function Xe(oe,Ee){var X=Ye(oe.touches),me=this.targetIds;if(3&Ee&&1===X.length)return me[X[0].identifier]=!0,[X,X];var Le,ht,Ut=Ye(oe.changedTouches),un=[],Dn=this.target;if(ht=X.filter(function(Sr){return Et(Sr.target,Dn)}),1===Ee)for(Le=0;Le<ht.length;)me[ht[Le].identifier]=!0,Le++;for(Le=0;Le<Ut.length;)me[Ut[Le].identifier]&&un.push(Ut[Le]),12&Ee&&delete me[Ut[Le].identifier],Le++;return un.length?[ct(ht.concat(un),"identifier",!0),un]:void 0}function ie(){cr.apply(this,arguments);var oe=Rt(this.handler,this);this.touch=new mt(this.manager,oe),this.mouse=new j(this.manager,oe),this.primaryTouch=null,this.lastTouches=[]}function Ce(oe,Ee){1&oe?(this.primaryTouch=Ee.changedPointers[0].identifier,he.call(this,Ee)):12&oe&&he.call(this,Ee)}function he(oe){var Ee=oe.changedPointers[0];if(Ee.identifier===this.primaryTouch){var X={x:Ee.clientX,y:Ee.clientY};this.lastTouches.push(X);var me=this.lastTouches;setTimeout(function(){var ht=me.indexOf(X);ht>-1&&me.splice(ht,1)},2500)}}function _e(oe){for(var Ee=oe.srcEvent.clientX,X=oe.srcEvent.clientY,me=0;me<this.lastTouches.length;me++){var Le=this.lastTouches[me],ht=Math.abs(Ee-Le.x),Ut=Math.abs(X-Le.y);if(ht<=25&&Ut<=25)return!0}return!1}Fe(mt,cr,{handler:function(Ee){var X=xn[Ee.type],me=Xe.call(this,Ee,X);!me||this.callback(this.manager,X,{pointers:me[0],changedPointers:me[1],pointerType:pn,srcEvent:Ee})}}),Fe(ie,cr,{handler:function(Ee,X,me){var ht=me.pointerType==zt;if(!(ht&&me.sourceCapabilities&&me.sourceCapabilities.firesTouchEvents)){if(me.pointerType==pn)Ce.call(this,X,me);else if(ht&&_e.call(this,me))return;this.callback(Ee,X,me)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ue=dt(Ne.style,"touchAction"),ne=ue!==ge,Ve="compute",Lt="manipulation",cn="none",an="pan-x",vn="pan-y",Rr=function br(){if(!ne)return!1;var oe={},Ee=C.CSS&&C.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(X){oe[X]=!Ee||C.CSS.supports("touch-action",X)}),oe}();function ei(oe,Ee){this.manager=oe,this.set(Ee)}function qr(oe){this.options=_t({},this.defaults,oe||{}),this.id=function Gt(){return jt++}(),this.manager=null,this.options.enable=we(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Ui(oe){return 16&oe?"cancel":8&oe?"end":4&oe?"move":2&oe?"start":""}function ki(oe){return 16==oe?"down":8==oe?"up":2==oe?"left":4==oe?"right":""}function Ai(oe,Ee){var X=Ee.manager;return X?X.get(oe):oe}function Ar(){qr.apply(this,arguments)}function xi(){Ar.apply(this,arguments),this.pX=null,this.pY=null}function _r(){Ar.apply(this,arguments)}function ji(){qr.apply(this,arguments),this._timer=null,this._input=null}function ti(){Ar.apply(this,arguments)}function oi(){Ar.apply(this,arguments)}function Ki(){qr.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Pi(oe,Ee){return(Ee=Ee||{}).recognizers=we(Ee.recognizers,Pi.defaults.preset),new Is(oe,Ee)}function Is(oe,Ee){this.options=_t({},Pi.defaults,Ee||{}),this.options.inputTarget=this.options.inputTarget||oe,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=oe,this.input=function sn(oe){return new(oe.options.inputClass||(Nt?Ge:Rn?mt:tn?ie:j))(oe,Ct)}(this),this.touchAction=new ei(this,this.options.touchAction),Rs(this,!0),nt(this.options.recognizers,function(X){var me=this.add(new X[0](X[1]));X[2]&&me.recognizeWith(X[2]),X[3]&&me.requireFailure(X[3])},this)}function Rs(oe,Ee){var me,X=oe.element;X.style&&(nt(oe.options.cssProps,function(Le,ht){me=dt(X.style,ht),Ee?(oe.oldCssProps[me]=X.style[me],X.style[me]=Le):X.style[me]=oe.oldCssProps[me]||""}),Ee||(oe.oldCssProps={}))}ei.prototype={set:function(oe){oe==Ve&&(oe=this.compute()),ne&&this.manager.element.style&&Rr[oe]&&(this.manager.element.style[ue]=oe),this.actions=oe.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var oe=[];return nt(this.manager.recognizers,function(Ee){Be(Ee.options.enable,[Ee])&&(oe=oe.concat(Ee.getTouchAction()))}),function Xr(oe){if(ye(oe,cn))return cn;var Ee=ye(oe,an),X=ye(oe,vn);return Ee&&X?cn:Ee||X?Ee?an:vn:ye(oe,Lt)?Lt:"auto"}(oe.join(" "))},preventDefaults:function(oe){var Ee=oe.srcEvent,X=oe.offsetDirection;if(!this.manager.session.prevented){var me=this.actions,Le=ye(me,cn)&&!Rr[cn],ht=ye(me,vn)&&!Rr[vn],Ut=ye(me,an)&&!Rr[an];if(Le&&1===oe.pointers.length&&oe.distance<2&&oe.deltaTime<250)return;return Ut&&ht||!(Le||ht&&6&X||Ut&&24&X)?void 0:this.preventSrc(Ee)}Ee.preventDefault()},preventSrc:function(oe){this.manager.session.prevented=!0,oe.preventDefault()}},qr.prototype={defaults:{},set:function(oe){return _t(this.options,oe),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(oe){if(it(oe,"recognizeWith",this))return this;var Ee=this.simultaneous;return Ee[(oe=Ai(oe,this)).id]||(Ee[oe.id]=oe,oe.recognizeWith(this)),this},dropRecognizeWith:function(oe){return it(oe,"dropRecognizeWith",this)||(oe=Ai(oe,this),delete this.simultaneous[oe.id]),this},requireFailure:function(oe){if(it(oe,"requireFailure",this))return this;var Ee=this.requireFail;return-1===Re(Ee,oe=Ai(oe,this))&&(Ee.push(oe),oe.requireFailure(this)),this},dropRequireFailure:function(oe){if(it(oe,"dropRequireFailure",this))return this;oe=Ai(oe,this);var Ee=Re(this.requireFail,oe);return Ee>-1&&this.requireFail.splice(Ee,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(oe){return!!this.simultaneous[oe.id]},emit:function(oe){var Ee=this,X=this.state;function me(Le){Ee.manager.emit(Le,oe)}X<8&&me(Ee.options.event+Ui(X)),me(Ee.options.event),oe.additionalEvent&&me(oe.additionalEvent),X>=8&&me(Ee.options.event+Ui(X))},tryEmit:function(oe){if(this.canEmit())return this.emit(oe);this.state=32},canEmit:function(){for(var oe=0;oe<this.requireFail.length;){if(!(33&this.requireFail[oe].state))return!1;oe++}return!0},recognize:function(oe){var Ee=_t({},oe);if(!Be(this.options.enable,[this,Ee]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(Ee),30&this.state&&this.tryEmit(Ee)},process:function(oe){},getTouchAction:function(){},reset:function(){}},Fe(Ar,qr,{defaults:{pointers:1},attrTest:function(oe){var Ee=this.options.pointers;return 0===Ee||oe.pointers.length===Ee},process:function(oe){var Ee=this.state,X=oe.eventType,me=6&Ee,Le=this.attrTest(oe);return me&&(8&X||!Le)?16|Ee:me||Le?4&X?8|Ee:2&Ee?4|Ee:2:32}}),Fe(xi,Ar,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var oe=this.options.direction,Ee=[];return 6&oe&&Ee.push(vn),24&oe&&Ee.push(an),Ee},directionTest:function(oe){var Ee=this.options,X=!0,me=oe.distance,Le=oe.direction,ht=oe.deltaX,Ut=oe.deltaY;return Le&Ee.direction||(6&Ee.direction?(Le=0===ht?1:ht<0?2:4,X=ht!=this.pX,me=Math.abs(oe.deltaX)):(Le=0===Ut?1:Ut<0?8:16,X=Ut!=this.pY,me=Math.abs(oe.deltaY))),oe.direction=Le,X&&me>Ee.threshold&&Le&Ee.direction},attrTest:function(oe){return Ar.prototype.attrTest.call(this,oe)&&(2&this.state||!(2&this.state)&&this.directionTest(oe))},emit:function(oe){this.pX=oe.deltaX,this.pY=oe.deltaY;var Ee=ki(oe.direction);Ee&&(oe.additionalEvent=this.options.event+Ee),this._super.emit.call(this,oe)}}),Fe(_r,Ar,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[cn]},attrTest:function(oe){return this._super.attrTest.call(this,oe)&&(Math.abs(oe.scale-1)>this.options.threshold||2&this.state)},emit:function(oe){1!==oe.scale&&(oe.additionalEvent=this.options.event+(oe.scale<1?"in":"out")),this._super.emit.call(this,oe)}}),Fe(ji,qr,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(oe){var Ee=this.options,X=oe.pointers.length===Ee.pointers,me=oe.distance<Ee.threshold,Le=oe.deltaTime>Ee.time;if(this._input=oe,!me||!X||12&oe.eventType&&!Le)this.reset();else if(1&oe.eventType)this.reset(),this._timer=De(function(){this.state=8,this.tryEmit()},Ee.time,this);else if(4&oe.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(oe){8===this.state&&(oe&&4&oe.eventType?this.manager.emit(this.options.event+"up",oe):(this._input.timeStamp=be(),this.manager.emit(this.options.event,this._input)))}}),Fe(ti,Ar,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[cn]},attrTest:function(oe){return this._super.attrTest.call(this,oe)&&(Math.abs(oe.rotation)>this.options.threshold||2&this.state)}}),Fe(oi,Ar,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return xi.prototype.getTouchAction.call(this)},attrTest:function(oe){var X,Ee=this.options.direction;return 30&Ee?X=oe.overallVelocity:6&Ee?X=oe.overallVelocityX:24&Ee&&(X=oe.overallVelocityY),this._super.attrTest.call(this,oe)&&Ee&oe.offsetDirection&&oe.distance>this.options.threshold&&oe.maxPointers==this.options.pointers&&ce(X)>this.options.velocity&&4&oe.eventType},emit:function(oe){var Ee=ki(oe.offsetDirection);Ee&&this.manager.emit(this.options.event+Ee,oe),this.manager.emit(this.options.event,oe)}}),Fe(Ki,qr,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Lt]},process:function(oe){var Ee=this.options,X=oe.pointers.length===Ee.pointers,me=oe.distance<Ee.threshold,Le=oe.deltaTime<Ee.time;if(this.reset(),1&oe.eventType&&0===this.count)return this.failTimeout();if(me&&Le&&X){if(4!=oe.eventType)return this.failTimeout();var ht=!this.pTime||oe.timeStamp-this.pTime<Ee.interval,Ut=!this.pCenter||qn(this.pCenter,oe.center)<Ee.posThreshold;if(this.pTime=oe.timeStamp,this.pCenter=oe.center,Ut&&ht?this.count+=1:this.count=1,this._input=oe,0==this.count%Ee.taps)return this.hasRequireFailures()?(this._timer=De(function(){this.state=8,this.tryEmit()},Ee.interval,this),2):8}return 32},failTimeout:function(){return this._timer=De(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Pi.VERSION="2.0.7",Pi.defaults={domEvents:!1,touchAction:Ve,enable:!0,inputTarget:null,inputClass:null,preset:[[ti,{enable:!1}],[_r,{enable:!1},["rotate"]],[oi,{direction:6}],[xi,{direction:6},["swipe"]],[Ki],[Ki,{event:"doubletap",taps:2},["tap"]],[ji]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Is.prototype={set:function(oe){return _t(this.options,oe),oe.touchAction&&this.touchAction.update(),oe.inputTarget&&(this.input.destroy(),this.input.target=oe.inputTarget,this.input.init()),this},stop:function(oe){this.session.stopped=oe?2:1},recognize:function(oe){var Ee=this.session;if(!Ee.stopped){this.touchAction.preventDefaults(oe);var X,me=this.recognizers,Le=Ee.curRecognizer;(!Le||Le&&8&Le.state)&&(Le=Ee.curRecognizer=null);for(var ht=0;ht<me.length;)X=me[ht],2===Ee.stopped||Le&&X!=Le&&!X.canRecognizeWith(Le)?X.reset():X.recognize(oe),!Le&&14&X.state&&(Le=Ee.curRecognizer=X),ht++}},get:function(oe){if(oe instanceof qr)return oe;for(var Ee=this.recognizers,X=0;X<Ee.length;X++)if(Ee[X].options.event==oe)return Ee[X];return null},add:function(oe){if(it(oe,"add",this))return this;var Ee=this.get(oe.options.event);return Ee&&this.remove(Ee),this.recognizers.push(oe),oe.manager=this,this.touchAction.update(),oe},remove:function(oe){if(it(oe,"remove",this))return this;if(oe=this.get(oe)){var Ee=this.recognizers,X=Re(Ee,oe);-1!==X&&(Ee.splice(X,1),this.touchAction.update())}return this},on:function(oe,Ee){if(oe!==ge&&Ee!==ge){var X=this.handlers;return nt(pt(oe),function(me){X[me]=X[me]||[],X[me].push(Ee)}),this}},off:function(oe,Ee){if(oe!==ge){var X=this.handlers;return nt(pt(oe),function(me){Ee?X[me]&&X[me].splice(Re(X[me],Ee),1):delete X[me]}),this}},emit:function(oe,Ee){this.options.domEvents&&function ls(oe,Ee){var X=I.createEvent("Event");X.initEvent(oe,!0,!0),X.gesture=Ee,Ee.target.dispatchEvent(X)}(oe,Ee);var X=this.handlers[oe]&&this.handlers[oe].slice();if(X&&X.length){Ee.type=oe,Ee.preventDefault=function(){Ee.srcEvent.preventDefault()};for(var me=0;me<X.length;)X[me](Ee),me++}},destroy:function(){this.element&&Rs(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},_t(Pi,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Is,Input:cr,TouchAction:ei,TouchInput:mt,MouseInput:j,PointerEventInput:Ge,TouchMouseInput:ie,SingleTouchInput:ln,Recognizer:qr,AttrRecognizer:Ar,Tap:Ki,Pan:xi,Swipe:oi,Pinch:_r,Rotate:ti,Press:ji,on:Ie,off:tt,each:nt,merge:at,extend:Je,assign:_t,inherit:Fe,bindFn:Rt,prefixed:dt}),(typeof C<"u"?C:typeof self<"u"?self:{}).Hammer=Pi,(c=function(){return Pi}.call(rt,S,rt,en))!==ge&&(en.exports=c)}(window,document)},1135:(en,rt,S)=>{"use strict";S.d(rt,{X:()=>C});var c=S(7579);class C extends c.x{constructor(re){super(),this._value=re}get value(){return this.getValue()}_subscribe(re){const ge=super._subscribe(re);return!ge.closed&&re.next(this._value),ge}getValue(){const{hasError:re,thrownError:ge,_value:Me}=this;if(re)throw ge;return this._throwIfClosed(),Me}next(re){super.next(this._value=re)}}},9751:(en,rt,S)=>{"use strict";S.d(rt,{y:()=>Te});var c=S(930),C=S(727),I=S(8822),re=S(9635),ge=S(2416),Me=S(576),Ne=S(2806);let Te=(()=>{class De{constructor(nt){nt&&(this._subscribe=nt)}lift(nt){const ze=new De;return ze.source=this,ze.operator=nt,ze}subscribe(nt,ze,_t){const Je=function be(De){return De&&De instanceof c.Lv||function ce(De){return De&&(0,Me.m)(De.next)&&(0,Me.m)(De.error)&&(0,Me.m)(De.complete)}(De)&&(0,C.Nn)(De)}(nt)?nt:new c.Hp(nt,ze,_t);return(0,Ne.x)(()=>{const{operator:at,source:Fe}=this;Je.add(at?at.call(Je,Fe):Fe?this._subscribe(Je):this._trySubscribe(Je))}),Je}_trySubscribe(nt){try{return this._subscribe(nt)}catch(ze){nt.error(ze)}}forEach(nt,ze){return new(ze=ke(ze))((_t,Je)=>{const at=new c.Hp({next:Fe=>{try{nt(Fe)}catch(Rt){Je(Rt),at.unsubscribe()}},error:Je,complete:_t});this.subscribe(at)})}_subscribe(nt){var ze;return null===(ze=this.source)||void 0===ze?void 0:ze.subscribe(nt)}[I.L](){return this}pipe(...nt){return(0,re.U)(nt)(this)}toPromise(nt){return new(nt=ke(nt))((ze,_t)=>{let Je;this.subscribe(at=>Je=at,at=>_t(at),()=>ze(Je))})}}return De.create=it=>new De(it),De})();function ke(De){var it;return null!==(it=De??ge.v.Promise)&&void 0!==it?it:Promise}},7579:(en,rt,S)=>{"use strict";S.d(rt,{x:()=>Ne});var c=S(9751),C=S(727);const re=(0,S(3888).d)(ke=>function(){ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=S(8737),Me=S(2806);let Ne=(()=>{class ke extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(be){const De=new Te(this,this);return De.operator=be,De}_throwIfClosed(){if(this.closed)throw new re}next(be){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const De of this.currentObservers)De.next(be)}})}error(be){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=be;const{observers:De}=this;for(;De.length;)De.shift().error(be)}})}complete(){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:be}=this;for(;be.length;)be.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var be;return(null===(be=this.observers)||void 0===be?void 0:be.length)>0}_trySubscribe(be){return this._throwIfClosed(),super._trySubscribe(be)}_subscribe(be){return this._throwIfClosed(),this._checkFinalizedStatuses(be),this._innerSubscribe(be)}_innerSubscribe(be){const{hasError:De,isStopped:it,observers:nt}=this;return De||it?C.Lc:(this.currentObservers=null,nt.push(be),new C.w0(()=>{this.currentObservers=null,(0,ge.P)(nt,be)}))}_checkFinalizedStatuses(be){const{hasError:De,thrownError:it,isStopped:nt}=this;De?be.error(it):nt&&be.complete()}asObservable(){const be=new c.y;return be.source=this,be}}return ke.create=(ce,be)=>new Te(ce,be),ke})();class Te extends Ne{constructor(ce,be){super(),this.destination=ce,this.source=be}next(ce){var be,De;null===(De=null===(be=this.destination)||void 0===be?void 0:be.next)||void 0===De||De.call(be,ce)}error(ce){var be,De;null===(De=null===(be=this.destination)||void 0===be?void 0:be.error)||void 0===De||De.call(be,ce)}complete(){var ce,be;null===(be=null===(ce=this.destination)||void 0===ce?void 0:ce.complete)||void 0===be||be.call(ce)}_subscribe(ce){var be,De;return null!==(De=null===(be=this.source)||void 0===be?void 0:be.subscribe(ce))&&void 0!==De?De:C.Lc}}},930:(en,rt,S)=>{"use strict";S.d(rt,{Hp:()=>_t,Lv:()=>De});var c=S(576),C=S(727),I=S(2416),re=S(7849),ge=S(5032);const Me=ke("C",void 0,void 0);function ke(Be,we,Ie){return{kind:Be,value:we,error:Ie}}var ce=S(3410),be=S(2806);class De extends C.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,C.Nn)(we)&&we.add(this)):this.destination=Rt}static create(we,Ie,tt){return new _t(we,Ie,tt)}next(we){this.isStopped?Fe(function Te(Be){return ke("N",Be,void 0)}(we),this):this._next(we)}error(we){this.isStopped?Fe(function Ne(Be){return ke("E",void 0,Be)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?Fe(Me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const it=Function.prototype.bind;function nt(Be,we){return it.call(Be,we)}class ze{constructor(we){this.partialObserver=we}next(we){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(we)}catch(tt){Je(tt)}}error(we){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(we)}catch(tt){Je(tt)}else Je(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(Ie){Je(Ie)}}}class _t extends De{constructor(we,Ie,tt){let Et;if(super(),(0,c.m)(we)||!we)Et={next:we??void 0,error:Ie??void 0,complete:tt??void 0};else{let ye;this&&I.v.useDeprecatedNextContext?(ye=Object.create(we),ye.unsubscribe=()=>this.unsubscribe(),Et={next:we.next&&nt(we.next,ye),error:we.error&&nt(we.error,ye),complete:we.complete&&nt(we.complete,ye)}):Et=we}this.destination=new ze(Et)}}function Je(Be){I.v.useDeprecatedSynchronousErrorHandling?(0,be.O)(Be):(0,re.h)(Be)}function Fe(Be,we){const{onStoppedNotification:Ie}=I.v;Ie&&ce.z.setTimeout(()=>Ie(Be,we))}const Rt={closed:!0,next:ge.Z,error:function at(Be){throw Be},complete:ge.Z}},727:(en,rt,S)=>{"use strict";S.d(rt,{Lc:()=>Me,w0:()=>ge,Nn:()=>Ne});var c=S(576);const I=(0,S(3888).d)(ke=>function(be){ke(this),this.message=be?`${be.length} errors occurred during unsubscription:\n${be.map((De,it)=>`${it+1}) ${De.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=be});var re=S(8737);class ge{constructor(ce){this.initialTeardown=ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ce;if(!this.closed){this.closed=!0;const{_parentage:be}=this;if(be)if(this._parentage=null,Array.isArray(be))for(const nt of be)nt.remove(this);else be.remove(this);const{initialTeardown:De}=this;if((0,c.m)(De))try{De()}catch(nt){ce=nt instanceof I?nt.errors:[nt]}const{_finalizers:it}=this;if(it){this._finalizers=null;for(const nt of it)try{Te(nt)}catch(ze){ce=ce??[],ze instanceof I?ce=[...ce,...ze.errors]:ce.push(ze)}}if(ce)throw new I(ce)}}add(ce){var be;if(ce&&ce!==this)if(this.closed)Te(ce);else{if(ce instanceof ge){if(ce.closed||ce._hasParent(this))return;ce._addParent(this)}(this._finalizers=null!==(be=this._finalizers)&&void 0!==be?be:[]).push(ce)}}_hasParent(ce){const{_parentage:be}=this;return be===ce||Array.isArray(be)&&be.includes(ce)}_addParent(ce){const{_parentage:be}=this;this._parentage=Array.isArray(be)?(be.push(ce),be):be?[be,ce]:ce}_removeParent(ce){const{_parentage:be}=this;be===ce?this._parentage=null:Array.isArray(be)&&(0,re.P)(be,ce)}remove(ce){const{_finalizers:be}=this;be&&(0,re.P)(be,ce),ce instanceof ge&&ce._removeParent(this)}}ge.EMPTY=(()=>{const ke=new ge;return ke.closed=!0,ke})();const Me=ge.EMPTY;function Ne(ke){return ke instanceof ge||ke&&"closed"in ke&&(0,c.m)(ke.remove)&&(0,c.m)(ke.add)&&(0,c.m)(ke.unsubscribe)}function Te(ke){(0,c.m)(ke)?ke():ke.unsubscribe()}},2416:(en,rt,S)=>{"use strict";S.d(rt,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(en,rt,S)=>{"use strict";S.d(rt,{c:()=>Me});var c=S(9751),C=S(727),I=S(8343),re=S(5403),ge=S(4482);class Me extends c.y{constructor(Te,ke){super(),this.source=Te,this.subjectFactory=ke,this._subject=null,this._refCount=0,this._connection=null,(0,ge.A)(Te)&&(this.lift=Te.lift)}_subscribe(Te){return this.getSubject().subscribe(Te)}getSubject(){const Te=this._subject;return(!Te||Te.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Te}=this;this._subject=this._connection=null,Te?.unsubscribe()}connect(){let Te=this._connection;if(!Te){Te=this._connection=new C.w0;const ke=this.getSubject();Te.add(this.source.subscribe((0,re.x)(ke,void 0,()=>{this._teardown(),ke.complete()},ce=>{this._teardown(),ke.error(ce)},()=>this._teardown()))),Te.closed&&(this._connection=null,Te=C.w0.EMPTY)}return Te}refCount(){return(0,I.x)()(this)}}},9841:(en,rt,S)=>{"use strict";S.d(rt,{a:()=>ce});var c=S(9751),C=S(4742),I=S(8996),re=S(4671),ge=S(3268),Me=S(3269),Ne=S(1810),Te=S(5403),ke=S(9672);function ce(...it){const nt=(0,Me.yG)(it),ze=(0,Me.jO)(it),{args:_t,keys:Je}=(0,C.D)(it);if(0===_t.length)return(0,I.D)([],nt);const at=new c.y(function be(it,nt,ze=re.y){return _t=>{De(nt,()=>{const{length:Je}=it,at=new Array(Je);let Fe=Je,Rt=Je;for(let Be=0;Be<Je;Be++)De(nt,()=>{const we=(0,I.D)(it[Be],nt);let Ie=!1;we.subscribe((0,Te.x)(_t,tt=>{at[Be]=tt,Ie||(Ie=!0,Rt--),Rt||_t.next(ze(at.slice()))},()=>{--Fe||_t.complete()}))},_t)},_t)}}(_t,nt,Je?Fe=>(0,Ne.n)(Je,Fe):re.y));return ze?at.pipe((0,ge.Z)(ze)):at}function De(it,nt,ze){it?(0,ke.f)(ze,it,nt):nt()}},7272:(en,rt,S)=>{"use strict";S.d(rt,{z:()=>ge});var c=S(8189),I=S(3269),re=S(8996);function ge(...Me){return function C(){return(0,c.J)(1)}()((0,re.D)(Me,(0,I.yG)(Me)))}},515:(en,rt,S)=>{"use strict";S.d(rt,{E:()=>C});const C=new(S(9751).y)(ge=>ge.complete())},4128:(en,rt,S)=>{"use strict";S.d(rt,{D:()=>Te});var c=S(9751),C=S(4742),I=S(8421),re=S(3269),ge=S(5403),Me=S(3268),Ne=S(1810);function Te(...ke){const ce=(0,re.jO)(ke),{args:be,keys:De}=(0,C.D)(ke),it=new c.y(nt=>{const{length:ze}=be;if(!ze)return void nt.complete();const _t=new Array(ze);let Je=ze,at=ze;for(let Fe=0;Fe<ze;Fe++){let Rt=!1;(0,I.Xf)(be[Fe]).subscribe((0,ge.x)(nt,Be=>{Rt||(Rt=!0,at--),_t[Fe]=Be},()=>Je--,void 0,()=>{(!Je||!Rt)&&(at||nt.next(De?(0,Ne.n)(De,_t):_t),nt.complete())}))}});return ce?it.pipe((0,Me.Z)(ce)):it}},8996:(en,rt,S)=>{"use strict";S.d(rt,{D:()=>we});var c=S(8421),C=S(5363),I=S(9468),Me=S(9751),Te=S(2202),ke=S(576),ce=S(9672);function De(Ie,tt){if(!Ie)throw new Error("Iterable cannot be null");return new Me.y(Et=>{(0,ce.f)(Et,tt,()=>{const ye=Ie[Symbol.asyncIterator]();(0,ce.f)(Et,tt,()=>{ye.next().then(pt=>{pt.done?Et.complete():Et.next(pt.value)})},0,!0)})})}var it=S(3670),nt=S(8239),ze=S(1144),_t=S(6495),Je=S(2206),at=S(4532),Fe=S(3260);function we(Ie,tt){return tt?function Be(Ie,tt){if(null!=Ie){if((0,it.c)(Ie))return function re(Ie,tt){return(0,c.Xf)(Ie).pipe((0,I.R)(tt),(0,C.Q)(tt))}(Ie,tt);if((0,ze.z)(Ie))return function Ne(Ie,tt){return new Me.y(Et=>{let ye=0;return tt.schedule(function(){ye===Ie.length?Et.complete():(Et.next(Ie[ye++]),Et.closed||this.schedule())})})}(Ie,tt);if((0,nt.t)(Ie))return function ge(Ie,tt){return(0,c.Xf)(Ie).pipe((0,I.R)(tt),(0,C.Q)(tt))}(Ie,tt);if((0,Je.D)(Ie))return De(Ie,tt);if((0,_t.T)(Ie))return function be(Ie,tt){return new Me.y(Et=>{let ye;return(0,ce.f)(Et,tt,()=>{ye=Ie[Te.h](),(0,ce.f)(Et,tt,()=>{let pt,Re;try{({value:pt,done:Re}=ye.next())}catch(Ye){return void Et.error(Ye)}Re?Et.complete():Et.next(pt)},0,!0)}),()=>(0,ke.m)(ye?.return)&&ye.return()})}(Ie,tt);if((0,Fe.L)(Ie))return function Rt(Ie,tt){return De((0,Fe.Q)(Ie),tt)}(Ie,tt)}throw(0,at.z)(Ie)}(Ie,tt):(0,c.Xf)(Ie)}},8421:(en,rt,S)=>{"use strict";S.d(rt,{Xf:()=>it});var c=S(655),C=S(1144),I=S(8239),re=S(9751),ge=S(3670),Me=S(2206),Ne=S(4532),Te=S(6495),ke=S(3260),ce=S(576),be=S(7849),De=S(8822);function it(Be){if(Be instanceof re.y)return Be;if(null!=Be){if((0,ge.c)(Be))return function nt(Be){return new re.y(we=>{const Ie=Be[De.L]();if((0,ce.m)(Ie.subscribe))return Ie.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,C.z)(Be))return function ze(Be){return new re.y(we=>{for(let Ie=0;Ie<Be.length&&!we.closed;Ie++)we.next(Be[Ie]);we.complete()})}(Be);if((0,I.t)(Be))return function _t(Be){return new re.y(we=>{Be.then(Ie=>{we.closed||(we.next(Ie),we.complete())},Ie=>we.error(Ie)).then(null,be.h)})}(Be);if((0,Me.D)(Be))return at(Be);if((0,Te.T)(Be))return function Je(Be){return new re.y(we=>{for(const Ie of Be)if(we.next(Ie),we.closed)return;we.complete()})}(Be);if((0,ke.L)(Be))return function Fe(Be){return at((0,ke.Q)(Be))}(Be)}throw(0,Ne.z)(Be)}function at(Be){return new re.y(we=>{(function Rt(Be,we){var Ie,tt,Et,ye;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,c.KL)(Be);!(tt=yield Ie.next()).done;)if(we.next(tt.value),we.closed)return}catch(pt){Et={error:pt}}finally{try{tt&&!tt.done&&(ye=Ie.return)&&(yield ye.call(Ie))}finally{if(Et)throw Et.error}}we.complete()})})(Be,we).catch(Ie=>we.error(Ie))})}},6451:(en,rt,S)=>{"use strict";S.d(rt,{T:()=>Me});var c=S(8189),C=S(8421),I=S(515),re=S(3269),ge=S(8996);function Me(...Ne){const Te=(0,re.yG)(Ne),ke=(0,re._6)(Ne,1/0),ce=Ne;return ce.length?1===ce.length?(0,C.Xf)(ce[0]):(0,c.J)(ke)((0,ge.D)(ce,Te)):I.E}},9646:(en,rt,S)=>{"use strict";S.d(rt,{of:()=>I});var c=S(3269),C=S(8996);function I(...re){const ge=(0,c.yG)(re);return(0,C.D)(re,ge)}},2843:(en,rt,S)=>{"use strict";S.d(rt,{_:()=>I});var c=S(9751),C=S(576);function I(re,ge){const Me=(0,C.m)(re)?re:()=>re,Ne=Te=>Te.error(Me());return new c.y(ge?Te=>ge.schedule(Ne,0,Te):Ne)}},5403:(en,rt,S)=>{"use strict";S.d(rt,{x:()=>C});var c=S(930);function C(re,ge,Me,Ne,Te){return new I(re,ge,Me,Ne,Te)}class I extends c.Lv{constructor(ge,Me,Ne,Te,ke,ce){super(ge),this.onFinalize=ke,this.shouldUnsubscribe=ce,this._next=Me?function(be){try{Me(be)}catch(De){ge.error(De)}}:super._next,this._error=Te?function(be){try{Te(be)}catch(De){ge.error(De)}finally{this.unsubscribe()}}:super._error,this._complete=Ne?function(){try{Ne()}catch(be){ge.error(be)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Me}=this;super.unsubscribe(),!Me&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},262:(en,rt,S)=>{"use strict";S.d(rt,{K:()=>re});var c=S(8421),C=S(5403),I=S(4482);function re(ge){return(0,I.e)((Me,Ne)=>{let ce,Te=null,ke=!1;Te=Me.subscribe((0,C.x)(Ne,void 0,void 0,be=>{ce=(0,c.Xf)(ge(be,re(ge)(Me))),Te?(Te.unsubscribe(),Te=null,ce.subscribe(Ne)):ke=!0})),ke&&(Te.unsubscribe(),Te=null,ce.subscribe(Ne))})}},4351:(en,rt,S)=>{"use strict";S.d(rt,{b:()=>I});var c=S(5577),C=S(576);function I(re,ge){return(0,C.m)(ge)?(0,c.z)(re,ge,1):(0,c.z)(re,1)}},8372:(en,rt,S)=>{"use strict";S.d(rt,{b:()=>re});var c=S(4986),C=S(4482),I=S(5403);function re(ge,Me=c.z){return(0,C.e)((Ne,Te)=>{let ke=null,ce=null,be=null;const De=()=>{if(ke){ke.unsubscribe(),ke=null;const nt=ce;ce=null,Te.next(nt)}};function it(){const nt=be+ge,ze=Me.now();if(ze<nt)return ke=this.schedule(void 0,nt-ze),void Te.add(ke);De()}Ne.subscribe((0,I.x)(Te,nt=>{ce=nt,be=Me.now(),ke||(ke=Me.schedule(it,ge),Te.add(ke))},()=>{De(),Te.complete()},void 0,()=>{ce=ke=null}))})}},6590:(en,rt,S)=>{"use strict";S.d(rt,{d:()=>I});var c=S(4482),C=S(5403);function I(re){return(0,c.e)((ge,Me)=>{let Ne=!1;ge.subscribe((0,C.x)(Me,Te=>{Ne=!0,Me.next(Te)},()=>{Ne||Me.next(re),Me.complete()}))})}},1884:(en,rt,S)=>{"use strict";S.d(rt,{x:()=>re});var c=S(4671),C=S(4482),I=S(5403);function re(Me,Ne=c.y){return Me=Me??ge,(0,C.e)((Te,ke)=>{let ce,be=!0;Te.subscribe((0,I.x)(ke,De=>{const it=Ne(De);(be||!Me(ce,it))&&(be=!1,ce=it,ke.next(De))}))})}function ge(Me,Ne){return Me===Ne}},9300:(en,rt,S)=>{"use strict";S.d(rt,{h:()=>I});var c=S(4482),C=S(5403);function I(re,ge){return(0,c.e)((Me,Ne)=>{let Te=0;Me.subscribe((0,C.x)(Ne,ke=>re.call(ge,ke,Te++)&&Ne.next(ke)))})}},8746:(en,rt,S)=>{"use strict";S.d(rt,{x:()=>C});var c=S(4482);function C(I){return(0,c.e)((re,ge)=>{try{re.subscribe(ge)}finally{ge.add(I)}})}},590:(en,rt,S)=>{"use strict";S.d(rt,{P:()=>Ne});var c=S(6805),C=S(9300),I=S(5698),re=S(6590),ge=S(8068),Me=S(4671);function Ne(Te,ke){const ce=arguments.length>=2;return be=>be.pipe(Te?(0,C.h)((De,it)=>Te(De,it,be)):Me.y,(0,I.q)(1),ce?(0,re.d)(ke):(0,ge.T)(()=>new c.K))}},4004:(en,rt,S)=>{"use strict";S.d(rt,{U:()=>I});var c=S(4482),C=S(5403);function I(re,ge){return(0,c.e)((Me,Ne)=>{let Te=0;Me.subscribe((0,C.x)(Ne,ke=>{Ne.next(re.call(ge,ke,Te++))}))})}},8189:(en,rt,S)=>{"use strict";S.d(rt,{J:()=>I});var c=S(5577),C=S(4671);function I(re=1/0){return(0,c.z)(C.y,re)}},5577:(en,rt,S)=>{"use strict";S.d(rt,{z:()=>Te});var c=S(4004),C=S(8421),I=S(4482),re=S(9672),ge=S(5403),Ne=S(576);function Te(ke,ce,be=1/0){return(0,Ne.m)(ce)?Te((De,it)=>(0,c.U)((nt,ze)=>ce(De,nt,it,ze))((0,C.Xf)(ke(De,it))),be):("number"==typeof ce&&(be=ce),(0,I.e)((De,it)=>function Me(ke,ce,be,De,it,nt,ze,_t){const Je=[];let at=0,Fe=0,Rt=!1;const Be=()=>{Rt&&!Je.length&&!at&&ce.complete()},we=tt=>at<De?Ie(tt):Je.push(tt),Ie=tt=>{nt&&ce.next(tt),at++;let Et=!1;(0,C.Xf)(be(tt,Fe++)).subscribe((0,ge.x)(ce,ye=>{it?.(ye),nt?we(ye):ce.next(ye)},()=>{Et=!0},void 0,()=>{if(Et)try{for(at--;Je.length&&at<De;){const ye=Je.shift();ze?(0,re.f)(ce,ze,()=>Ie(ye)):Ie(ye)}Be()}catch(ye){ce.error(ye)}}))};return ke.subscribe((0,ge.x)(ce,we,()=>{Rt=!0,Be()})),()=>{_t?.()}}(De,it,ke,be)))}},5363:(en,rt,S)=>{"use strict";S.d(rt,{Q:()=>re});var c=S(9672),C=S(4482),I=S(5403);function re(ge,Me=0){return(0,C.e)((Ne,Te)=>{Ne.subscribe((0,I.x)(Te,ke=>(0,c.f)(Te,ge,()=>Te.next(ke),Me),()=>(0,c.f)(Te,ge,()=>Te.complete(),Me),ke=>(0,c.f)(Te,ge,()=>Te.error(ke),Me)))})}},8343:(en,rt,S)=>{"use strict";S.d(rt,{x:()=>I});var c=S(4482),C=S(5403);function I(){return(0,c.e)((re,ge)=>{let Me=null;re._refCount++;const Ne=(0,C.x)(ge,void 0,void 0,void 0,()=>{if(!re||re._refCount<=0||0<--re._refCount)return void(Me=null);const Te=re._connection,ke=Me;Me=null,Te&&(!ke||Te===ke)&&Te.unsubscribe(),ge.unsubscribe()});re.subscribe(Ne),Ne.closed||(Me=re.connect())})}},5026:(en,rt,S)=>{"use strict";S.d(rt,{R:()=>re});var c=S(4482),C=S(5403);function I(ge,Me,Ne,Te,ke){return(ce,be)=>{let De=Ne,it=Me,nt=0;ce.subscribe((0,C.x)(be,ze=>{const _t=nt++;it=De?ge(it,ze,_t):(De=!0,ze),Te&&be.next(it)},ke&&(()=>{De&&be.next(it),be.complete()})))}}function re(ge,Me){return(0,c.e)(I(ge,Me,arguments.length>=2,!0))}},3099:(en,rt,S)=>{"use strict";S.d(rt,{B:()=>ge});var c=S(8421),C=S(7579),I=S(930),re=S(4482);function ge(Ne={}){const{connector:Te=(()=>new C.x),resetOnError:ke=!0,resetOnComplete:ce=!0,resetOnRefCountZero:be=!0}=Ne;return De=>{let it,nt,ze,_t=0,Je=!1,at=!1;const Fe=()=>{nt?.unsubscribe(),nt=void 0},Rt=()=>{Fe(),it=ze=void 0,Je=at=!1},Be=()=>{const we=it;Rt(),we?.unsubscribe()};return(0,re.e)((we,Ie)=>{_t++,!at&&!Je&&Fe();const tt=ze=ze??Te();Ie.add(()=>{_t--,0===_t&&!at&&!Je&&(nt=Me(Be,be))}),tt.subscribe(Ie),!it&&_t>0&&(it=new I.Hp({next:Et=>tt.next(Et),error:Et=>{at=!0,Fe(),nt=Me(Rt,ke,Et),tt.error(Et)},complete:()=>{Je=!0,Fe(),nt=Me(Rt,ce),tt.complete()}}),(0,c.Xf)(we).subscribe(it))})(De)}}function Me(Ne,Te,...ke){if(!0===Te)return void Ne();if(!1===Te)return;const ce=new I.Hp({next:()=>{ce.unsubscribe(),Ne()}});return Te(...ke).subscribe(ce)}},8675:(en,rt,S)=>{"use strict";S.d(rt,{O:()=>re});var c=S(7272),C=S(3269),I=S(4482);function re(...ge){const Me=(0,C.yG)(ge);return(0,I.e)((Ne,Te)=>{(Me?(0,c.z)(ge,Ne,Me):(0,c.z)(ge,Ne)).subscribe(Te)})}},9468:(en,rt,S)=>{"use strict";S.d(rt,{R:()=>C});var c=S(4482);function C(I,re=0){return(0,c.e)((ge,Me)=>{Me.add(I.schedule(()=>ge.subscribe(Me),re))})}},3900:(en,rt,S)=>{"use strict";S.d(rt,{w:()=>re});var c=S(8421),C=S(4482),I=S(5403);function re(ge,Me){return(0,C.e)((Ne,Te)=>{let ke=null,ce=0,be=!1;const De=()=>be&&!ke&&Te.complete();Ne.subscribe((0,I.x)(Te,it=>{ke?.unsubscribe();let nt=0;const ze=ce++;(0,c.Xf)(ge(it,ze)).subscribe(ke=(0,I.x)(Te,_t=>Te.next(Me?Me(it,_t,ze,nt++):_t),()=>{ke=null,De()}))},()=>{be=!0,De()}))})}},5698:(en,rt,S)=>{"use strict";S.d(rt,{q:()=>re});var c=S(515),C=S(4482),I=S(5403);function re(ge){return ge<=0?()=>c.E:(0,C.e)((Me,Ne)=>{let Te=0;Me.subscribe((0,I.x)(Ne,ke=>{++Te<=ge&&(Ne.next(ke),ge<=Te&&Ne.complete())}))})}},2722:(en,rt,S)=>{"use strict";S.d(rt,{R:()=>ge});var c=S(4482),C=S(5403),I=S(8421),re=S(5032);function ge(Me){return(0,c.e)((Ne,Te)=>{(0,I.Xf)(Me).subscribe((0,C.x)(Te,()=>Te.complete(),re.Z)),!Te.closed&&Ne.subscribe(Te)})}},8505:(en,rt,S)=>{"use strict";S.d(rt,{b:()=>ge});var c=S(576),C=S(4482),I=S(5403),re=S(4671);function ge(Me,Ne,Te){const ke=(0,c.m)(Me)||Ne||Te?{next:Me,error:Ne,complete:Te}:Me;return ke?(0,C.e)((ce,be)=>{var De;null===(De=ke.subscribe)||void 0===De||De.call(ke);let it=!0;ce.subscribe((0,I.x)(be,nt=>{var ze;null===(ze=ke.next)||void 0===ze||ze.call(ke,nt),be.next(nt)},()=>{var nt;it=!1,null===(nt=ke.complete)||void 0===nt||nt.call(ke),be.complete()},nt=>{var ze;it=!1,null===(ze=ke.error)||void 0===ze||ze.call(ke,nt),be.error(nt)},()=>{var nt,ze;it&&(null===(nt=ke.unsubscribe)||void 0===nt||nt.call(ke)),null===(ze=ke.finalize)||void 0===ze||ze.call(ke)}))}):re.y}},8068:(en,rt,S)=>{"use strict";S.d(rt,{T:()=>re});var c=S(6805),C=S(4482),I=S(5403);function re(Me=ge){return(0,C.e)((Ne,Te)=>{let ke=!1;Ne.subscribe((0,I.x)(Te,ce=>{ke=!0,Te.next(ce)},()=>ke?Te.complete():Te.error(Me())))})}function ge(){return new c.K}},4408:(en,rt,S)=>{"use strict";S.d(rt,{o:()=>ge});var c=S(727);class C extends c.w0{constructor(Ne,Te){super()}schedule(Ne,Te=0){return this}}const I={setInterval(Me,Ne,...Te){const{delegate:ke}=I;return ke?.setInterval?ke.setInterval(Me,Ne,...Te):setInterval(Me,Ne,...Te)},clearInterval(Me){const{delegate:Ne}=I;return(Ne?.clearInterval||clearInterval)(Me)},delegate:void 0};var re=S(8737);class ge extends C{constructor(Ne,Te){super(Ne,Te),this.scheduler=Ne,this.work=Te,this.pending=!1}schedule(Ne,Te=0){var ke;if(this.closed)return this;this.state=Ne;const ce=this.id,be=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(be,ce,Te)),this.pending=!0,this.delay=Te,this.id=null!==(ke=this.id)&&void 0!==ke?ke:this.requestAsyncId(be,this.id,Te),this}requestAsyncId(Ne,Te,ke=0){return I.setInterval(Ne.flush.bind(Ne,this),ke)}recycleAsyncId(Ne,Te,ke=0){if(null!=ke&&this.delay===ke&&!1===this.pending)return Te;null!=Te&&I.clearInterval(Te)}execute(Ne,Te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ke=this._execute(Ne,Te);if(ke)return ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ne,Te){let ce,ke=!1;try{this.work(Ne)}catch(be){ke=!0,ce=be||new Error("Scheduled action threw falsy error")}if(ke)return this.unsubscribe(),ce}unsubscribe(){if(!this.closed){const{id:Ne,scheduler:Te}=this,{actions:ke}=Te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(ke,this),null!=Ne&&(this.id=this.recycleAsyncId(Te,Ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(en,rt,S)=>{"use strict";S.d(rt,{v:()=>I});var c=S(6063);class C{constructor(ge,Me=C.now){this.schedulerActionCtor=ge,this.now=Me}schedule(ge,Me=0,Ne){return new this.schedulerActionCtor(this,ge).schedule(Ne,Me)}}C.now=c.l.now;class I extends C{constructor(ge,Me=C.now){super(ge,Me),this.actions=[],this._active=!1}flush(ge){const{actions:Me}=this;if(this._active)return void Me.push(ge);let Ne;this._active=!0;do{if(Ne=ge.execute(ge.state,ge.delay))break}while(ge=Me.shift());if(this._active=!1,Ne){for(;ge=Me.shift();)ge.unsubscribe();throw Ne}}}},4986:(en,rt,S)=>{"use strict";S.d(rt,{P:()=>re,z:()=>I});var c=S(4408);const I=new(S(7565).v)(c.o),re=I},6063:(en,rt,S)=>{"use strict";S.d(rt,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(en,rt,S)=>{"use strict";S.d(rt,{z:()=>c});const c={setTimeout(C,I,...re){const{delegate:ge}=c;return ge?.setTimeout?ge.setTimeout(C,I,...re):setTimeout(C,I,...re)},clearTimeout(C){const{delegate:I}=c;return(I?.clearTimeout||clearTimeout)(C)},delegate:void 0}},2202:(en,rt,S)=>{"use strict";S.d(rt,{h:()=>C});const C=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(en,rt,S)=>{"use strict";S.d(rt,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(en,rt,S)=>{"use strict";S.d(rt,{K:()=>C});const C=(0,S(3888).d)(I=>function(){I(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(en,rt,S)=>{"use strict";S.d(rt,{_6:()=>Me,jO:()=>re,yG:()=>ge});var c=S(576),C=S(3532);function I(Ne){return Ne[Ne.length-1]}function re(Ne){return(0,c.m)(I(Ne))?Ne.pop():void 0}function ge(Ne){return(0,C.K)(I(Ne))?Ne.pop():void 0}function Me(Ne,Te){return"number"==typeof I(Ne)?Ne.pop():Te}},4742:(en,rt,S)=>{"use strict";S.d(rt,{D:()=>ge});const{isArray:c}=Array,{getPrototypeOf:C,prototype:I,keys:re}=Object;function ge(Ne){if(1===Ne.length){const Te=Ne[0];if(c(Te))return{args:Te,keys:null};if(function Me(Ne){return Ne&&"object"==typeof Ne&&C(Ne)===I}(Te)){const ke=re(Te);return{args:ke.map(ce=>Te[ce]),keys:ke}}}return{args:Ne,keys:null}}},8737:(en,rt,S)=>{"use strict";function c(C,I){if(C){const re=C.indexOf(I);0<=re&&C.splice(re,1)}}S.d(rt,{P:()=>c})},3888:(en,rt,S)=>{"use strict";function c(C){const re=C(ge=>{Error.call(ge),ge.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}S.d(rt,{d:()=>c})},1810:(en,rt,S)=>{"use strict";function c(C,I){return C.reduce((re,ge,Me)=>(re[ge]=I[Me],re),{})}S.d(rt,{n:()=>c})},2806:(en,rt,S)=>{"use strict";S.d(rt,{O:()=>re,x:()=>I});var c=S(2416);let C=null;function I(ge){if(c.v.useDeprecatedSynchronousErrorHandling){const Me=!C;if(Me&&(C={errorThrown:!1,error:null}),ge(),Me){const{errorThrown:Ne,error:Te}=C;if(C=null,Ne)throw Te}}else ge()}function re(ge){c.v.useDeprecatedSynchronousErrorHandling&&C&&(C.errorThrown=!0,C.error=ge)}},9672:(en,rt,S)=>{"use strict";function c(C,I,re,ge=0,Me=!1){const Ne=I.schedule(function(){re(),Me?C.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(C.add(Ne),!Me)return Ne}S.d(rt,{f:()=>c})},4671:(en,rt,S)=>{"use strict";function c(C){return C}S.d(rt,{y:()=>c})},1144:(en,rt,S)=>{"use strict";S.d(rt,{z:()=>c});const c=C=>C&&"number"==typeof C.length&&"function"!=typeof C},2206:(en,rt,S)=>{"use strict";S.d(rt,{D:()=>C});var c=S(576);function C(I){return Symbol.asyncIterator&&(0,c.m)(I?.[Symbol.asyncIterator])}},576:(en,rt,S)=>{"use strict";function c(C){return"function"==typeof C}S.d(rt,{m:()=>c})},3670:(en,rt,S)=>{"use strict";S.d(rt,{c:()=>I});var c=S(8822),C=S(576);function I(re){return(0,C.m)(re[c.L])}},6495:(en,rt,S)=>{"use strict";S.d(rt,{T:()=>I});var c=S(2202),C=S(576);function I(re){return(0,C.m)(re?.[c.h])}},8239:(en,rt,S)=>{"use strict";S.d(rt,{t:()=>C});var c=S(576);function C(I){return(0,c.m)(I?.then)}},3260:(en,rt,S)=>{"use strict";S.d(rt,{L:()=>re,Q:()=>I});var c=S(655),C=S(576);function I(ge){return(0,c.FC)(this,arguments,function*(){const Ne=ge.getReader();try{for(;;){const{value:Te,done:ke}=yield(0,c.qq)(Ne.read());if(ke)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Te)}}finally{Ne.releaseLock()}})}function re(ge){return(0,C.m)(ge?.getReader)}},3532:(en,rt,S)=>{"use strict";S.d(rt,{K:()=>C});var c=S(576);function C(I){return I&&(0,c.m)(I.schedule)}},4482:(en,rt,S)=>{"use strict";S.d(rt,{A:()=>C,e:()=>I});var c=S(576);function C(re){return(0,c.m)(re?.lift)}function I(re){return ge=>{if(C(ge))return ge.lift(function(Me){try{return re(Me,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(en,rt,S)=>{"use strict";S.d(rt,{Z:()=>re});var c=S(4004);const{isArray:C}=Array;function re(ge){return(0,c.U)(Me=>function I(ge,Me){return C(Me)?ge(...Me):ge(Me)}(ge,Me))}},5032:(en,rt,S)=>{"use strict";function c(){}S.d(rt,{Z:()=>c})},9635:(en,rt,S)=>{"use strict";S.d(rt,{U:()=>I,z:()=>C});var c=S(4671);function C(...re){return I(re)}function I(re){return 0===re.length?c.y:1===re.length?re[0]:function(Me){return re.reduce((Ne,Te)=>Te(Ne),Me)}}},7849:(en,rt,S)=>{"use strict";S.d(rt,{h:()=>I});var c=S(2416),C=S(3410);function I(re){C.z.setTimeout(()=>{const{onUnhandledError:ge}=c.v;if(!ge)throw re;ge(re)})}},4532:(en,rt,S)=>{"use strict";function c(C){return new TypeError(`You provided ${null!==C&&"object"==typeof C?"an invalid object":`'${C}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}S.d(rt,{z:()=>c})},655:(en,rt,S)=>{"use strict";function re(Re,Ye){var ct={};for(var dt in Re)Object.prototype.hasOwnProperty.call(Re,dt)&&Ye.indexOf(dt)<0&&(ct[dt]=Re[dt]);if(null!=Re&&"function"==typeof Object.getOwnPropertySymbols){var jt=0;for(dt=Object.getOwnPropertySymbols(Re);jt<dt.length;jt++)Ye.indexOf(dt[jt])<0&&Object.prototype.propertyIsEnumerable.call(Re,dt[jt])&&(ct[dt[jt]]=Re[dt[jt]])}return ct}function Te(Re,Ye,ct,dt){return new(ct||(ct=Promise))(function(Gt,Kt){function fn(Rn){try{Nt(dt.next(Rn))}catch(pn){Kt(pn)}}function tn(Rn){try{Nt(dt.throw(Rn))}catch(pn){Kt(pn)}}function Nt(Rn){Rn.done?Gt(Rn.value):function jt(Gt){return Gt instanceof ct?Gt:new ct(function(Kt){Kt(Gt)})}(Rn.value).then(fn,tn)}Nt((dt=dt.apply(Re,Ye||[])).next())})}function Je(Re){return this instanceof Je?(this.v=Re,this):new Je(Re)}function at(Re,Ye,ct){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var jt,dt=ct.apply(Re,Ye||[]),Gt=[];return jt={},Kt("next"),Kt("throw"),Kt("return"),jt[Symbol.asyncIterator]=function(){return this},jt;function Kt(gn){dt[gn]&&(jt[gn]=function(zt){return new Promise(function(Hn,Nn){Gt.push([gn,zt,Hn,Nn])>1||fn(gn,zt)})})}function fn(gn,zt){try{!function tn(gn){gn.value instanceof Je?Promise.resolve(gn.value.v).then(Nt,Rn):pn(Gt[0][2],gn)}(dt[gn](zt))}catch(Hn){pn(Gt[0][3],Hn)}}function Nt(gn){fn("next",gn)}function Rn(gn){fn("throw",gn)}function pn(gn,zt){gn(zt),Gt.shift(),Gt.length&&fn(Gt[0][0],Gt[0][1])}}function Rt(Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct,Ye=Re[Symbol.asyncIterator];return Ye?Ye.call(Re):(Re=function De(Re){var Ye="function"==typeof Symbol&&Symbol.iterator,ct=Ye&&Re[Ye],dt=0;if(ct)return ct.call(Re);if(Re&&"number"==typeof Re.length)return{next:function(){return Re&&dt>=Re.length&&(Re=void 0),{value:Re&&Re[dt++],done:!Re}}};throw new TypeError(Ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(Re),ct={},dt("next"),dt("throw"),dt("return"),ct[Symbol.asyncIterator]=function(){return this},ct);function dt(Gt){ct[Gt]=Re[Gt]&&function(Kt){return new Promise(function(fn,tn){!function jt(Gt,Kt,fn,tn){Promise.resolve(tn).then(function(Nt){Gt({value:Nt,done:fn})},Kt)}(fn,tn,(Kt=Re[Gt](Kt)).done,Kt.value)})}}}S.d(rt,{FC:()=>at,KL:()=>Rt,_T:()=>re,mG:()=>Te,qq:()=>Je})},7340:(en,rt,S)=>{"use strict";S.d(rt,{LC:()=>C,SB:()=>ke,X$:()=>re,ZE:()=>Fe,ZN:()=>at,_j:()=>c,eR:()=>be,jt:()=>ge,k1:()=>Rt,l3:()=>I,oB:()=>Te,vP:()=>Ne});class c{}class C{}const I="*";function re(Be,we){return{type:7,name:Be,definitions:we,options:{}}}function ge(Be,we=null){return{type:4,styles:we,timings:Be}}function Ne(Be,we=null){return{type:2,steps:Be,options:we}}function Te(Be){return{type:6,styles:Be,offset:null}}function ke(Be,we,Ie){return{type:0,name:Be,styles:we,options:Ie}}function be(Be,we,Ie=null){return{type:1,expr:Be,animation:we,options:Ie}}function Je(Be){Promise.resolve().then(Be)}class at{constructor(we=0,Ie=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=we+Ie}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}onStart(we){this._originalOnStartFns.push(we),this._onStartFns.push(we)}onDone(we){this._originalOnDoneFns.push(we),this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Je(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(we=>we()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(we){this._position=this.totalTime?we*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(we){const Ie="start"==we?this._onStartFns:this._onDoneFns;Ie.forEach(tt=>tt()),Ie.length=0}}class Fe{constructor(we){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=we;let Ie=0,tt=0,Et=0;const ye=this.players.length;0==ye?Je(()=>this._onFinish()):this.players.forEach(pt=>{pt.onDone(()=>{++Ie==ye&&this._onFinish()}),pt.onDestroy(()=>{++tt==ye&&this._onDestroy()}),pt.onStart(()=>{++Et==ye&&this._onStart()})}),this.totalTime=this.players.reduce((pt,Re)=>Math.max(pt,Re.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}init(){this.players.forEach(we=>we.init())}onStart(we){this._onStartFns.push(we)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(we=>we()),this._onStartFns=[])}onDone(we){this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(we=>we.play())}pause(){this.players.forEach(we=>we.pause())}restart(){this.players.forEach(we=>we.restart())}finish(){this._onFinish(),this.players.forEach(we=>we.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(we=>we.destroy()),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this.players.forEach(we=>we.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(we){const Ie=we*this.totalTime;this.players.forEach(tt=>{const Et=tt.totalTime?Math.min(1,Ie/tt.totalTime):1;tt.setPosition(Et)})}getPosition(){const we=this.players.reduce((Ie,tt)=>null===Ie||tt.totalTime>Ie.totalTime?tt:Ie,null);return null!=we?we.getPosition():0}beforeDestroy(){this.players.forEach(we=>{we.beforeDestroy&&we.beforeDestroy()})}triggerCallback(we){const Ie="start"==we?this._onStartFns:this._onDoneFns;Ie.forEach(tt=>tt()),Ie.length=0}}const Rt="!"},7253:(en,rt,S)=>{"use strict";S.d(rt,{Em:()=>wn,tE:()=>ot,qm:()=>xn,X6:()=>Ln,yG:()=>qn});var c=S(6895),C=S(4650),I=S(3353),re=S(7579),ge=S(727),Me=S(1135),Ne=S(9646),Te=S(9521),ke=S(8505),ce=S(8372),be=S(9300),De=S(4004);function it(mt){return(0,be.h)((Xe,je)=>mt<=je)}var nt=S(1884),ze=S(2722),_t=S(1281),Je=S(9841),at=S(7272),Fe=S(9751),Rt=S(5698),Be=S(8675);const Ie=new Set;let tt,Et=(()=>{class mt{constructor(je){this._platform=je,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):pt}matchMedia(je){return(this._platform.WEBKIT||this._platform.BLINK)&&function ye(mt){if(!Ie.has(mt))try{tt||(tt=document.createElement("style"),tt.setAttribute("type","text/css"),document.head.appendChild(tt)),tt.sheet&&(tt.sheet.insertRule(`@media ${mt} {body{ }}`,0),Ie.add(mt))}catch(Xe){console.error(Xe)}}(je),this._matchMedia(je)}}return mt.\u0275fac=function(je){return new(je||mt)(C.LFG(I.t4))},mt.\u0275prov=C.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})();function pt(mt){return{matches:"all"===mt||""===mt,media:mt,addListener:()=>{},removeListener:()=>{}}}let Re=(()=>{class mt{constructor(je,yt){this._mediaMatcher=je,this._zone=yt,this._queries=new Map,this._destroySubject=new re.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(je){return Ye((0,_t.Eq)(je)).some(ie=>this._registerQuery(ie).mql.matches)}observe(je){const ie=Ye((0,_t.Eq)(je)).map(he=>this._registerQuery(he).observable);let Ce=(0,Je.a)(ie);return Ce=(0,at.z)(Ce.pipe((0,Rt.q)(1)),Ce.pipe(it(1),(0,ce.b)(0))),Ce.pipe((0,De.U)(he=>{const _e={matches:!1,breakpoints:{}};return he.forEach(({matches:ue,query:ne})=>{_e.matches=_e.matches||ue,_e.breakpoints[ne]=ue}),_e}))}_registerQuery(je){if(this._queries.has(je))return this._queries.get(je);const yt=this._mediaMatcher.matchMedia(je),Ce={observable:new Fe.y(he=>{const _e=ue=>this._zone.run(()=>he.next(ue));return yt.addListener(_e),()=>{yt.removeListener(_e)}}).pipe((0,Be.O)(yt),(0,De.U)(({matches:he})=>({query:je,matches:he})),(0,ze.R)(this._destroySubject)),mql:yt};return this._queries.set(je,Ce),Ce}}return mt.\u0275fac=function(je){return new(je||mt)(C.LFG(Et),C.LFG(C.R0b))},mt.\u0275prov=C.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})();function Ye(mt){return mt.map(Xe=>Xe.split(",")).reduce((Xe,je)=>Xe.concat(je)).map(Xe=>Xe.trim())}class wn extends class Hn{constructor(Xe){this._items=Xe,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new re.x,this._typeaheadSubscription=ge.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=je=>je.disabled,this._pressedLetters=[],this.tabOut=new re.x,this.change=new re.x,Xe instanceof C.n_E&&Xe.changes.subscribe(je=>{if(this._activeItem){const ie=je.toArray().indexOf(this._activeItem);ie>-1&&ie!==this._activeItemIndex&&(this._activeItemIndex=ie)}})}skipPredicate(Xe){return this._skipPredicateFn=Xe,this}withWrap(Xe=!0){return this._wrap=Xe,this}withVerticalOrientation(Xe=!0){return this._vertical=Xe,this}withHorizontalOrientation(Xe){return this._horizontal=Xe,this}withAllowedModifierKeys(Xe){return this._allowedModifierKeys=Xe,this}withTypeAhead(Xe=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ke.b)(je=>this._pressedLetters.push(je)),(0,ce.b)(Xe),(0,be.h)(()=>this._pressedLetters.length>0),(0,De.U)(()=>this._pressedLetters.join(""))).subscribe(je=>{const yt=this._getItemsArray();for(let ie=1;ie<yt.length+1;ie++){const Ce=(this._activeItemIndex+ie)%yt.length,he=yt[Ce];if(!this._skipPredicateFn(he)&&0===he.getLabel().toUpperCase().trim().indexOf(je)){this.setActiveItem(Ce);break}}this._pressedLetters=[]}),this}withHomeAndEnd(Xe=!0){return this._homeAndEnd=Xe,this}setActiveItem(Xe){const je=this._activeItem;this.updateActiveItem(Xe),this._activeItem!==je&&this.change.next(this._activeItemIndex)}onKeydown(Xe){const je=Xe.keyCode,ie=["altKey","ctrlKey","metaKey","shiftKey"].every(Ce=>!Xe[Ce]||this._allowedModifierKeys.indexOf(Ce)>-1);switch(je){case Te.Mf:return void this.tabOut.next();case Te.JH:if(this._vertical&&ie){this.setNextItemActive();break}return;case Te.LH:if(this._vertical&&ie){this.setPreviousItemActive();break}return;case Te.SV:if(this._horizontal&&ie){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case Te.oh:if(this._horizontal&&ie){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case Te.Sd:if(this._homeAndEnd&&ie){this.setFirstItemActive();break}return;case Te.uR:if(this._homeAndEnd&&ie){this.setLastItemActive();break}return;default:return void((ie||(0,Te.Vb)(Xe,"shiftKey"))&&(Xe.key&&1===Xe.key.length?this._letterKeyStream.next(Xe.key.toLocaleUpperCase()):(je>=Te.A&&je<=Te.Z||je>=Te.xE&&je<=Te.aO)&&this._letterKeyStream.next(String.fromCharCode(je))))}this._pressedLetters=[],Xe.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Xe){const je=this._getItemsArray(),yt="number"==typeof Xe?Xe:je.indexOf(Xe);this._activeItem=je[yt]??null,this._activeItemIndex=yt}_setActiveItemByDelta(Xe){this._wrap?this._setActiveInWrapMode(Xe):this._setActiveInDefaultMode(Xe)}_setActiveInWrapMode(Xe){const je=this._getItemsArray();for(let yt=1;yt<=je.length;yt++){const ie=(this._activeItemIndex+Xe*yt+je.length)%je.length;if(!this._skipPredicateFn(je[ie]))return void this.setActiveItem(ie)}}_setActiveInDefaultMode(Xe){this._setActiveItemByIndex(this._activeItemIndex+Xe,Xe)}_setActiveItemByIndex(Xe,je){const yt=this._getItemsArray();if(yt[Xe]){for(;this._skipPredicateFn(yt[Xe]);)if(!yt[Xe+=je])return;this.setActiveItem(Xe)}}_getItemsArray(){return this._items instanceof C.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Xe){return this._origin=Xe,this}setActiveItem(Xe){super.setActiveItem(Xe),this.activeItem&&this.activeItem.focus(this._origin)}}function Ln(mt){return 0===mt.buttons||0===mt.offsetX&&0===mt.offsetY}function qn(mt){const Xe=mt.touches&&mt.touches[0]||mt.changedTouches&&mt.changedTouches[0];return!(!Xe||-1!==Xe.identifier||null!=Xe.radiusX&&1!==Xe.radiusX||null!=Xe.radiusY&&1!==Xe.radiusY)}const Qe=new C.OlP("cdk-input-modality-detector-options"),qe={ignoreKeys:[Te.zL,Te.jx,Te.b2,Te.MW,Te.JU]},Z=(0,I.i$)({passive:!0,capture:!0});let q=(()=>{class mt{constructor(je,yt,ie,Ce){this._platform=je,this._mostRecentTarget=null,this._modality=new Me.X(null),this._lastTouchMs=0,this._onKeydown=he=>{this._options?.ignoreKeys?.some(_e=>_e===he.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,I.sA)(he))},this._onMousedown=he=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ln(he)?"keyboard":"mouse"),this._mostRecentTarget=(0,I.sA)(he))},this._onTouchstart=he=>{qn(he)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,I.sA)(he))},this._options={...qe,...Ce},this.modalityDetected=this._modality.pipe(it(1)),this.modalityChanged=this.modalityDetected.pipe((0,nt.x)()),je.isBrowser&&yt.runOutsideAngular(()=>{ie.addEventListener("keydown",this._onKeydown,Z),ie.addEventListener("mousedown",this._onMousedown,Z),ie.addEventListener("touchstart",this._onTouchstart,Z)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Z),document.removeEventListener("mousedown",this._onMousedown,Z),document.removeEventListener("touchstart",this._onTouchstart,Z))}}return mt.\u0275fac=function(je){return new(je||mt)(C.LFG(I.t4),C.LFG(C.R0b),C.LFG(c.K0),C.LFG(Qe,8))},mt.\u0275prov=C.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})();const xe=new C.OlP("cdk-focus-monitor-default-options"),Ge=(0,I.i$)({passive:!0,capture:!0});let ot=(()=>{class mt{constructor(je,yt,ie,Ce,he){this._ngZone=je,this._platform=yt,this._inputModalityDetector=ie,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new re.x,this._rootNodeFocusAndBlurListener=_e=>{for(let ne=(0,I.sA)(_e);ne;ne=ne.parentElement)"focus"===_e.type?this._onFocus(_e,ne):this._onBlur(_e,ne)},this._document=Ce,this._detectionMode=he?.detectionMode||0}monitor(je,yt=!1){const ie=(0,_t.fI)(je);if(!this._platform.isBrowser||1!==ie.nodeType)return(0,Ne.of)(null);const Ce=(0,I.kV)(ie)||this._getDocument(),he=this._elementInfo.get(ie);if(he)return yt&&(he.checkChildren=!0),he.subject;const _e={checkChildren:yt,subject:new re.x,rootNode:Ce};return this._elementInfo.set(ie,_e),this._registerGlobalListeners(_e),_e.subject}stopMonitoring(je){const yt=(0,_t.fI)(je),ie=this._elementInfo.get(yt);ie&&(ie.subject.complete(),this._setClasses(yt),this._elementInfo.delete(yt),this._removeGlobalListeners(ie))}focusVia(je,yt,ie){const Ce=(0,_t.fI)(je);Ce===this._getDocument().activeElement?this._getClosestElementsInfo(Ce).forEach(([_e,ue])=>this._originChanged(_e,yt,ue)):(this._setOrigin(yt),"function"==typeof Ce.focus&&Ce.focus(ie))}ngOnDestroy(){this._elementInfo.forEach((je,yt)=>this.stopMonitoring(yt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(je){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(je)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:je&&this._isLastInteractionFromInputLabel(je)?"mouse":"program"}_shouldBeAttributedToTouch(je){return 1===this._detectionMode||!!je?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(je,yt){je.classList.toggle("cdk-focused",!!yt),je.classList.toggle("cdk-touch-focused","touch"===yt),je.classList.toggle("cdk-keyboard-focused","keyboard"===yt),je.classList.toggle("cdk-mouse-focused","mouse"===yt),je.classList.toggle("cdk-program-focused","program"===yt)}_setOrigin(je,yt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=je,this._originFromTouchInteraction="touch"===je&&yt,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(je,yt){const ie=this._elementInfo.get(yt),Ce=(0,I.sA)(je);!ie||!ie.checkChildren&&yt!==Ce||this._originChanged(yt,this._getFocusOrigin(Ce),ie)}_onBlur(je,yt){const ie=this._elementInfo.get(yt);!ie||ie.checkChildren&&je.relatedTarget instanceof Node&&yt.contains(je.relatedTarget)||(this._setClasses(yt),this._emitOrigin(ie,null))}_emitOrigin(je,yt){je.subject.observers.length&&this._ngZone.run(()=>je.subject.next(yt))}_registerGlobalListeners(je){if(!this._platform.isBrowser)return;const yt=je.rootNode,ie=this._rootNodeFocusListenerCount.get(yt)||0;ie||this._ngZone.runOutsideAngular(()=>{yt.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ge),yt.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ge)}),this._rootNodeFocusListenerCount.set(yt,ie+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ze.R)(this._stopInputModalityDetector)).subscribe(Ce=>{this._setOrigin(Ce,!0)}))}_removeGlobalListeners(je){const yt=je.rootNode;if(this._rootNodeFocusListenerCount.has(yt)){const ie=this._rootNodeFocusListenerCount.get(yt);ie>1?this._rootNodeFocusListenerCount.set(yt,ie-1):(yt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ge),yt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ge),this._rootNodeFocusListenerCount.delete(yt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(je,yt,ie){this._setClasses(je,yt),this._emitOrigin(ie,yt),this._lastFocusOrigin=yt}_getClosestElementsInfo(je){const yt=[];return this._elementInfo.forEach((ie,Ce)=>{(Ce===je||ie.checkChildren&&Ce.contains(je))&&yt.push([Ce,ie])}),yt}_isLastInteractionFromInputLabel(je){const{_mostRecentTarget:yt,mostRecentModality:ie}=this._inputModalityDetector;if("mouse"!==ie||!yt||yt===je||"INPUT"!==je.nodeName&&"TEXTAREA"!==je.nodeName||je.disabled)return!1;const Ce=je.labels;if(Ce)for(let he=0;he<Ce.length;he++)if(Ce[he].contains(yt))return!0;return!1}}return mt.\u0275fac=function(je){return new(je||mt)(C.LFG(C.R0b),C.LFG(I.t4),C.LFG(q),C.LFG(c.K0,8),C.LFG(xe,8))},mt.\u0275prov=C.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})();const nn="cdk-high-contrast-black-on-white",ln="cdk-high-contrast-white-on-black",mn="cdk-high-contrast-active";let xn=(()=>{class mt{constructor(je,yt){this._platform=je,this._document=yt,this._breakpointSubscription=(0,C.f3M)(Re).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const je=this._document.createElement("div");je.style.backgroundColor="rgb(1,2,3)",je.style.position="absolute",this._document.body.appendChild(je);const yt=this._document.defaultView||window,ie=yt&&yt.getComputedStyle?yt.getComputedStyle(je):null,Ce=(ie&&ie.backgroundColor||"").replace(/ /g,"");switch(je.remove(),Ce){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const je=this._document.body.classList;je.remove(mn,nn,ln),this._hasCheckedHighContrastMode=!0;const yt=this.getHighContrastMode();1===yt?je.add(mn,nn):2===yt&&je.add(mn,ln)}}}return mt.\u0275fac=function(je){return new(je||mt)(C.LFG(I.t4),C.LFG(c.K0))},mt.\u0275prov=C.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})()},445:(en,rt,S)=>{"use strict";S.d(rt,{Is:()=>Ne,vT:()=>ke});var c=S(4650),C=S(6895);const I=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function re(){return(0,c.f3M)(C.K0)}}),ge=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ne=(()=>{class ce{constructor(De){if(this.value="ltr",this.change=new c.vpe,De){const nt=De.documentElement?De.documentElement.dir:null;this.value=function Me(ce){const be=ce?.toLowerCase()||"";return"auto"===be&&typeof navigator<"u"&&navigator?.language?ge.test(navigator.language)?"rtl":"ltr":"rtl"===be?"rtl":"ltr"}((De.body?De.body.dir:null)||nt||"ltr")}}ngOnDestroy(){this.change.complete()}}return ce.\u0275fac=function(De){return new(De||ce)(c.LFG(I,8))},ce.\u0275prov=c.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})(),ke=(()=>{class ce{}return ce.\u0275fac=function(De){return new(De||ce)},ce.\u0275mod=c.oAB({type:ce}),ce.\u0275inj=c.cJS({}),ce})()},1281:(en,rt,S)=>{"use strict";S.d(rt,{Eq:()=>ge,Ig:()=>C,fI:()=>Ne,su:()=>I,t6:()=>re});var c=S(4650);function C(ke){return null!=ke&&"false"!=`${ke}`}function I(ke,ce=0){return re(ke)?Number(ke):ce}function re(ke){return!isNaN(parseFloat(ke))&&!isNaN(Number(ke))}function ge(ke){return Array.isArray(ke)?ke:[ke]}function Ne(ke){return ke instanceof c.SBq?ke.nativeElement:ke}},9521:(en,rt,S)=>{"use strict";S.d(rt,{A:()=>pn,JH:()=>Rt,JU:()=>Me,K5:()=>ge,LH:()=>at,L_:()=>De,MW:()=>_n,Mf:()=>I,SV:()=>Fe,Sd:()=>_t,Vb:()=>xi,Z:()=>Bt,aO:()=>Kt,b2:()=>Ar,jx:()=>Ne,oh:()=>Je,uR:()=>ze,xE:()=>Et,zL:()=>Te});const I=9,ge=13,Me=16,Ne=17,Te=18,De=32,ze=35,_t=36,Je=37,at=38,Fe=39,Rt=40,Et=48,Kt=57,pn=65,Bt=90,_n=91,Ar=224;function xi(_r,...ji){return ji.length?ji.some(ti=>_r[ti]):_r.altKey||_r.shiftKey||_r.ctrlKey||_r.metaKey}},3353:(en,rt,S)=>{"use strict";S.d(rt,{Oy:()=>Be,i$:()=>be,kV:()=>at,qK:()=>Te,sA:()=>Rt,t4:()=>re});var c=S(4650),C=S(6895);let I;try{I=typeof Intl<"u"&&Intl.v8BreakIterator}catch{I=!1}let Me,re=(()=>{class we{constructor(tt){this._platformId=tt,this.isBrowser=this._platformId?(0,C.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!I)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return we.\u0275fac=function(tt){return new(tt||we)(c.LFG(c.Lbi))},we.\u0275prov=c.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();const Ne=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Te(){if(Me)return Me;if("object"!=typeof document||!document)return Me=new Set(Ne),Me;let we=document.createElement("input");return Me=new Set(Ne.filter(Ie=>(we.setAttribute("type",Ie),we.type===Ie))),Me}let ke,_t;function be(we){return function ce(){if(null==ke&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ke=!0}))}finally{ke=ke||!1}return ke}()?we:!!we.capture}function at(we){if(function Je(){if(null==_t){const we=typeof document<"u"?document.head:null;_t=!(!we||!we.createShadowRoot&&!we.attachShadow)}return _t}()){const Ie=we.getRootNode?we.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Ie instanceof ShadowRoot)return Ie}return null}function Rt(we){return we.composedPath?we.composedPath()[0]:we.target}function Be(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},1218:(en,rt,S)=>{"use strict";S.d(rt,{Cl:()=>cr,rL:()=>Gn});var c=S(4650),C=S(7579),I=S(4408),re=S(727);const ge={schedule(sn){let Ct=requestAnimationFrame,st=cancelAnimationFrame;const{delegate:Pt}=ge;Pt&&(Ct=Pt.requestAnimationFrame,st=Pt.cancelAnimationFrame);const Tt=Ct(Bt=>{st=void 0,sn(Bt)});return new re.w0(()=>st?.(Tt))},requestAnimationFrame(...sn){const{delegate:Ct}=ge;return(Ct?.requestAnimationFrame||requestAnimationFrame)(...sn)},cancelAnimationFrame(...sn){const{delegate:Ct}=ge;return(Ct?.cancelAnimationFrame||cancelAnimationFrame)(...sn)},delegate:void 0};var Ne=S(7565);new class Te extends Ne.v{flush(Ct){this._active=!0;const st=this._scheduled;this._scheduled=void 0;const{actions:Pt}=this;let Tt;Ct=Ct||Pt.shift();do{if(Tt=Ct.execute(Ct.state,Ct.delay))break}while((Ct=Pt[0])&&Ct.id===st&&Pt.shift());if(this._active=!1,Tt){for(;(Ct=Pt[0])&&Ct.id===st&&Pt.shift();)Ct.unsubscribe();throw Tt}}}(class Me extends I.o{constructor(Ct,st){super(Ct,st),this.scheduler=Ct,this.work=st}requestAsyncId(Ct,st,Pt=0){return null!==Pt&&Pt>0?super.requestAsyncId(Ct,st,Pt):(Ct.actions.push(this),Ct._scheduled||(Ct._scheduled=ge.requestAnimationFrame(()=>Ct.flush(void 0))))}recycleAsyncId(Ct,st,Pt=0){var Tt;if(null!=Pt?Pt>0:this.delay>0)return super.recycleAsyncId(Ct,st,Pt);const{actions:Bt}=Ct;null!=st&&(null===(Tt=Bt[Bt.length-1])||void 0===Tt?void 0:Tt.id)!==st&&(ge.cancelAnimationFrame(st),Ct._scheduled=void 0)}});let De,be=1;const it={};function nt(sn){return sn in it&&(delete it[sn],!0)}const ze={setImmediate(sn){const Ct=be++;return it[Ct]=!0,De||(De=Promise.resolve()),De.then(()=>nt(Ct)&&sn()),Ct},clearImmediate(sn){nt(sn)}},{setImmediate:Je,clearImmediate:at}=ze,Fe={setImmediate(...sn){const{delegate:Ct}=Fe;return(Ct?.setImmediate||Je)(...sn)},clearImmediate(sn){const{delegate:Ct}=Fe;return(Ct?.clearImmediate||at)(sn)},delegate:void 0};new class Be extends Ne.v{flush(Ct){this._active=!0;const st=this._scheduled;this._scheduled=void 0;const{actions:Pt}=this;let Tt;Ct=Ct||Pt.shift();do{if(Tt=Ct.execute(Ct.state,Ct.delay))break}while((Ct=Pt[0])&&Ct.id===st&&Pt.shift());if(this._active=!1,Tt){for(;(Ct=Pt[0])&&Ct.id===st&&Pt.shift();)Ct.unsubscribe();throw Tt}}}(class Rt extends I.o{constructor(Ct,st){super(Ct,st),this.scheduler=Ct,this.work=st}requestAsyncId(Ct,st,Pt=0){return null!==Pt&&Pt>0?super.requestAsyncId(Ct,st,Pt):(Ct.actions.push(this),Ct._scheduled||(Ct._scheduled=Fe.setImmediate(Ct.flush.bind(Ct,void 0))))}recycleAsyncId(Ct,st,Pt=0){var Tt;if(null!=Pt?Pt>0:this.delay>0)return super.recycleAsyncId(Ct,st,Pt);const{actions:Bt}=Ct;null!=st&&(null===(Tt=Bt[Bt.length-1])||void 0===Tt?void 0:Tt.id)!==st&&(Fe.clearImmediate(st),Ct._scheduled=void 0)}});var tt=S(4986),Et=S(4482),ye=S(8421),pt=S(5403),Ye=S(9751),ct=S(3532);function Gt(sn,Ct=tt.z){return function Re(sn){return(0,Et.e)((Ct,st)=>{let Pt=!1,Tt=null,Bt=null,_n=!1;const hn=()=>{if(Bt?.unsubscribe(),Bt=null,Pt){Pt=!1;const qn=Tt;Tt=null,st.next(qn)}_n&&st.complete()},Ln=()=>{Bt=null,_n&&st.complete()};Ct.subscribe((0,pt.x)(st,qn=>{Pt=!0,Tt=qn,Bt||(0,ye.Xf)(sn(qn)).subscribe(Bt=(0,pt.x)(st,hn,Ln))},()=>{_n=!0,(!Pt||!Bt||Bt.closed)&&st.complete()}))})}(()=>function jt(sn=0,Ct,st=tt.P){let Pt=-1;return null!=Ct&&((0,ct.K)(Ct)?st=Ct:Pt=Ct),new Ye.y(Tt=>{let Bt=function dt(sn){return sn instanceof Date&&!isNaN(sn)}(sn)?+sn-st.now():sn;Bt<0&&(Bt=0);let _n=0;return st.schedule(function(){Tt.closed||(Tt.next(_n++),0<=Pt?this.schedule(void 0,Pt):Tt.complete())},Bt)})}(sn,Ct))}var Kt=S(3353),fn=S(6895),tn=S(445);let Gn=(()=>{class sn{constructor(st,Pt,Tt){this._platform=st,this._change=new C.x,this._changeListener=Bt=>{this._change.next(Bt)},this._document=Tt,Pt.runOutsideAngular(()=>{if(st.isBrowser){const Bt=this._getWindow();Bt.addEventListener("resize",this._changeListener),Bt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const st=this._getWindow();st.removeEventListener("resize",this._changeListener),st.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const st={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),st}getViewportRect(){const st=this.getViewportScrollPosition(),{width:Pt,height:Tt}=this.getViewportSize();return{top:st.top,left:st.left,bottom:st.top+Tt,right:st.left+Pt,height:Tt,width:Pt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const st=this._document,Pt=this._getWindow(),Tt=st.documentElement,Bt=Tt.getBoundingClientRect();return{top:-Bt.top||st.body.scrollTop||Pt.scrollY||Tt.scrollTop||0,left:-Bt.left||st.body.scrollLeft||Pt.scrollX||Tt.scrollLeft||0}}change(st=20){return st>0?this._change.pipe(Gt(st)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const st=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:st.innerWidth,height:st.innerHeight}:{width:0,height:0}}}return sn.\u0275fac=function(st){return new(st||sn)(c.LFG(Kt.t4),c.LFG(c.R0b),c.LFG(fn.K0,8))},sn.\u0275prov=c.Yz7({token:sn,factory:sn.\u0275fac,providedIn:"root"}),sn})(),ir=(()=>{class sn{}return sn.\u0275fac=function(st){return new(st||sn)},sn.\u0275mod=c.oAB({type:sn}),sn.\u0275inj=c.cJS({}),sn})(),cr=(()=>{class sn{}return sn.\u0275fac=function(st){return new(st||sn)},sn.\u0275mod=c.oAB({type:sn}),sn.\u0275inj=c.cJS({imports:[tn.vT,ir,tn.vT,ir]}),sn})()},6895:(en,rt,S)=>{"use strict";S.d(rt,{Do:()=>Rt,EM:()=>Ks,HT:()=>ge,JF:()=>ns,K0:()=>Ne,Mx:()=>Ir,NF:()=>ro,O5:()=>_r,PC:()=>ls,PM:()=>Hi,RF:()=>Ki,S$:()=>Je,V_:()=>ce,Ye:()=>Be,b0:()=>Fe,bD:()=>ds,ez:()=>cs,mk:()=>gr,n9:()=>Pi,q:()=>I,sg:()=>Ai,w_:()=>Me});var c=S(4650);let C=null;function I(){return C}function ge(T){C||(C=T)}class Me{}const Ne=new c.OlP("DocumentToken");let Te=(()=>{class T{historyGo(P){throw new Error("Not implemented")}}return T.\u0275fac=function(P){return new(P||T)},T.\u0275prov=c.Yz7({token:T,factory:function(){return function ke(){return(0,c.LFG)(be)}()},providedIn:"platform"}),T})();const ce=new c.OlP("Location Initialized");let be=(()=>{class T extends Te{constructor(P){super(),this._doc=P,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return I().getBaseHref(this._doc)}onPopState(P){const le=I().getGlobalEventTarget(this._doc,"window");return le.addEventListener("popstate",P,!1),()=>le.removeEventListener("popstate",P)}onHashChange(P){const le=I().getGlobalEventTarget(this._doc,"window");return le.addEventListener("hashchange",P,!1),()=>le.removeEventListener("hashchange",P)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(P){this.location.pathname=P}pushState(P,le,Ke){De()?this._history.pushState(P,le,Ke):this.location.hash=Ke}replaceState(P,le,Ke){De()?this._history.replaceState(P,le,Ke):this.location.hash=Ke}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}}return T.\u0275fac=function(P){return new(P||T)(c.LFG(Ne))},T.\u0275prov=c.Yz7({token:T,factory:function(){return function it(){return new be((0,c.LFG)(Ne))}()},providedIn:"platform"}),T})();function De(){return!!window.history.pushState}function nt(T,K){if(0==T.length)return K;if(0==K.length)return T;let P=0;return T.endsWith("/")&&P++,K.startsWith("/")&&P++,2==P?T+K.substring(1):1==P?T+K:T+"/"+K}function ze(T){const K=T.match(/#|\?|$/),P=K&&K.index||T.length;return T.slice(0,P-("/"===T[P-1]?1:0))+T.slice(P)}function _t(T){return T&&"?"!==T[0]?"?"+T:T}let Je=(()=>{class T{historyGo(P){throw new Error("Not implemented")}}return T.\u0275fac=function(P){return new(P||T)},T.\u0275prov=c.Yz7({token:T,factory:function(){return(0,c.f3M)(Fe)},providedIn:"root"}),T})();const at=new c.OlP("appBaseHref");let Fe=(()=>{class T extends Je{constructor(P,le){super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=le??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(Ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return nt(this._baseHref,P)}path(P=!1){const le=this._platformLocation.pathname+_t(this._platformLocation.search),Ke=this._platformLocation.hash;return Ke&&P?`${le}${Ke}`:le}pushState(P,le,Ke,Dt){const Vt=this.prepareExternalUrl(Ke+_t(Dt));this._platformLocation.pushState(P,le,Vt)}replaceState(P,le,Ke,Dt){const Vt=this.prepareExternalUrl(Ke+_t(Dt));this._platformLocation.replaceState(P,le,Vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}}return T.\u0275fac=function(P){return new(P||T)(c.LFG(Te),c.LFG(at,8))},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),Rt=(()=>{class T extends Je{constructor(P,le){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=le&&(this._baseHref=le)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let le=this._platformLocation.hash;return null==le&&(le="#"),le.length>0?le.substring(1):le}prepareExternalUrl(P){const le=nt(this._baseHref,P);return le.length>0?"#"+le:le}pushState(P,le,Ke,Dt){let Vt=this.prepareExternalUrl(Ke+_t(Dt));0==Vt.length&&(Vt=this._platformLocation.pathname),this._platformLocation.pushState(P,le,Vt)}replaceState(P,le,Ke,Dt){let Vt=this.prepareExternalUrl(Ke+_t(Dt));0==Vt.length&&(Vt=this._platformLocation.pathname),this._platformLocation.replaceState(P,le,Vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}}return T.\u0275fac=function(P){return new(P||T)(c.LFG(Te),c.LFG(at,8))},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac}),T})(),Be=(()=>{class T{constructor(P){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const le=this._locationStrategy.getBaseHref();this._baseHref=ze(tt(le)),this._locationStrategy.onPopState(Ke=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ke.state,type:Ke.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,le=""){return this.path()==this.normalize(P+_t(le))}normalize(P){return T.stripTrailingSlash(function Ie(T,K){return T&&K.startsWith(T)?K.substring(T.length):K}(this._baseHref,tt(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,le="",Ke=null){this._locationStrategy.pushState(Ke,"",P,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+_t(le)),Ke)}replaceState(P,le="",Ke=null){this._locationStrategy.replaceState(Ke,"",P,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+_t(le)),Ke)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){this._locationStrategy.historyGo?.(P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(le=>{this._notifyUrlChangeListeners(le.url,le.state)})),()=>{const le=this._urlChangeListeners.indexOf(P);this._urlChangeListeners.splice(le,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",le){this._urlChangeListeners.forEach(Ke=>Ke(P,le))}subscribe(P,le,Ke){return this._subject.subscribe({next:P,error:le,complete:Ke})}}return T.normalizeQueryParams=_t,T.joinWithSlash=nt,T.stripTrailingSlash=ze,T.\u0275fac=function(P){return new(P||T)(c.LFG(Je))},T.\u0275prov=c.Yz7({token:T,factory:function(){return function we(){return new Be((0,c.LFG)(Je))}()},providedIn:"root"}),T})();function tt(T){return T.replace(/\/index.html$/,"")}function Ir(T,K){K=encodeURIComponent(K);for(const P of T.split(";")){const le=P.indexOf("="),[Ke,Dt]=-1==le?[P,""]:[P.slice(0,le),P.slice(le+1)];if(Ke.trim()===K)return decodeURIComponent(Dt)}return null}let gr=(()=>{class T{constructor(P,le,Ke,Dt){this._iterableDiffers=P,this._keyValueDiffers=le,this._ngEl=Ke,this._renderer=Dt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(P){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof P?P.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(P){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof P?P.split(/\s+/):P,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const P=this._iterableDiffer.diff(this._rawClass);P&&this._applyIterableChanges(P)}else if(this._keyValueDiffer){const P=this._keyValueDiffer.diff(this._rawClass);P&&this._applyKeyValueChanges(P)}}_applyKeyValueChanges(P){P.forEachAddedItem(le=>this._toggleClass(le.key,le.currentValue)),P.forEachChangedItem(le=>this._toggleClass(le.key,le.currentValue)),P.forEachRemovedItem(le=>{le.previousValue&&this._toggleClass(le.key,!1)})}_applyIterableChanges(P){P.forEachAddedItem(le=>{if("string"!=typeof le.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(le.item)}`);this._toggleClass(le.item,!0)}),P.forEachRemovedItem(le=>this._toggleClass(le.item,!1))}_applyClasses(P){P&&(Array.isArray(P)||P instanceof Set?P.forEach(le=>this._toggleClass(le,!0)):Object.keys(P).forEach(le=>this._toggleClass(le,!!P[le])))}_removeClasses(P){P&&(Array.isArray(P)||P instanceof Set?P.forEach(le=>this._toggleClass(le,!1)):Object.keys(P).forEach(le=>this._toggleClass(le,!1)))}_toggleClass(P,le){(P=P.trim())&&P.split(/\s+/g).forEach(Ke=>{le?this._renderer.addClass(this._ngEl.nativeElement,Ke):this._renderer.removeClass(this._ngEl.nativeElement,Ke)})}}return T.\u0275fac=function(P){return new(P||T)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},T.\u0275dir=c.lG2({type:T,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),T})();class ki{constructor(K,P,le,Ke){this.$implicit=K,this.ngForOf=P,this.index=le,this.count=Ke}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ai=(()=>{class T{constructor(P,le,Ke){this._viewContainer=P,this._template=le,this._differs=Ke,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const le=this._viewContainer;P.forEachOperation((Ke,Dt,Vt)=>{if(null==Ke.previousIndex)le.createEmbeddedView(this._template,new ki(Ke.item,this._ngForOf,-1,-1),null===Vt?void 0:Vt);else if(null==Vt)le.remove(null===Dt?void 0:Dt);else if(null!==Dt){const Vn=le.get(Dt);le.move(Vn,Vt),Ar(Vn,Ke)}});for(let Ke=0,Dt=le.length;Ke<Dt;Ke++){const Vn=le.get(Ke).context;Vn.index=Ke,Vn.count=Dt,Vn.ngForOf=this._ngForOf}P.forEachIdentityChange(Ke=>{Ar(le.get(Ke.currentIndex),Ke)})}static ngTemplateContextGuard(P,le){return!0}}return T.\u0275fac=function(P){return new(P||T)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},T.\u0275dir=c.lG2({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),T})();function Ar(T,K){T.context.$implicit=K.item}let _r=(()=>{class T{constructor(P,le){this._viewContainer=P,this._context=new ji,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=le}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){ti("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){ti("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,le){return!0}}return T.\u0275fac=function(P){return new(P||T)(c.Y36(c.s_b),c.Y36(c.Rgc))},T.\u0275dir=c.lG2({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),T})();class ji{constructor(){this.$implicit=null,this.ngIf=null}}function ti(T,K){if(K&&!K.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,c.AaK)(K)}'.`)}class oi{constructor(K,P){this._viewContainerRef=K,this._templateRef=P,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(K){K&&!this._created?this.create():!K&&this._created&&this.destroy()}}let Ki=(()=>{class T{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(P){this._ngSwitch=P,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(P){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(P)}_matchCase(P){const le=P==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||le,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),le}_updateDefaultCases(P){if(this._defaultViews&&P!==this._defaultUsed){this._defaultUsed=P;for(let le=0;le<this._defaultViews.length;le++)this._defaultViews[le].enforceState(P)}}}return T.\u0275fac=function(P){return new(P||T)},T.\u0275dir=c.lG2({type:T,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),T})(),Pi=(()=>{class T{constructor(P,le,Ke){this.ngSwitch=Ke,Ke._addCase(),this._view=new oi(P,le)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return T.\u0275fac=function(P){return new(P||T)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Ki,9))},T.\u0275dir=c.lG2({type:T,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),T})(),ls=(()=>{class T{constructor(P,le,Ke){this._ngEl=P,this._differs=le,this._renderer=Ke,this._ngStyle=null,this._differ=null}set ngStyle(P){this._ngStyle=P,!this._differ&&P&&(this._differ=this._differs.find(P).create())}ngDoCheck(){if(this._differ){const P=this._differ.diff(this._ngStyle);P&&this._applyChanges(P)}}_setStyle(P,le){const[Ke,Dt]=P.split("."),Vt=-1===Ke.indexOf("-")?void 0:c.JOm.DashCase;null!=le?this._renderer.setStyle(this._ngEl.nativeElement,Ke,Dt?`${le}${Dt}`:le,Vt):this._renderer.removeStyle(this._ngEl.nativeElement,Ke,Vt)}_applyChanges(P){P.forEachRemovedItem(le=>this._setStyle(le.key,null)),P.forEachAddedItem(le=>this._setStyle(le.key,le.currentValue)),P.forEachChangedItem(le=>this._setStyle(le.key,le.currentValue))}}return T.\u0275fac=function(P){return new(P||T)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},T.\u0275dir=c.lG2({type:T,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),T})(),cs=(()=>{class T{}return T.\u0275fac=function(P){return new(P||T)},T.\u0275mod=c.oAB({type:T}),T.\u0275inj=c.cJS({}),T})();const ds="browser";function ro(T){return T===ds}function Hi(T){return"server"===T}let Ks=(()=>{class T{}return T.\u0275prov=(0,c.Yz7)({token:T,providedIn:"root",factory:()=>new da((0,c.LFG)(Ne),window)}),T})();class da{constructor(K,P){this.document=K,this.window=P,this.offset=()=>[0,0]}setOffset(K){this.offset=Array.isArray(K)?()=>K:K}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(K){this.supportsScrolling()&&this.window.scrollTo(K[0],K[1])}scrollToAnchor(K){if(!this.supportsScrolling())return;const P=function $i(T,K){const P=T.getElementById(K)||T.getElementsByName(K)[0];if(P)return P;if("function"==typeof T.createTreeWalker&&T.body&&(T.body.createShadowRoot||T.body.attachShadow)){const le=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let Ke=le.currentNode;for(;Ke;){const Dt=Ke.shadowRoot;if(Dt){const Vt=Dt.getElementById(K)||Dt.querySelector(`[name="${K}"]`);if(Vt)return Vt}Ke=le.nextNode()}}return null}(this.document,K);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(K){if(this.supportScrollRestoration()){const P=this.window.history;P&&P.scrollRestoration&&(P.scrollRestoration=K)}}scrollToElement(K){const P=K.getBoundingClientRect(),le=P.left+this.window.pageXOffset,Ke=P.top+this.window.pageYOffset,Dt=this.offset();this.window.scrollTo(le-Dt[0],Ke-Dt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const K=Vr(this.window.history)||Vr(Object.getPrototypeOf(this.window.history));return!(!K||!K.writable&&!K.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Vr(T){return Object.getOwnPropertyDescriptor(T,"scrollRestoration")}class ns{}},4650:(en,rt,S)=>{"use strict";S.d(rt,{$8M:()=>jr,$Z:()=>Md,AFp:()=>mb,ALo:()=>L0,AaK:()=>Te,BQk:()=>Gc,CHM:()=>Eo,CRH:()=>K0,CZH:()=>Uy,CqO:()=>mf,D6c:()=>TC,EJc:()=>$w,EiD:()=>Yl,EpF:()=>pu,F$t:()=>gu,F4k:()=>Qp,FYo:()=>bn,FiY:()=>Mn,G48:()=>dC,Gf:()=>z0,GfV:()=>Gs,GkF:()=>pf,Gpc:()=>be,Hsn:()=>ml,Ikx:()=>nh,JOm:()=>Va,JVY:()=>ch,KtG:()=>is,L6k:()=>dh,LAX:()=>fh,LFG:()=>Qi,LSH:()=>hi,Lbi:()=>Uw,Lck:()=>PE,MAs:()=>fu,MMx:()=>l_,NdJ:()=>Yd,O4$:()=>Vn,OlP:()=>Li,Oqu:()=>lg,PXZ:()=>sC,Q6J:()=>Uc,QGY:()=>gf,QP$:()=>Xe,QbO:()=>Hw,Qsj:()=>zn,R0b:()=>bl,RDi:()=>Mf,Rgc:()=>wg,SBq:()=>ve,Sil:()=>Ww,Suo:()=>W0,TTD:()=>As,TgZ:()=>Hc,Udp:()=>sg,VKq:()=>R0,X6Q:()=>cC,XFs:()=>$t,Xpm:()=>$,Xts:()=>Au,Y36:()=>au,YKP:()=>w0,YNc:()=>qd,Yjl:()=>mn,Yz7:()=>zt,Z0I:()=>xr,ZZ4:()=>O_,_Bn:()=>E0,_UZ:()=>Zp,_Vd:()=>p,_c5:()=>xC,_uU:()=>ag,aQg:()=>k_,c2e:()=>jw,cJS:()=>Nn,cg1:()=>Df,dDg:()=>tC,dqk:()=>_n,eBb:()=>hh,eFA:()=>Tb,ekj:()=>Ul,eoX:()=>Ab,f3M:()=>k,g9A:()=>vb,h0i:()=>If,hGG:()=>SC,hij:()=>bf,iGM:()=>$0,ifc:()=>Bt,ip1:()=>gb,jDz:()=>D0,kL8:()=>Ry,lG2:()=>ln,lqb:()=>ll,lri:()=>Db,mCW:()=>Al,n5z:()=>Ia,n_E:()=>Fy,oAB:()=>ot,oxw:()=>ty,pB0:()=>od,q3G:()=>ws,q4F:()=>ga,qLn:()=>vd,qOj:()=>cf,qZA:()=>ff,qzn:()=>Dl,rWj:()=>Ib,sBO:()=>hC,sIi:()=>du,s_b:()=>Ly,soG:()=>Hy,tb:()=>_b,tp0:()=>mr,uIk:()=>hf,vHH:()=>ze,vpe:()=>yu,wAp:()=>Cr,xi3:()=>V0,xp6:()=>Nh,ynx:()=>jc,z2F:()=>jy,z3N:()=>aa,zSh:()=>lc,zs3:()=>Lu});var c=S(7579),C=S(727),I=S(9751),re=S(6451),ge=S(3099);function Me(n){for(let r in n)if(n[r]===Me)return r;throw Error("Could not find renamed property on target object.")}function Ne(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Te(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Te).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function ke(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ce=Me({__forward_ref__:Me});function be(n){return n.__forward_ref__=be,n.toString=function(){return Te(this())},n}function De(n){return it(n)?n():n}function it(n){return"function"==typeof n&&n.hasOwnProperty(ce)&&n.__forward_ref__===be}class ze extends Error{constructor(r,s){super(function _t(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function Je(n){return"string"==typeof n?n:null==n?"":String(n)}function we(n,r){throw new ze(-201,!1)}function tn(n,r){null==n&&function Nt(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function zt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Nn(n){return{providers:n.providers||[],imports:n.imports||[]}}function wn(n){return An(n,Zn)||An(n,Bn)}function xr(n){return null!==wn(n)}function An(n,r){return n.hasOwnProperty(r)?n[r]:null}function $n(n){return n&&(n.hasOwnProperty(hr)||n.hasOwnProperty(Qn))?n[hr]:null}const Zn=Me({\u0275prov:Me}),hr=Me({\u0275inj:Me}),Bn=Me({ngInjectableDef:Me}),Qn=Me({ngInjectorDef:Me});var $t=(()=>(($t=$t||{})[$t.Default=0]="Default",$t[$t.Host=1]="Host",$t[$t.Self=2]="Self",$t[$t.SkipSelf=4]="SkipSelf",$t[$t.Optional=8]="Optional",$t))();let rr;function ir(n){const r=rr;return rr=n,r}function cr(n,r,s){const a=wn(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&$t.Optional?null:void 0!==r?r:void we(Te(n))}function Ct(n){return{toString:n}.toString()}var st=(()=>((st=st||{})[st.OnPush=0]="OnPush",st[st.Default=1]="Default",st))(),Bt=(()=>{return(n=Bt||(Bt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Bt;var n})();const _n=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),qn={},Qe=[],qe=Me({\u0275cmp:Me}),N=Me({\u0275dir:Me}),Z=Me({\u0275pipe:Me}),q=Me({\u0275mod:Me}),Y=Me({\u0275fac:Me}),j=Me({__NG_ELEMENT_ID__:Me});let ee=0;function $(n){return Ct(()=>{const s=!0===n.standalone,a={},u={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===st.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Qe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Bt.Emulated,id:"c"+ee++,styles:n.styles||Qe,_:null,setInput:null,schemas:n.schemas||null,tView:null},f=n.dependencies,v=n.features;return u.inputs=nn(n.inputs,a),u.outputs=nn(n.outputs),v&&v.forEach(A=>A(u)),u.directiveDefs=f?()=>("function"==typeof f?f():f).map(xe).filter(Ge):null,u.pipeDefs=f?()=>("function"==typeof f?f():f).map(mt).filter(Ge):null,u})}function xe(n){return xn(n)||ar(n)}function Ge(n){return null!==n}function ot(n){return Ct(()=>({type:n.type,bootstrap:n.bootstrap||Qe,declarations:n.declarations||Qe,imports:n.imports||Qe,exports:n.exports||Qe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function nn(n,r){if(null==n)return qn;const s={};for(const a in n)if(n.hasOwnProperty(a)){let u=n[a],f=u;Array.isArray(u)&&(f=u[1],u=u[0]),s[u]=a,r&&(r[u]=f)}return s}const ln=$;function mn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function xn(n){return n[qe]||null}function ar(n){return n[N]||null}function mt(n){return n[Z]||null}function Xe(n){const r=xn(n)||ar(n)||mt(n);return null!==r&&r.standalone}function je(n,r){const s=n[q]||null;if(!s&&!0===r)throw new Error(`Type ${Te(n)} does not have '\u0275mod' property.`);return s}function ti(n){return Array.isArray(n)&&"object"==typeof n[1]}function oi(n){return Array.isArray(n)&&!0===n[1]}function Ki(n){return 0!=(8&n.flags)}function Pi(n){return 2==(2&n.flags)}function es(n){return 1==(1&n.flags)}function _i(n){return null!==n.template}function Is(n){return 0!=(256&n[2])}function ts(n,r){return n.hasOwnProperty(Y)?n[Y]:null}class Gi{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function As(){return Os}function Os(n){return n.type.prototype.ngOnChanges&&(n.setInput=vo),ks}function ks(){const n=_o(this),r=n?.current;if(r){const s=n.previous;if(s===qn)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function vo(n,r,s,a){const u=_o(n)||function cs(n,r){return n[no]=r}(n,{previous:qn,current:null}),f=u.current||(u.current={}),v=u.previous,A=this.declaredInputs[s],M=v[A];f[A]=new Gi(M&&M.currentValue,r,v===qn),n[a]=r}As.ngInherit=!0;const no="__ngSimpleChanges__";function _o(n){return n[no]||null}function ni(n){for(;Array.isArray(n);)n=n[0];return n}function Vr(n,r){return ni(r[n])}function $i(n,r){return ni(r[n.index])}function ns(n,r){return n.data[r]}function qs(n,r){return n[r]}function Fr(n,r){const s=r[n];return ti(s)?s:s[0]}function Ls(n){return 64==(64&n[2])}function fs(n,r){return null==r?null:n[r]}function wi(n){n[18]=0}function Gr(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const tr={lFrame:Co(null),bindingsEnabled:!0};function rs(){return tr.bindingsEnabled}function Wt(){return tr.lFrame.lView}function Er(){return tr.lFrame.tView}function Eo(n){return tr.lFrame.contextLView=n,n[8]}function is(n){return tr.lFrame.contextLView=null,n}function ai(){let n=U();for(;null!==n&&64===n.type;)n=n.parent;return n}function U(){return tr.lFrame.currentTNode}function R(n,r){const s=tr.lFrame;s.currentTNode=n,s.isParent=r}function pe(){return tr.lFrame.isParent}function Mt(){tr.lFrame.isParent=!1}function ri(){const n=tr.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Ei(){return tr.lFrame.bindingIndex++}function ya(n,r){const s=tr.lFrame;s.bindingIndex=s.bindingRootIndex=n,Jo(r)}function Jo(n){tr.lFrame.currentDirectiveIndex=n}function Po(){return tr.lFrame.currentQueryIndex}function wo(n){tr.lFrame.currentQueryIndex=n}function xs(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function ea(n,r,s){if(s&$t.SkipSelf){let u=r,f=n;for(;!(u=u.parent,null!==u||s&$t.Host||(u=xs(f),null===u||(f=f[15],10&u.type))););if(null===u)return!1;r=u,n=f}const a=tr.lFrame=na();return a.currentTNode=r,a.lView=n,!0}function ta(n){const r=na(),s=n[1];tr.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function na(){const n=tr.lFrame,r=null===n?null:n.child;return null===r?Co(n):r}function Co(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function ho(){const n=tr.lFrame;return tr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const T=ho;function K(){const n=ho();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ke(){return tr.lFrame.selectedIndex}function Dt(n){tr.lFrame.selectedIndex=n}function Vt(){const n=tr.lFrame;return ns(n.tView,n.selectedIndex)}function Vn(){tr.lFrame.currentNamespace="svg"}function li(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const f=n.data[s].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:A,ngAfterViewInit:M,ngAfterViewChecked:G,ngOnDestroy:de}=f;v&&(n.contentHooks||(n.contentHooks=[])).push(-s,v),A&&((n.contentHooks||(n.contentHooks=[])).push(s,A),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,A)),M&&(n.viewHooks||(n.viewHooks=[])).push(-s,M),G&&((n.viewHooks||(n.viewHooks=[])).push(s,G),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,G)),null!=de&&(n.destroyHooks||(n.destroyHooks=[])).push(s,de)}}function Fi(n,r,s){z(n,r,3,s)}function Ss(n,r,s,a){(3&n[2])===s&&z(n,r,s,a)}function Zs(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function z(n,r,s,a){const f=a??-1,v=r.length-1;let A=0;for(let M=void 0!==a?65535&n[18]:0;M<v;M++)if("number"==typeof r[M+1]){if(A=r[M],null!=a&&A>=a)break}else r[M]<0&&(n[18]+=65536),(A<f||-1==f)&&(y(n,s,r,M),n[18]=(4294901760&n[18])+M+2),M++}function y(n,r,s,a){const u=s[a]<0,f=s[a+1],A=n[u?-s[a]:s[a]];if(u){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{f.call(A)}finally{}}}else try{f.call(A)}finally{}}const b=-1;class F{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Or(n,r,s){let a=0;for(;a<s.length;){const u=s[a];if("number"==typeof u){if(0!==u)break;a++;const f=s[a++],v=s[a++],A=s[a++];n.setAttribute(r,v,A,f)}else{const f=u,v=s[++a];lr(f)?n.setProperty(r,f,v):n.setAttribute(r,f,v),a++}}return a}function wr(n){return 3===n||4===n||6===n}function lr(n){return 64===n.charCodeAt(0)}function dr(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const u=r[a];"number"==typeof u?s=u:0===s||ii(n,s,u,null,-1===s||2===s?r[++a]:null)}}return n}function ii(n,r,s,a,u){let f=0,v=n.length;if(-1===r)v=-1;else for(;f<n.length;){const A=n[f++];if("number"==typeof A){if(A===r){v=-1;break}if(A>r){v=f-1;break}}}for(;f<n.length;){const A=n[f];if("number"==typeof A)break;if(A===s){if(null===a)return void(null!==u&&(n[f+1]=u));if(a===n[f+1])return void(n[f+2]=u)}f++,null!==a&&f++,null!==u&&f++}-1!==v&&(n.splice(v,0,r),f=v+1),n.splice(f++,0,s),null!==a&&n.splice(f++,0,a),null!==u&&n.splice(f++,0,u)}function ui(n){return n!==b}function ur(n){return 32767&n}function Ci(n,r){let s=function Ni(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let bs=!0;function Bs(n){const r=bs;return bs=n,r}let ci=0;const In={};function Qs(n,r){const s=kt(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,Cn(a.data,n),Cn(r,null),Cn(a.blueprint,null));const u=wt(n,r),f=n.injectorIndex;if(ui(u)){const v=ur(u),A=Ci(u,r),M=A[1].data;for(let G=0;G<8;G++)r[f+G]=A[v+G]|M[v+G]}return r[f+8]=u,f}function Cn(n,r){n.push(0,0,0,0,0,0,0,0,r)}function kt(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function wt(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,u=r;for(;null!==u;){if(a=ra(u),null===a)return b;if(s++,u=u[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return b}function On(n,r,s){!function Yn(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(j)&&(a=s[j]),null==a&&(a=s[j]=ci++);const u=255&a;r.data[n+(u>>5)]|=1<<u}(n,r,s)}function Nr(n,r,s){if(s&$t.Optional||void 0!==n)return n;we()}function Yi(n,r,s,a){if(s&$t.Optional&&void 0===a&&(a=null),0==(s&($t.Self|$t.Host))){const u=n[9],f=ir(void 0);try{return u?u.get(r,a,s&$t.Optional):cr(r,a,s&$t.Optional)}finally{ir(f)}}return Nr(a,0,s)}function ps(n,r,s,a=$t.Default,u){if(null!==n){if(1024&r[2]){const v=function Jn(n,r,s,a,u){let f=n,v=r;for(;null!==f&&null!==v&&1024&v[2]&&!(256&v[2]);){const A=Qr(f,v,s,a|$t.Self,In);if(A!==In)return A;let M=f.parent;if(!M){const G=v[21];if(G){const de=G.get(s,In,a);if(de!==In)return de}M=ra(v),v=v[15]}f=M}return u}(n,r,s,a,In);if(v!==In)return v}const f=Qr(n,r,s,a,In);if(f!==In)return f}return Yi(r,s,a,u)}function Qr(n,r,s,a,u){const f=function va(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(j)?n[j]:void 0;return"number"==typeof r?r>=0?255&r:Fo:r}(s);if("function"==typeof f){if(!ea(r,n,a))return a&$t.Host?Nr(u,0,a):Yi(r,s,a,u);try{const v=f(a);if(null!=v||a&$t.Optional)return v;we()}finally{T()}}else if("number"==typeof f){let v=null,A=kt(n,r),M=b,G=a&$t.Host?r[16][6]:null;for((-1===A||a&$t.SkipSelf)&&(M=-1===A?wt(n,r):r[A+8],M!==b&&Xs(a,!1)?(v=r[1],A=ur(M),r=Ci(M,r)):A=-1);-1!==A;){const de=r[1];if(os(f,A,de.data)){const Pe=Do(A,r,s,v,a,G);if(Pe!==In)return Pe}M=r[A+8],M!==b&&Xs(a,r[1].data[A+8]===G)&&os(f,A,r)?(v=de,A=ur(M),r=Ci(M,r)):A=-1}}return u}function Do(n,r,s,a,u,f){const v=r[1],A=v.data[n+8],de=di(A,v,s,null==a?Pi(A)&&bs:a!=v&&0!=(3&A.type),u&$t.Host&&f===A);return null!==de?so(r,v,de,A):In}function di(n,r,s,a,u){const f=n.providerIndexes,v=r.data,A=1048575&f,M=n.directiveStart,de=f>>20,ut=u?A+de:n.directiveEnd;for(let At=a?A:A+de;At<ut;At++){const Zt=v[At];if(At<M&&s===Zt||At>=M&&Zt.type===s)return At}if(u){const At=v[M];if(At&&_i(At)&&At.type===s)return M}return null}function so(n,r,s,a){let u=n[s];const f=r.data;if(function J(n){return n instanceof F}(u)){const v=u;v.resolving&&function Fe(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ze(-200,`Circular dependency in DI detected for ${n}${s}`)}(function at(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Je(n)}(f[s]));const A=Bs(v.canSeeViewProviders);v.resolving=!0;const M=v.injectImpl?ir(v.injectImpl):null;ea(n,a,$t.Default);try{u=n[s]=v.factory(void 0,f,n,a),r.firstCreatePass&&s>=a.directiveStart&&function Mi(n,r,s){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:f}=r.type.prototype;if(a){const v=Os(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,v),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,v)}u&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,u),f&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,f),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,f))}(s,f[s],r)}finally{null!==M&&ir(M),Bs(A),v.resolving=!1,T()}}return u}function os(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Xs(n,r){return!(n&$t.Self||n&$t.Host&&r)}class Wn{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return ps(this._tNode,this._lView,r,a,s)}}function Fo(){return new Wn(ai(),Wt())}function Ia(n){return Ct(()=>{const r=n.prototype.constructor,s=r[Y]||Ri(r),a=Object.prototype;let u=Object.getPrototypeOf(n.prototype).constructor;for(;u&&u!==a;){const f=u[Y]||Ri(u);if(f&&f!==s)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function Ri(n){return it(n)?()=>{const r=Ri(De(n));return r&&r()}:ts(n)}function ra(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function jr(n){return function fr(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let u=0;for(;u<a;){const f=s[u];if(wr(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<a&&"string"==typeof s[u];)u++;else{if(f===r)return s[u+1];u+=2}}}return null}(ai(),n)}const gi="__parameters__";function oo(n,r,s){return Ct(()=>{const a=function Aa(n){return function(...s){if(n){const a=n(...s);for(const u in a)this[u]=a[u]}}}(r);function u(...f){if(this instanceof u)return a.apply(this,f),this;const v=new u(...f);return A.annotation=v,A;function A(M,G,de){const Pe=M.hasOwnProperty(gi)?M[gi]:Object.defineProperty(M,gi,{value:[]})[gi];for(;Pe.length<=de;)Pe.push(null);return(Pe[de]=Pe[de]||[]).push(v),M}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=n,u.annotationCls=u,u})}class Li{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=zt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function go(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),go(a,r)):r!==n&&r.push(a)}return r}function Ts(n,r){n.forEach(s=>Array.isArray(s)?Ts(s,r):r(s))}function wl(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function _a(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function w(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}function $e(n,r,s){let a=Xt(n,r);return a>=0?n[1|a]=s:(a=~a,function O(n,r,s,a){let u=n.length;if(u==r)n.push(s,a);else if(1===u)n.push(a,n[0]),n[0]=s;else{for(u--,n.push(n[u-1],n[u]);u>r;)n[u]=n[u-2],u--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function St(n,r){const s=Xt(n,r);if(s>=0)return n[1|s]}function Xt(n,r){return function Fn(n,r,s){let a=0,u=n.length>>s;for(;u!==a;){const f=a+(u-a>>1),v=n[f<<s];if(r===v)return f<<s;v>r?u=f:a=f+1}return~(u<<s)}(n,r,1)}const xo={},bu="__NG_DI_FLAG__",sa="ngTempTokenPath",$a=/\n/gm,Ma="__source";let ba;function So(n){const r=ba;return ba=n,r}function oa(n,r=$t.Default){if(void 0===ba)throw new ze(-203,!1);return null===ba?cr(n,void 0,r):ba.get(n,r&$t.Optional?null:void 0,r)}function Qi(n,r=$t.Default){return(function Xn(){return rr}()||oa)(De(n),r)}function k(n,r=$t.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),Qi(n,r)}function B(n){const r=[];for(let s=0;s<n.length;s++){const a=De(n[s]);if(Array.isArray(a)){if(0===a.length)throw new ze(900,!1);let u,f=$t.Default;for(let v=0;v<a.length;v++){const A=a[v],M=He(A);"number"==typeof M?-1===M?u=A.token:f|=M:u=A}r.push(Qi(u,f))}else r.push(Qi(a))}return r}function se(n,r){return n[bu]=r,n.prototype[bu]=r,n}function He(n){return n[bu]}const Mn=se(oo("Optional"),8),mr=se(oo("SkipSelf"),4);let td,Ea;function Mf(n){td=n}function Cl(n){return function nd(){if(void 0===Ea&&(Ea=null,_n.trustedTypes))try{Ea=_n.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ea}()?.createHTML(n)||n}class Ko{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class qo extends Ko{getTypeName(){return"HTML"}}class zl extends Ko{getTypeName(){return"Style"}}class Cu extends Ko{getTypeName(){return"Script"}}class rd extends Ko{getTypeName(){return"URL"}}class id extends Ko{getTypeName(){return"ResourceURL"}}function aa(n){return n instanceof Ko?n.changingThisBreaksApplicationSecurity:n}function Dl(n,r){const s=function sd(n){return n instanceof Ko&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function ch(n){return new qo(n)}function dh(n){return new zl(n)}function hh(n){return new Cu(n)}function fh(n){return new rd(n)}function od(n){return new id(n)}class Of{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Cl(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class ph{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Cl(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=Cl(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let u=s.length-1;0<u;u--){const v=s.item(u).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&r.removeAttribute(v)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const Il=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Al(n){return(n=String(n)).match(Il)?n:"unsafe:"+n}function Uo(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function Wl(...n){const r={};for(const s of n)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Ya=Uo("area,br,col,hr,img,wbr"),ad=Uo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ld=Uo("rp,rt"),Xi=Wl(Ya,Wl(ad,Uo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wl(ld,Uo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wl(ld,ad)),ql=Uo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tc=Wl(ql,Uo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Uo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Du=Uo("script,style,template");class kf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let u=this.checkClobberedElement(s,s.nextSibling);if(u){s=u;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!Xi.hasOwnProperty(s))return this.sanitizedSomething=!0,!Du.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let u=0;u<a.length;u++){const f=a.item(u),v=f.name,A=v.toLowerCase();if(!tc.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let M=f.value;ql[A]&&(M=Al(M)),this.buf.push(" ",v,'="',Na(M),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();Xi.hasOwnProperty(s)&&!Ya.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Na(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const nc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,il=/([^\#-~ |!])/g;function Na(n){return n.replace(/&/g,"&amp;").replace(nc,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(il,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Iu;function Yl(n,r){let s=null;try{Iu=Iu||function nl(n){const r=new ph(n);return function rl(){try{return!!(new window.DOMParser).parseFromString(Cl(""),"text/html")}catch{return!1}}()?new Of(r):r}(n);let a=r?String(r):"";s=Iu.getInertBodyElement(a);let u=5,f=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=f,f=s.innerHTML,s=Iu.getInertBodyElement(a)}while(a!==f);return Cl((new kf).sanitizeChildren(rc(s)||s))}finally{if(s){const a=rc(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function rc(n){return"content"in n&&function Zl(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ws=(()=>((ws=ws||{})[ws.NONE=0]="NONE",ws[ws.HTML=1]="HTML",ws[ws.STYLE=2]="STYLE",ws[ws.SCRIPT=3]="SCRIPT",ws[ws.URL=4]="URL",ws[ws.RESOURCE_URL=5]="RESOURCE_URL",ws))();function hi(n){const r=function Yo(){const n=Wt();return n&&n[12]}();return r?r.sanitize(ws.URL,n)||"":Dl(n,"URL")?aa(n):Al(Je(n))}const Au=new Li("ENVIRONMENT_INITIALIZER"),sl=new Li("INJECTOR",-1),sc=new Li("INJECTOR_DEF_TYPES");class dd{get(r,s=xo){if(s===xo){const a=new Error(`NullInjectorError: No provider for ${Te(r)}!`);throw a.name="NullInjectorError",a}return s}}function $r(...n){return{\u0275providers:oc(0,n)}}function oc(n,...r){const s=[],a=new Set;let u;return Ts(r,f=>{const v=f;to(v,s,[],a)&&(u||(u=[]),u.push(v))}),void 0!==u&&xu(u,s),s}function xu(n,r){for(let s=0;s<n.length;s++){const{providers:u}=n[s];Ts(u,f=>{r.push(f)})}}function to(n,r,s,a){if(!(n=De(n)))return!1;let u=null,f=$n(n);const v=!f&&xn(n);if(f||v){if(v&&!v.standalone)return!1;u=n}else{const M=n.ngModule;if(f=$n(M),!f)return!1;u=M}const A=a.has(u);if(v){if(A)return!1;if(a.add(u),v.dependencies){const M="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const G of M)to(G,r,s,a)}}else{if(!f)return!1;{if(null!=f.imports&&!A){let G;a.add(u);try{Ts(f.imports,de=>{to(de,r,s,a)&&(G||(G=[]),G.push(de))})}finally{}void 0!==G&&xu(G,r)}if(!A){const G=ts(u)||(()=>new u);r.push({provide:u,useFactory:G,deps:Qe},{provide:sc,useValue:u,multi:!0},{provide:Au,useValue:()=>Qi(u),multi:!0})}const M=f.providers;null==M||A||Ts(M,de=>{r.push(de)})}}return u!==n&&void 0!==n.providers}const Su=Me({provide:String,useValue:Me});function ac(n){return null!==n&&"object"==typeof n&&Su in n}function xl(n){return"function"==typeof n}const lc=new Li("Set Injector scope."),wa={},_h={};let fd;function al(){return void 0===fd&&(fd=new dd),fd}class ll{}class pd extends ll{constructor(r,s,a,u){super(),this.parent=s,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jl(r,v=>this.processProvider(v)),this.records.set(sl,Cs(void 0,this)),u.has("environment")&&this.records.set(ll,Cs(void 0,this));const f=this.records.get(lc);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(sc.multi,Qe,$t.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=So(this),a=ir(void 0);try{return r()}finally{So(s),ir(a)}}get(r,s=xo,a=$t.Default){this.assertNotDestroyed();const u=So(this),f=ir(void 0);try{if(!(a&$t.SkipSelf)){let A=this.records.get(r);if(void 0===A){const M=function Xl(n){return"function"==typeof n||"object"==typeof n&&n instanceof Li}(r)&&wn(r);A=M&&this.injectableDefInScope(M)?Cs(Ii(r),wa):null,this.records.set(r,A)}if(null!=A)return this.hydrate(r,A)}return(a&$t.Self?al():this.parent).get(r,s=a&$t.Optional&&s===xo?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[sa]=v[sa]||[]).unshift(Te(r)),u)throw v;return function vt(n,r,s,a){const u=n[sa];throw r[Ma]&&u.unshift(r[Ma]),n.message=function Ft(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let u=Te(r);if(Array.isArray(r))u=r.map(Te).join(" -> ");else if("object"==typeof r){let f=[];for(let v in r)if(r.hasOwnProperty(v)){let A=r[v];f.push(v+":"+("string"==typeof A?JSON.stringify(A):Te(A)))}u=`{${f.join(", ")}}`}return`${s}${a?"("+a+")":""}[${u}]: ${n.replace($a,"\n  ")}`}("\n"+n.message,u,s,a),n.ngTokenPath=u,n[sa]=null,n}(v,r,"R3InjectorError",this.source)}throw v}finally{ir(f),So(u)}}resolveInjectorInitializers(){const r=So(this),s=ir(void 0);try{const a=this.get(Au.multi,Qe,$t.Self);for(const u of a)u()}finally{So(r),ir(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Te(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ze(205,!1)}processProvider(r){let s=xl(r=De(r))?r:De(r&&r.provide);const a=function uc(n){return ac(n)?Cs(void 0,n.useValue):Cs(Ql(n),wa)}(r);if(xl(r)||!0!==r.multi)this.records.get(s);else{let u=this.records.get(s);u||(u=Cs(void 0,wa,!0),u.factory=()=>B(u.multi),this.records.set(s,u)),s=r,u.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===wa&&(s.value=_h,s.value=s.factory()),"object"==typeof s.value&&s.value&&function gd(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=De(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Ii(n){const r=wn(n),s=null!==r?r.factory:ts(n);if(null!==s)return s;if(n instanceof Li)throw new ze(204,!1);if(n instanceof Function)return function Ru(n){const r=n.length;if(r>0)throw w(r,"?"),new ze(204,!1);const s=function Gn(n){const r=n&&(n[Zn]||n[Bn]);if(r){const s=function or(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new ze(204,!1)}function Ql(n,r,s){let a;if(xl(n)){const u=De(n);return ts(u)||Ii(u)}if(ac(n))a=()=>De(n.useValue);else if(function Mu(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...B(n.deps||[]));else if(function Tu(n){return!(!n||!n.useExisting)}(n))a=()=>Qi(De(n.useExisting));else{const u=De(n&&(n.useClass||n.provide));if(!function Sl(n){return!!n.deps}(n))return ts(u)||Ii(u);a=()=>new u(...B(n.deps))}return a}function Cs(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function bh(n){return!!n.\u0275providers}function Jl(n,r){for(const s of n)Array.isArray(s)?Jl(s,r):bh(s)?Jl(s.\u0275providers,r):r(s)}class wh{}class d{resolveComponentFactory(r){throw function Nf(n){const r=Error(`No component factory found for ${Te(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let p=(()=>{class n{}return n.NULL=new d,n})();function E(){return W(ai(),Wt())}function W(n,r){return new ve($i(n,r))}let ve=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=E,n})();function ft(n){return n instanceof ve?n.nativeElement:n}class bn{}let zn=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function pr(){const n=Wt(),s=Fr(ai().index,n);return(ti(s)?s:n)[11]}(),n})(),vr=(()=>{class n{}return n.\u0275prov=zt({token:n,providedIn:"root",factory:()=>null}),n})();class Gs{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const ga=new Gs("14.2.3"),Tl={};function Hf(n){return n.ngOriginalError}class vd{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Hf(r);for(;s&&Hf(s);)s=Hf(s);return s||null}}const _d=new Map;let $f=0;const Ol="__ngContext__";function ao(n,r){ti(r)?(n[Ol]=r[20],function tu(n){_d.set(n[20],n)}(r)):n[Ol]=r}function kl(n){return n instanceof Function?n():n}var Va=(()=>((Va=Va||{})[Va.Important=1]="Important",Va[Va.DashCase=2]="DashCase",Va))();function Zf(n,r){return undefined(n,r)}function Pl(n){const r=n[3];return oi(r)?r[3]:r}function Zo(n){return Cd(n[13])}function Sh(n){return Cd(n[4])}function Cd(n){for(;null!==n&&!oi(n);)n=n[4];return n}function Fu(n,r,s,a,u){if(null!=a){let f,v=!1;oi(a)?f=a:ti(a)&&(v=!0,a=a[0]);const A=ni(a);0===n&&null!==s?null==u?su(r,s,A):iu(r,s,A,u||null,!0):1===n&&null!==s?iu(r,s,A,u||null,!0):2===n?function tm(n,r,s){const a=Th(n,r);a&&function Yg(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}(r,A,v):3===n&&r.destroyNode(A),null!=f&&function ep(n,r,s,a,u){const f=s[7];f!==ni(s)&&Fu(r,n,a,f,u);for(let A=10;A<s.length;A++){const M=s[A];Dd(M[1],M,n,r,a,f)}}(r,n,f,s,u)}}function Fl(n,r,s){return n.createElement(r,s)}function zg(n,r){const s=n[9],a=s.indexOf(r),u=r[3];512&r[2]&&(r[2]&=-513,Gr(u,-1)),s.splice(a,1)}function Xf(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const u=a[17];null!==u&&u!==n&&zg(u,a),r>0&&(n[s-1][4]=a[4]);const f=_a(n,10+r);!function tv(n,r){Dd(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const v=f[19];null!==v&&v.detachView(f[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Wg(n,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&Dd(n,r,s,3,null,null),function ru(n){let r=n[13];if(!r)return mc(n[1],n);for(;r;){let s=null;if(ti(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)ti(r)&&mc(r[1],r),r=r[3];null===r&&(r=n),ti(r)&&mc(r[1],r),s=r&&r[4]}r=s}}(r)}}function mc(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function rv(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const u=r[s[a]];if(!(u instanceof F)){const f=s[a+1];if(Array.isArray(f))for(let v=0;v<f.length;v+=2){const A=u[f[v]],M=f[v+1];try{M.call(A)}finally{}}else try{f.call(u)}finally{}}}}(n,r),function Kg(n,r){const s=n.cleanup,a=r[7];let u=-1;if(null!==s)for(let f=0;f<s.length-1;f+=2)if("string"==typeof s[f]){const v=s[f+1],A="function"==typeof v?v(r):ni(r[v]),M=a[u=s[f+2]],G=s[f+3];"boolean"==typeof G?A.removeEventListener(s[f],M,G):G>=0?a[u=G]():a[u=-G].unsubscribe(),f+=2}else{const v=a[u=s[f+1]];s[f].call(v)}if(null!==a){for(let f=u+1;f<a.length;f++)(0,a[f])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&oi(r[3])){s!==r[3]&&zg(s,r);const a=r[19];null!==a&&a.detachView(n)}!function Zy(n){_d.delete(n[20])}(r)}}function Jf(n,r,s){return function qg(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const u=n.data[a.directiveStart].encapsulation;if(u===Bt.None||u===Bt.Emulated)return null}return $i(a,s)}(n,r.parent,s)}function iu(n,r,s,a,u){n.insertBefore(r,s,a,u)}function su(n,r,s){n.appendChild(r,s)}function yc(n,r,s,a,u){null!==a?iu(n,r,s,a,u):su(n,r,s)}function Th(n,r){return n.parentNode(r)}function Qg(n,r,s){return Mh(n,r,s)}let Mh=function Xg(n,r,s){return 40&n.type?$i(n,s):null};function Rh(n,r,s,a){const u=Jf(n,a,r),f=r[11],A=Qg(a.parent||r[6],a,r);if(null!=u)if(Array.isArray(s))for(let M=0;M<s.length;M++)yc(f,u,s[M],A,!1);else yc(f,u,s,A,!1)}function Oh(n,r){if(null!==r){const s=r.type;if(3&s)return $i(r,n);if(4&s)return kh(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Oh(n,a);{const u=n[r.index];return oi(u)?kh(-1,u):ni(u)}}if(32&s)return Zf(r,n)()||ni(n[r.index]);{const a=em(n,r);return null!==a?Array.isArray(a)?a[0]:Oh(Pl(n[16]),a):Oh(n,r.next)}}return null}function em(n,r){return null!==r?n[16][6].projection[r.projection]:null}function kh(n,r){const s=10+n+1;if(s<r.length){const a=r[s],u=a[1].firstChild;if(null!==u)return Oh(a,u)}return r[7]}function vc(n,r,s,a,u,f,v){for(;null!=s;){const A=a[s.index],M=s.type;if(v&&0===r&&(A&&ao(ni(A),a),s.flags|=4),64!=(64&s.flags))if(8&M)vc(n,r,s.child,a,u,f,!1),Fu(r,n,u,A,f);else if(32&M){const G=Zf(s,a);let de;for(;de=G();)Fu(r,n,u,de,f);Fu(r,n,u,A,f)}else 16&M?Ph(n,r,a,s,u,f):Fu(r,n,u,A,f);s=v?s.projectionNext:s.next}}function Dd(n,r,s,a,u,f){vc(s,a,n.firstChild,r,u,f,!1)}function Ph(n,r,s,a,u,f){const v=s[16],M=v[6].projection[a.projection];if(Array.isArray(M))for(let G=0;G<M.length;G++)Fu(r,n,u,M[G],f);else vc(n,r,M,v[3],u,f,!0)}function Ad(n,r,s){n.setAttribute(r,"style",s)}function xd(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function Fh(n,r,s){let a=n.length;for(;;){const u=n.indexOf(r,s);if(-1===u)return u;if(0===u||n.charCodeAt(u-1)<=32){const f=r.length;if(u+f===a||n.charCodeAt(u+f)<=32)return u}s=u+1}}const rm="ng-template";function im(n,r,s){let a=0;for(;a<n.length;){let u=n[a++];if(s&&"class"===u){if(u=n[a],-1!==Fh(u.toLowerCase(),r,0))return!0}else if(1===u){for(;a<n.length&&"string"==typeof(u=n[a++]);)if(u.toLowerCase()===r)return!0;return!1}}return!1}function tp(n){return 4===n.type&&n.value!==rm}function np(n,r,s){return r===(4!==n.type||s?n.value:rm)}function ov(n,r,s){let a=4;const u=n.attrs||[],f=function _c(n){for(let r=0;r<n.length;r++)if(wr(n[r]))return r;return n.length}(u);let v=!1;for(let A=0;A<r.length;A++){const M=r[A];if("number"!=typeof M){if(!v)if(4&a){if(a=2|1&a,""!==M&&!np(n,M,s)||""===M&&1===r.length){if(Ba(a))return!1;v=!0}}else{const G=8&a?M:r[++A];if(8&a&&null!==n.attrs){if(!im(n.attrs,G,s)){if(Ba(a))return!1;v=!0}continue}const Pe=av(8&a?"class":M,u,tp(n),s);if(-1===Pe){if(Ba(a))return!1;v=!0;continue}if(""!==G){let ut;ut=Pe>f?"":u[Pe+1].toLowerCase();const At=8&a?ut:null;if(At&&-1!==Fh(At,G,0)||2&a&&G!==ut){if(Ba(a))return!1;v=!0}}}}else{if(!v&&!Ba(a)&&!Ba(M))return!1;if(v&&Ba(M))continue;v=!1,a=M|1&a}}return Ba(a)||v}function Ba(n){return 0==(1&n)}function av(n,r,s,a){if(null===r)return-1;let u=0;if(a||!s){let f=!1;for(;u<r.length;){const v=r[u];if(v===n)return u;if(3===v||6===v)f=!0;else{if(1===v||2===v){let A=r[++u];for(;"string"==typeof A;)A=r[++u];continue}if(4===v)break;if(0===v){u+=4;continue}}u+=f?1:2}return-1}return function bc(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function rp(n,r,s=!1){for(let a=0;a<r.length;a++)if(ov(n,r[a],s))return!0;return!1}function ip(n,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(n.length===a.length){for(let u=0;u<n.length;u++)if(n[u]!==a[u])continue e;return!0}}return!1}function Sd(n,r){return n?":not("+r.trim()+")":r}function sm(n){let r=n[0],s=1,a=2,u="",f=!1;for(;s<n.length;){let v=n[s];if("string"==typeof v)if(2&a){const A=n[++s];u+="["+v+(A.length>0?'="'+A+'"':"")+"]"}else 8&a?u+="."+v:4&a&&(u+=" "+v);else""!==u&&!Ba(v)&&(r+=Sd(f,u),u=""),a=v,f=f||!Ba(a);s++}return""!==u&&(r+=Sd(f,u)),r}const zr={};function Nh(n){lm(Er(),Wt(),Ke()+n,!1)}function lm(n,r,s,a){if(!a)if(3==(3&r[2])){const f=n.preOrderCheckHooks;null!==f&&Fi(r,f,s)}else{const f=n.preOrderHooks;null!==f&&Ss(r,f,0,s)}Dt(s)}function Hh(n,r=null,s=null,a){const u=op(n,r,s,a);return u.resolveInjectorInitializers(),u}function op(n,r=null,s=null,a,u=new Set){const f=[s||Qe,$r(n)];return a=a||("object"==typeof n?void 0:Te(n)),new pd(f,r||al(),a||null,u)}let Lu=(()=>{class n{static create(s,a){if(Array.isArray(s))return Hh({name:""},a,s,"");{const u=s.name??"";return Hh({name:u},s.parent,s.providers,u)}}}return n.THROW_IF_NOT_FOUND=xo,n.NULL=new dd,n.\u0275prov=zt({token:n,providedIn:"any",factory:()=>Qi(sl)}),n.__NG_ELEMENT_ID__=-1,n})();function au(n,r=$t.Default){const s=Wt();return null===s?Qi(n,r):ps(ai(),s,De(n),r)}function Md(){throw new Error("invalid")}function Rd(n,r){return n<<17|r<<2}function Qo(n){return n>>17&32767}function bp(n){return 2|n}function cl(n){return(131068&n)>>2}function Kh(n,r){return-131069&n|r<<2}function Od(n){return 1|n}function Sm(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const u=s[a],f=s[a+1];if(-1!==f){const v=n.data[f];wo(u),v.contentQueries(2,r[f],f)}}}function Ic(n,r,s,a,u,f,v,A,M,G,de){const Pe=r.blueprint.slice();return Pe[0]=u,Pe[2]=76|a,(null!==de||n&&1024&n[2])&&(Pe[2]|=1024),wi(Pe),Pe[3]=Pe[15]=n,Pe[8]=s,Pe[10]=v||n&&n[10],Pe[11]=A||n&&n[11],Pe[12]=M||n&&n[12]||null,Pe[9]=G||n&&n[9]||null,Pe[6]=f,Pe[20]=function zf(){return $f++}(),Pe[21]=de,Pe[16]=2==r.type?n[16]:Pe,Pe}function Uu(n,r,s,a,u){let f=n.data[r];if(null===f)f=function Tp(n,r,s,a,u){const f=U(),v=pe(),M=n.data[r]=function kp(n,r,s,a,u,f){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?f:f&&f.parent,s,r,a,u);return null===n.firstChild&&(n.firstChild=M),null!==f&&(v?null==f.child&&null!==M.parent&&(f.child=M):null===f.next&&(f.next=M)),M}(n,r,s,a,u),function Xa(){return tr.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=s,f.value=a,f.attrs=u;const v=function L(){const n=tr.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();f.injectorIndex=null===v?-1:v.injectorIndex}return R(f,!0),f}function uu(n,r,s,a){if(0===s)return-1;const u=r.length;for(let f=0;f<s;f++)r.push(a),n.blueprint.push(a),n.data.push(null);return u}function Mp(n,r,s){ta(r);try{const a=n.viewQuery;null!==a&&jd(1,a,s);const u=n.template;null!==u&&Mm(n,r,u,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Sm(n,r),n.staticViewQueries&&jd(2,n.viewQuery,s);const f=n.components;null!==f&&function Tm(n,r){for(let s=0;s<r.length;s++)Av(n,r[s])}(r,f)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,K()}}function Ac(n,r,s,a){const u=r[2];if(128!=(128&u)){ta(r);try{wi(r),function ma(n){return tr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Mm(n,r,s,2,a);const v=3==(3&u);if(v){const G=n.preOrderCheckHooks;null!==G&&Fi(r,G,null)}else{const G=n.preOrderHooks;null!==G&&Ss(r,G,0,null),Zs(r,0)}if(function Vm(n){for(let r=Zo(n);null!==r;r=Sh(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const u=s[a],f=u[3];0==(512&u[2])&&Gr(f,1),u[2]|=512}}}(r),function Up(n){for(let r=Zo(n);null!==r;r=Sh(r))for(let s=10;s<r.length;s++){const a=r[s],u=a[1];Ls(a)&&Ac(u,a,u.template,a[8])}}(r),null!==n.contentQueries&&Sm(n,r),v){const G=n.contentCheckHooks;null!==G&&Fi(r,G)}else{const G=n.contentHooks;null!==G&&Ss(r,G,1),Zs(r,1)}!function xp(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const u=s[a];if(u<0)Dt(~u);else{const f=u,v=s[++a],A=s[++a];ya(v,f),A(2,r[f])}}}finally{Dt(-1)}}(n,r);const A=n.components;null!==A&&function Sp(n,r){for(let s=0;s<r.length;s++)rf(n,r[s])}(r,A);const M=n.viewQuery;if(null!==M&&jd(2,M,a),v){const G=n.viewCheckHooks;null!==G&&Fi(r,G)}else{const G=n.viewHooks;null!==G&&Ss(r,G,2),Zs(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Gr(r[3],-1))}finally{K()}}}function Mm(n,r,s,a,u){const f=Ke(),v=2&a;try{Dt(-1),v&&r.length>22&&lm(n,r,22,!1),s(a,u)}finally{Dt(f)}}function Jh(n,r,s){if(Ki(r)){const u=r.directiveEnd;for(let f=r.directiveStart;f<u;f++){const v=n.data[f];v.contentQueries&&v.contentQueries(1,s[f],f)}}}function Rp(n,r,s){!rs()||(function Ev(n,r,s,a){const u=s.directiveStart,f=s.directiveEnd;n.firstCreatePass||Qs(s,r),ao(a,r);const v=s.initialInputs;for(let A=u;A<f;A++){const M=n.data[A],G=_i(M);G&&Bp(r,s,M);const de=so(r,n,A,s);ao(de,r),null!==v&&Dv(0,A-u,de,M,0,v),G&&(Fr(s.index,r)[8]=de)}}(n,r,s,$i(s,r)),128==(128&s.flags)&&function Fp(n,r,s){const a=s.directiveStart,u=s.directiveEnd,f=s.index,v=function zo(){return tr.lFrame.currentDirectiveIndex}();try{Dt(f);for(let A=a;A<u;A++){const M=n.data[A],G=r[A];Jo(A),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Np(M,G)}}finally{Dt(-1),Jo(v)}}(n,r,s))}function Vd(n,r,s=$i){const a=r.localNames;if(null!==a){let u=r.index+1;for(let f=0;f<a.length;f+=2){const v=a[f+1],A=-1===v?s(r,n):n[v];n[u++]=A}}}function ef(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Bd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Bd(n,r,s,a,u,f,v,A,M,G){const de=22+a,Pe=de+u,ut=function xc(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:zr);return s}(de,Pe),At="function"==typeof G?G():G;return ut[1]={type:n,blueprint:ut,template:s,queries:null,viewQuery:A,declTNode:r,data:ut.slice().fill(null,de),bindingStartIndex:de,expandoStartIndex:Pe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:M,consts:At,incompleteFirstPass:!1}}function Rm(n,r,s,a){const u=lf(r);null===s?u.push(a):(u.push(s),n.firstCreatePass&&Gd(n).push(a,u.length-1))}function hl(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const u=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,u):s[a]=[r,u]}return s}function tf(n,r){const a=r.directiveEnd,u=n.data,f=r.attrs,v=[];let A=null,M=null;for(let G=r.directiveStart;G<a;G++){const de=u[G],Pe=de.inputs,ut=null===f||tp(r)?null:Nm(Pe,f);v.push(ut),A=hl(Pe,G,A),M=hl(de.outputs,G,M)}null!==A&&(A.hasOwnProperty("class")&&(r.flags|=16),A.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=v,r.inputs=A,r.outputs=M}function la(n,r,s,a,u,f,v,A){const M=$i(r,s);let de,G=r.inputs;!A&&null!=G&&(de=G[a])?(Tc(n,s,de,a,u),Pi(r)&&Om(s,r.index)):3&r.type&&(a=function vv(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),u=null!=v?v(u,r.value||"",a):u,f.setProperty(M,a,u))}function Om(n,r){const s=Fr(r,n);16&s[2]||(s[2]|=32)}function Ud(n,r,s,a){let u=!1;if(rs()){const f=function Lp(n,r,s){const a=n.directiveRegistry;let u=null;if(a)for(let f=0;f<a.length;f++){const v=a[f];rp(s,v.selectors,!1)&&(u||(u=[]),On(Qs(s,r),n,v.type),_i(v)?(Vp(n,s),u.unshift(v)):u.push(v))}return u}(n,r,s),v=null===a?null:{"":-1};if(null!==f){u=!0,nf(s,n.data.length,f.length);for(let de=0;de<f.length;de++){const Pe=f[de];Pe.providersResolver&&Pe.providersResolver(Pe)}let A=!1,M=!1,G=uu(n,r,f.length,null);for(let de=0;de<f.length;de++){const Pe=f[de];s.mergedAttrs=dr(s.mergedAttrs,Pe.hostAttrs),Fm(n,s,r,G,Pe),Cv(G,Pe,v),null!==Pe.contentQueries&&(s.flags|=8),(null!==Pe.hostBindings||null!==Pe.hostAttrs||0!==Pe.hostVars)&&(s.flags|=128);const ut=Pe.type.prototype;!A&&(ut.ngOnChanges||ut.ngOnInit||ut.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),A=!0),!M&&(ut.ngOnChanges||ut.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),M=!0),G++}tf(n,s)}v&&function wv(n,r,s){if(r){const a=n.localNames=[];for(let u=0;u<r.length;u+=2){const f=s[r[u+1]];if(null==f)throw new ze(-301,!1);a.push(r[u],f)}}}(s,a,v)}return s.mergedAttrs=dr(s.mergedAttrs,s.attrs),u}function Pm(n,r,s,a,u,f){const v=f.hostBindings;if(v){let A=n.hostBindingOpCodes;null===A&&(A=n.hostBindingOpCodes=[]);const M=~r.index;(function Pp(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(A)!=M&&A.push(M),A.push(a,u,v)}}function Np(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Vp(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Cv(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;_i(r)&&(s[""]=n)}}function nf(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Fm(n,r,s,a,u){n.data[a]=u;const f=u.factory||(u.factory=ts(u.type)),v=new F(f,_i(u),au);n.blueprint[a]=v,s[a]=v,Pm(n,r,0,a,uu(n,s,u.hostVars,zr),u)}function Bp(n,r,s){const a=$i(r,n),u=ef(s),f=n[10],v=sf(n,Ic(n,u,null,s.onPush?32:16,a,r,f,f.createRenderer(a,s),null,null,null));n[r.index]=v}function Ua(n,r,s,a,u,f){const v=$i(n,r);!function Hd(n,r,s,a,u,f,v){if(null==f)n.removeAttribute(r,u,s);else{const A=null==v?Je(f):v(f,a||"",u);n.setAttribute(r,u,A,s)}}(r[11],v,f,n.value,s,a,u)}function Dv(n,r,s,a,u,f){const v=f[r];if(null!==v){const A=a.setInput;for(let M=0;M<v.length;){const G=v[M++],de=v[M++],Pe=v[M++];null!==A?a.setInput(s,Pe,G,de):s[de]=Pe}}}function Nm(n,r){let s=null,a=0;for(;a<r.length;){const u=r[a];if(0!==u)if(5!==u){if("number"==typeof u)break;n.hasOwnProperty(u)&&(null===s&&(s=[]),s.push(u,n[u],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Lm(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function rf(n,r){const s=Fr(r,n);if(Ls(s)){const a=s[1];48&s[2]?Ac(a,s,a.template,s[8]):s[5]>0&&Hp(s)}}function Hp(n){for(let a=Zo(n);null!==a;a=Sh(a))for(let u=10;u<a.length;u++){const f=a[u];if(Ls(f))if(512&f[2]){const v=f[1];Ac(v,f,v.template,f[8])}else f[5]>0&&Hp(f)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const u=Fr(s[a],n);Ls(u)&&u[5]>0&&Hp(u)}}function Av(n,r){const s=Fr(r,n),a=s[1];(function xv(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),Mp(a,s,s[8])}function sf(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function af(n){for(;n;){n[2]|=32;const r=Pl(n);if(Is(n)&&!r)return n;n=r}return null}function Sc(n,r,s,a=!0){const u=r[10];u.begin&&u.begin();try{Ac(n,r,n.template,s)}catch(v){throw a&&jp(r,v),v}finally{u.end&&u.end()}}function jd(n,r,s){wo(0),r(n,s)}function lf(n){return n[7]||(n[7]=[])}function Gd(n){return n.cleanup||(n.cleanup=[])}function jp(n,r){const s=n[9],a=s?s.get(vd,null):null;a&&a.handleError(r)}function Tc(n,r,s,a,u){for(let f=0;f<s.length;){const v=s[f++],A=s[f++],M=r[v],G=n.data[v];null!==G.setInput?G.setInput(M,u,a,A):M[A]=u}}function Mc(n,r,s){let a=s?n.styles:null,u=s?n.classes:null,f=0;if(null!==r)for(let v=0;v<r.length;v++){const A=r[v];"number"==typeof A?f=A:1==f?u=ke(u,A):2==f&&(a=ke(a,A+": "+r[++v]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=u:n.classesWithoutHost=u}function Vl(n,r,s,a,u=!1){for(;null!==s;){const f=r[s.index];if(null!==f&&a.push(ni(f)),oi(f))for(let A=10;A<f.length;A++){const M=f[A],G=M[1].firstChild;null!==G&&Vl(M[1],M,G,a)}const v=s.type;if(8&v)Vl(n,r,s.child,a);else if(32&v){const A=Zf(s,r);let M;for(;M=A();)a.push(M)}else if(16&v){const A=em(r,s);if(Array.isArray(A))a.push(...A);else{const M=Pl(r[16]);Vl(M[1],M,A,a,!0)}}s=u?s.projectionNext:s.next}return a}class Hu{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Vl(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(oi(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Xf(r,a),_a(s,a))}this._attachedToViewContainer=!1}Wg(this._lView[1],this._lView)}onDestroy(r){Rm(this._lView[1],this._lView,null,r)}markForCheck(){af(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Sc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Gg(n,r){Dd(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ze(902,!1);this._appRef=r}}class Tv extends Hu{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Sc(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class Gp extends p{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=xn(r);return new Rc(s,this.ngModule)}}function Um(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class Mv{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const u=this.injector.get(r,Tl,a);return u!==Tl||s===Tl?u:this.parentInjector.get(r,s,a)}}class Rc extends wh{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function om(n){return n.map(sm).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Um(this.componentDef.inputs)}get outputs(){return Um(this.componentDef.outputs)}create(r,s,a,u){let f=(u=u||this.ngModule)instanceof ll?u:u?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const v=f?new Mv(r,f):r,A=v.get(bn,null);if(null===A)throw new ze(407,!1);const M=v.get(vr,null),G=A.createRenderer(null,this.componentDef),de=this.componentDef.selectors[0][0]||"div",Pe=a?function Op(n,r,s){return n.selectRootElement(r,s===Bt.ShadowDom)}(G,a,this.componentDef.encapsulation):Fl(A.createRenderer(null,this.componentDef),de,function Hm(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(de)),ut=this.componentDef.onPush?288:272,At=Bd(0,null,null,1,0,null,null,null,null,null),Zt=Ic(null,At,null,ut,null,null,A,G,M,v,null);let En,Un;ta(Zt);try{const nr=function jm(n,r,s,a,u,f){const v=s[1];s[22]=n;const M=Uu(v,22,2,"#host",null),G=M.mergedAttrs=r.hostAttrs;null!==G&&(Mc(M,G,!0),null!==n&&(Or(u,n,G),null!==M.classes&&xd(u,n,M.classes),null!==M.styles&&Ad(u,n,M.styles)));const de=a.createRenderer(n,r),Pe=Ic(s,ef(r),null,r.onPush?32:16,s[22],M,a,de,f||null,null,null);return v.firstCreatePass&&(On(Qs(M,s),v,r.type),Vp(v,M),nf(M,s.length,1)),sf(s,Pe),s[22]=Pe}(Pe,this.componentDef,Zt,A,G);if(Pe)if(a)Or(G,Pe,["ng-version",ga.full]);else{const{attrs:Dr,classes:dn}=function am(n){const r=[],s=[];let a=1,u=2;for(;a<n.length;){let f=n[a];if("string"==typeof f)2===u?""!==f&&r.push(f,n[++a]):8===u&&s.push(f);else{if(!Ba(u))break;u=f}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Dr&&Or(G,Pe,Dr),dn&&dn.length>0&&xd(G,Pe,dn.join(" "))}if(Un=ns(At,22),void 0!==s){const Dr=Un.projection=[];for(let dn=0;dn<this.ngContentSelectors.length;dn++){const kr=s[dn];Dr.push(null!=kr?Array.from(kr):null)}}En=function $p(n,r,s,a){const u=s[1],f=function bv(n,r,s){const a=ai();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Fm(n,a,r,uu(n,r,1,null),s),tf(n,a));const u=so(r,n,a.directiveStart,a);ao(u,r);const f=$i(a,r);return f&&ao(f,r),u}(u,s,r);if(n[8]=s[8]=f,null!==a)for(const A of a)A(f,r);if(r.contentQueries){const A=ai();r.contentQueries(1,f,A.directiveStart)}const v=ai();return!u.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Dt(v.index),Pm(s[1],v,0,v.directiveStart,v.directiveEnd,r),Np(r,f)),f}(nr,this.componentDef,Zt,[Gm]),Mp(At,Zt,null)}finally{K()}return new Ov(this.componentType,En,W(Un,Zt),Zt,Un)}}class Ov extends class Eh{}{constructor(r,s,a,u,f){super(),this.location=a,this._rootLView=u,this._tNode=f,this.instance=s,this.hostView=this.changeDetectorRef=new Tv(u),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[r])){const f=this._rootLView;Tc(f[1],f,u,r,s),Om(f,this._tNode.index)}}get injector(){return new Wn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Gm(){const n=ai();li(Wt()[1],n)}function cf(n){let r=function zp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let u;if(_i(n))u=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ze(903,!1);u=r.\u0275dir}if(u){if(s){a.push(u);const v=n;v.inputs=yi(n.inputs),v.declaredInputs=yi(n.declaredInputs),v.outputs=yi(n.outputs);const A=u.hostBindings;A&&$d(n,A);const M=u.viewQuery,G=u.contentQueries;if(M&&$m(n,M),G&&zm(n,G),Ne(n.inputs,u.inputs),Ne(n.declaredInputs,u.declaredInputs),Ne(n.outputs,u.outputs),_i(u)&&u.data.animation){const de=n.data;de.animation=(de.animation||[]).concat(u.data.animation)}}const f=u.features;if(f)for(let v=0;v<f.length;v++){const A=f[v];A&&A.ngInherit&&A(n),A===cf&&(s=!1)}}r=Object.getPrototypeOf(r)}!function df(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const u=n[a];u.hostVars=r+=u.hostVars,u.hostAttrs=dr(u.hostAttrs,s=dr(s,u.hostAttrs))}}(a)}function yi(n){return n===qn?{}:n===Qe?[]:n}function $m(n,r){const s=n.viewQuery;n.viewQuery=s?(a,u)=>{r(a,u),s(a,u)}:r}function zm(n,r){const s=n.contentQueries;n.contentQueries=s?(a,u,f)=>{r(a,u,f),s(a,u,f)}:r}function $d(n,r){const s=n.hostBindings;n.hostBindings=s?(a,u)=>{r(a,u),s(a,u)}:r}let Ca=null;function cu(){if(!Ca){const n=_n.Symbol;if(n&&n.iterator)Ca=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Ca=a)}}}return Ca}function du(n){return!!Wp(n)&&(Array.isArray(n)||!(n instanceof Map)&&cu()in n)}function Wp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function pl(n,r,s){return n[r]=s}function si(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function hf(n,r,s,a){const u=Wt();return si(u,Ei(),r)&&(Er(),Ua(Vt(),u,n,r,s,a)),hf}function qd(n,r,s,a,u,f,v,A){const M=Wt(),G=Er(),de=n+22,Pe=G.firstCreatePass?function Xm(n,r,s,a,u,f,v,A,M){const G=r.consts,de=Uu(r,n,4,v||null,fs(G,A));Ud(r,s,de,fs(G,M)),li(r,de);const Pe=de.tViews=Bd(2,de,a,u,f,r.directiveRegistry,r.pipeRegistry,null,r.schemas,G);return null!==r.queries&&(r.queries.template(r,de),Pe.queries=r.queries.embeddedTView(de)),de}(de,G,M,r,s,a,u,f,v):G.data[de];R(Pe,!1);const ut=M[11].createComment("");Rh(G,M,ut,Pe),ao(ut,M),sf(M,M[de]=Lm(ut,M,ut,Pe)),es(Pe)&&Rp(G,M,Pe),null!=v&&Vd(M,Pe,A)}function fu(n){return qs(function pi(){return tr.lFrame.contextLView}(),22+n)}function Uc(n,r,s){const a=Wt();return si(a,Ei(),r)&&la(Er(),Vt(),a,n,r,a[11],s,!1),Uc}function Gu(n,r,s,a,u){const v=u?"class":"style";Tc(n,s,r.inputs[v],v,a)}function Hc(n,r,s,a){const u=Wt(),f=Er(),v=22+n,A=u[11],M=u[v]=Fl(A,r,function Br(){return tr.lFrame.currentNamespace}()),G=f.firstCreatePass?function Jm(n,r,s,a,u,f,v){const A=r.consts,G=Uu(r,n,2,u,fs(A,f));return Ud(r,s,G,fs(A,v)),null!==G.attrs&&Mc(G,G.attrs,!1),null!==G.mergedAttrs&&Mc(G,G.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,G),G}(v,f,u,0,r,s,a):f.data[v];R(G,!0);const de=G.mergedAttrs;null!==de&&Or(A,M,de);const Pe=G.classes;null!==Pe&&xd(A,M,Pe);const ut=G.styles;return null!==ut&&Ad(A,M,ut),64!=(64&G.flags)&&Rh(f,u,M,G),0===function Vs(){return tr.lFrame.elementDepthCount}()&&ao(M,u),function bo(){tr.lFrame.elementDepthCount++}(),es(G)&&(Rp(f,u,G),Jh(f,G,u)),null!==a&&Vd(u,G),Hc}function ff(){let n=ai();pe()?Mt():(n=n.parent,R(n,!1));const r=n;!function Ys(){tr.lFrame.elementDepthCount--}();const s=Er();return s.firstCreatePass&&(li(s,n),Ki(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function It(n){return 0!=(16&n.flags)}(r)&&Gu(s,r,Wt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function qt(n){return 0!=(32&n.flags)}(r)&&Gu(s,r,Wt(),r.stylesWithoutHost,!1),ff}function Zp(n,r,s,a){return Hc(n,r,s,a),ff(),Zp}function jc(n,r,s){const a=Wt(),u=Er(),f=n+22,v=u.firstCreatePass?function Nv(n,r,s,a,u){const f=r.consts,v=fs(f,a),A=Uu(r,n,8,"ng-container",v);return null!==v&&Mc(A,v,!0),Ud(r,s,A,fs(f,u)),null!==r.queries&&r.queries.elementStart(r,A),A}(f,u,a,r,s):u.data[f];R(v,!0);const A=a[f]=a[11].createComment("");return Rh(u,a,A,v),ao(A,a),es(v)&&(Rp(u,a,v),Jh(u,v,a)),null!=s&&Vd(a,v),jc}function Gc(){let n=ai();const r=Er();return pe()?Mt():(n=n.parent,R(n,!1)),r.firstCreatePass&&(li(r,n),Ki(n)&&r.queries.elementEnd(n)),Gc}function pf(n,r,s){return jc(n,r,s),Gc(),pf}function pu(){return Wt()}function gf(n){return!!n&&"function"==typeof n.then}function Qp(n){return!!n&&"function"==typeof n.subscribe}const mf=Qp;function Yd(n,r,s,a){const u=Wt(),f=Er(),v=ai();return function Zd(n,r,s,a,u,f,v,A){const M=es(a),de=n.firstCreatePass&&Gd(n),Pe=r[8],ut=lf(r);let At=!0;if(3&a.type||A){const Un=$i(a,r),nr=A?A(Un):Un,Dr=ut.length,dn=A?Wi=>A(ni(Wi[a.index])):a.index;let kr=null;if(!A&&M&&(kr=function yf(n,r,s,a){const u=n.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const v=u[f];if(v===s&&u[f+1]===a){const A=r[7],M=u[f+2];return A.length>M?A[M]:null}"string"==typeof v&&(f+=2)}return null}(n,r,u,a.index)),null!==kr)(kr.__ngLastListenerFn__||kr).__ngNextListenerFn__=f,kr.__ngLastListenerFn__=f,At=!1;else{f=$c(a,r,Pe,f,!1);const Wi=s.listen(nr,u,f);ut.push(f,Wi),de&&de.push(u,dn,Dr,Dr+1)}}else f=$c(a,r,Pe,f,!1);const Zt=a.outputs;let En;if(At&&null!==Zt&&(En=Zt[u])){const Un=En.length;if(Un)for(let nr=0;nr<Un;nr+=2){const $s=r[En[nr]][En[nr+1]].subscribe(f),sh=ut.length;ut.push(f,$s),de&&de.push(u,a.index,sh,-(sh+1))}}}(f,u,u[11],v,n,r,0,a),Yd}function Xp(n,r,s,a){try{return!1!==s(a)}catch(u){return jp(n,u),!1}}function $c(n,r,s,a,u){return function f(v){if(v===Function)return a;af(2&n.flags?Fr(n.index,r):r);let M=Xp(r,0,a,v),G=f.__ngNextListenerFn__;for(;G;)M=Xp(r,0,G,v)&&M,G=G.__ngNextListenerFn__;return u&&!1===M&&(v.preventDefault(),v.returnValue=!1),M}}function ty(n=1){return function P(n){return(tr.lFrame.contextLView=function le(n,r){for(;n>0;)r=r[15],n--;return r}(n,tr.lFrame.contextLView))[8]}(n)}function vf(n,r){let s=null;const a=function lv(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let u=0;u<r.length;u++){const f=r[u];if("*"!==f){if(null===a?rp(n,f,!0):ip(a,f))return u}else s=u}return s}function gu(n){const r=Wt()[16][6];if(!r.projection){const a=r.projection=w(n?n.length:1,null),u=a.slice();let f=r.child;for(;null!==f;){const v=n?vf(f,n):0;null!==v&&(u[v]?u[v].projectionNext=f:a[v]=f,u[v]=f),f=f.next}}}function ml(n,r=0,s){const a=Wt(),u=Er(),f=Uu(u,22+n,16,null,s||null);null===f.projection&&(f.projection=r),Mt(),64!=(64&f.flags)&&function nm(n,r,s){Ph(r[11],0,r,s,Jf(n,s,r),Qg(s.parent||r[6],s,r))}(u,a,f)}function ay(n,r,s,a,u){const f=n[s+1],v=null===r;let A=a?Qo(f):cl(f),M=!1;for(;0!==A&&(!1===M||v);){const de=n[A+1];ly(n[A],r)&&(M=!0,n[A+1]=a?Od(de):bp(de)),A=a?Qo(de):cl(de)}M&&(n[s+1]=a?bp(f):Od(f))}function ly(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Xt(n,r)>=0}function sg(n,r,s){return Qa(n,r,s,!1),sg}function Ul(n,r){return Qa(n,r,null,!0),Ul}function Qa(n,r,s,a){const u=Wt(),f=Er(),v=function io(n){const r=tr.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(2);f.firstUpdatePass&&function fy(n,r,s,a){const u=n.data;if(null===u[s+1]){const f=u[Ke()],v=function og(n,r){return r>=n.expandoStartIndex}(n,s);(function Kv(n,r){return 0!=(n.flags&(r?16:32))})(f,a)&&null===r&&!v&&(r=!1),r=function Gv(n,r,s,a){const u=function co(n){const r=tr.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let f=a?r.residualClasses:r.residualStyles;if(null===u)0===(a?r.classBindings:r.styleBindings)&&(s=Jd(s=Xd(null,n,r,s,a),r.attrs,a),f=null);else{const v=r.directiveStylingLast;if(-1===v||n[v]!==u)if(s=Xd(u,n,r,s,a),null===f){let M=function py(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==cl(a))return n[Qo(a)]}(n,r,a);void 0!==M&&Array.isArray(M)&&(M=Xd(null,n,r,M[1],a),M=Jd(M,r.attrs,a),function $v(n,r,s,a){n[Qo(s?r.classBindings:r.styleBindings)]=a}(n,r,a,M))}else f=function Kc(n,r,s){let a;const u=r.directiveEnd;for(let f=1+r.directiveStylingLast;f<u;f++)a=Jd(a,n[f].hostAttrs,s);return Jd(a,r.attrs,s)}(n,r,a)}return void 0!==f&&(a?r.residualClasses=f:r.residualStyles=f),s}(u,f,r,a),function oy(n,r,s,a,u,f){let v=f?r.classBindings:r.styleBindings,A=Qo(v),M=cl(v);n[a]=s;let de,G=!1;if(Array.isArray(s)){const Pe=s;de=Pe[1],(null===de||Xt(Pe,de)>0)&&(G=!0)}else de=s;if(u)if(0!==M){const ut=Qo(n[A+1]);n[a+1]=Rd(ut,A),0!==ut&&(n[ut+1]=Kh(n[ut+1],a)),n[A+1]=function fv(n,r){return 131071&n|r<<17}(n[A+1],a)}else n[a+1]=Rd(A,0),0!==A&&(n[A+1]=Kh(n[A+1],a)),A=a;else n[a+1]=Rd(M,0),0===A?A=a:n[M+1]=Kh(n[M+1],a),M=a;G&&(n[a+1]=bp(n[a+1])),ay(n,de,a,!0),ay(n,de,a,!1),function Lv(n,r,s,a,u){const f=u?n.residualClasses:n.residualStyles;null!=f&&"string"==typeof r&&Xt(f,r)>=0&&(s[a+1]=Od(s[a+1]))}(r,de,n,a,f),v=Rd(A,M),f?r.classBindings=v:r.styleBindings=v}(u,f,r,s,v,a)}}(f,n,v,a),r!==zr&&si(u,v,r)&&function my(n,r,s,a,u,f,v,A){if(!(3&r.type))return;const M=n.data,G=M[A+1];_f(function mm(n){return 1==(1&n)}(G)?yy(M,r,s,u,cl(G),v):void 0)||(_f(f)||function Wh(n){return 2==(2&n)}(G)&&(f=yy(M,null,s,u,A,v)),function Id(n,r,s,a,u){if(r)u?n.addClass(s,a):n.removeClass(s,a);else{let f=-1===a.indexOf("-")?void 0:Va.DashCase;null==u?n.removeStyle(s,a,f):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),f|=Va.Important),n.setStyle(s,a,u,f))}}(a,v,Vr(Ke(),s),u,f))}(f,f.data[Ke()],u,u[11],n,u[v+1]=function n0(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Te(aa(n)))),n}(r,s),a,v)}function Xd(n,r,s,a,u){let f=null;const v=s.directiveEnd;let A=s.directiveStylingLast;for(-1===A?A=s.directiveStart:A++;A<v&&(f=r[A],a=Jd(a,f.hostAttrs,u),f!==n);)A++;return null!==n&&(s.directiveStylingLast=A),a}function Jd(n,r,s){const a=s?1:2;let u=-1;if(null!==r)for(let f=0;f<r.length;f++){const v=r[f];"number"==typeof v?u=v:u===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),$e(n,v,!!s||r[++f]))}return void 0===n?null:n}function yy(n,r,s,a,u,f){const v=null===r;let A;for(;u>0;){const M=n[u],G=Array.isArray(M),de=G?M[1]:M,Pe=null===de;let ut=s[u+1];ut===zr&&(ut=Pe?Qe:void 0);let At=Pe?St(ut,a):de===a?ut:void 0;if(G&&!_f(At)&&(At=St(M,a)),_f(At)&&(A=At,v))return A;const Zt=n[u+1];u=v?Qo(Zt):cl(Zt)}if(null!==r){let M=f?r.residualClasses:r.residualStyles;null!=M&&(A=St(M,a))}return A}function _f(n){return void 0!==n}function ag(n,r=""){const s=Wt(),a=Er(),u=n+22,f=a.firstCreatePass?Uu(a,u,1,r,null):a.data[u],v=s[u]=function ul(n,r){return n.createText(r)}(s[11],r);Rh(a,s,v,f),R(f,!1)}function lg(n){return bf("",n,""),lg}function bf(n,r,s){const a=Wt(),u=function Pc(n,r,s,a){return si(n,Ei(),s)?r+Je(s)+a:zr}(a,n,r,s);return u!==zr&&function fl(n,r,s){const a=Vr(r,n);!function Nu(n,r,s){n.setValue(r,s)}(n[11],a,s)}(a,Ke(),u),bf}function nh(n,r,s){const a=Wt();return si(a,Ei(),r)&&la(Er(),Vt(),a,n,r,a[11],s,!0),nh}const mu=void 0;var gg=["en",[["a","p"],["AM","PM"],mu],[["AM","PM"],mu,mu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mu,"{1} 'at' {0}",mu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Zv(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Zc={};function Df(n){const r=function e_(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=mg(r);if(s)return s;const a=r.split("-")[0];if(s=mg(a),s)return s;if("en"===a)return gg;throw new ze(701,!1)}function Ry(n){return Df(n)[Cr.PluralCase]}function mg(n){return n in Zc||(Zc[n]=_n.ng&&_n.ng.common&&_n.ng.common.locales&&_n.ng.common.locales[n]),Zc[n]}var Cr=(()=>((Cr=Cr||{})[Cr.LocaleId=0]="LocaleId",Cr[Cr.DayPeriodsFormat=1]="DayPeriodsFormat",Cr[Cr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Cr[Cr.DaysFormat=3]="DaysFormat",Cr[Cr.DaysStandalone=4]="DaysStandalone",Cr[Cr.MonthsFormat=5]="MonthsFormat",Cr[Cr.MonthsStandalone=6]="MonthsStandalone",Cr[Cr.Eras=7]="Eras",Cr[Cr.FirstDayOfWeek=8]="FirstDayOfWeek",Cr[Cr.WeekendRange=9]="WeekendRange",Cr[Cr.DateFormat=10]="DateFormat",Cr[Cr.TimeFormat=11]="TimeFormat",Cr[Cr.DateTimeFormat=12]="DateTimeFormat",Cr[Cr.NumberSymbols=13]="NumberSymbols",Cr[Cr.NumberFormats=14]="NumberFormats",Cr[Cr.CurrencyCode=15]="CurrencyCode",Cr[Cr.CurrencySymbol=16]="CurrencySymbol",Cr[Cr.CurrencyName=17]="CurrencyName",Cr[Cr.Currencies=18]="Currencies",Cr[Cr.Directionality=19]="Directionality",Cr[Cr.PluralCase=20]="PluralCase",Cr[Cr.ExtraData=21]="ExtraData",Cr))();const Qc="en-US";let h=Qc;function r_(n,r,s,a,u){if(n=De(n),Array.isArray(n))for(let f=0;f<n.length;f++)r_(n[f],r,s,a,u);else{const f=Er(),v=Wt();let A=xl(n)?n:De(n.provide),M=Ql(n);const G=ai(),de=1048575&G.providerIndexes,Pe=G.directiveStart,ut=G.providerIndexes>>20;if(xl(n)||!n.multi){const At=new F(M,u,au),Zt=s_(A,r,u?de:de+ut,Pe);-1===Zt?(On(Qs(G,v),f,A),i_(f,n,r.length),r.push(A),G.directiveStart++,G.directiveEnd++,u&&(G.providerIndexes+=1048576),s.push(At),v.push(At)):(s[Zt]=At,v[Zt]=At)}else{const At=s_(A,r,de+ut,Pe),Zt=s_(A,r,de,de+ut),En=At>=0&&s[At],Un=Zt>=0&&s[Zt];if(u&&!Un||!u&&!En){On(Qs(G,v),f,A);const nr=function kE(n,r,s,a,u){const f=new F(n,s,au);return f.multi=[],f.index=r,f.componentProviders=0,b0(f,u,a&&!s),f}(u?OE:RE,s.length,u,a,M);!u&&Un&&(s[Zt].providerFactory=nr),i_(f,n,r.length,0),r.push(A),G.directiveStart++,G.directiveEnd++,u&&(G.providerIndexes+=1048576),s.push(nr),v.push(nr)}else i_(f,n,At>-1?At:Zt,b0(s[u?Zt:At],M,!u&&a));!u&&a&&Un&&s[Zt].componentProviders++}}}function i_(n,r,s,a){const u=xl(r),f=function hd(n){return!!n.useClass}(r);if(u||f){const M=(f?De(r.useClass):r).prototype.ngOnDestroy;if(M){const G=n.destroyHooks||(n.destroyHooks=[]);if(!u&&r.multi){const de=G.indexOf(s);-1===de?G.push(s,[a,M]):G[de+1].push(a,M)}else G.push(s,M)}}}function b0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function s_(n,r,s,a){for(let u=s;u<a;u++)if(r[u]===n)return u;return-1}function RE(n,r,s,a){return o_(this.multi,[])}function OE(n,r,s,a){const u=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,A=so(s,s[1],this.providerFactory.index,a);f=A.slice(0,v),o_(u,f);for(let M=v;M<A.length;M++)f.push(A[M])}else f=[],o_(u,f);return f}function o_(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function E0(n,r=[]){return s=>{s.providersResolver=(a,u)=>function ME(n,r,s){const a=Er();if(a.firstCreatePass){const u=_i(n);r_(s,a.data,a.blueprint,u,!0),r_(r,a.data,a.blueprint,u,!1)}}(a,u?u(n):n,r)}}class If{}class w0{}function PE(n,r){return new C0(n,r??null)}class C0 extends If{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gp(this);const a=je(r);this._bootstrapComponents=kl(a.bootstrap),this._r3Injector=op(r,s,[{provide:If,useValue:this},{provide:p,useValue:this.componentFactoryResolver}],Te(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class a_ extends w0{constructor(r){super(),this.moduleType=r}create(r){return new C0(this.moduleType,r)}}class FE extends If{constructor(r,s,a){super(),this.componentFactoryResolver=new Gp(this),this.instance=null;const u=new pd([...r,{provide:If,useValue:this},{provide:p,useValue:this.componentFactoryResolver}],s||al(),a,new Set(["environment"]));this.injector=u,u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function l_(n,r,s=null){return new FE(n,r,s).injector}let NE=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=oc(0,s.type),u=a.length>0?l_([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,u)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=zt({token:n,providedIn:"environment",factory:()=>new n(Qi(ll))}),n})();function D0(n){n.getStandaloneInjector=r=>r.get(NE).getOrCreateStandaloneInjector(n)}function R0(n,r,s,a){return function O0(n,r,s,a,u,f){const v=r+s;return si(n,v,u)?pl(n,v+1,f?a.call(f,u):a(u)):bg(n,v+1)}(Wt(),ri(),n,r,s,a)}function bg(n,r){const s=n[r];return s===zr?void 0:s}function k0(n,r,s,a,u,f,v){const A=r+s;return function Oc(n,r,s,a){const u=si(n,r,s);return si(n,r+1,a)||u}(n,A,u,f)?pl(n,A+2,v?a.call(v,u,f):a(u,f)):bg(n,A+2)}function L0(n,r){const s=Er();let a;const u=n+22;s.firstCreatePass?(a=function ew(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[u]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(u,a.onDestroy)):a=s.data[u];const f=a.factory||(a.factory=ts(a.type)),v=ir(au);try{const A=Bs(!1),M=f();return Bs(A),function Fv(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,Wt(),u,M),M}finally{ir(v)}}function V0(n,r,s,a){const u=n+22,f=Wt(),v=qs(f,u);return function Eg(n,r){return n[1].data[r].pure}(f,u)?k0(f,ri(),r,v.transform,s,a,v):v.transform(s,a)}function c_(n){return r=>{setTimeout(n,void 0,r)}}const yu=class sw extends c.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let u=r,f=s||(()=>null),v=a;if(r&&"object"==typeof r){const M=r;u=M.next?.bind(M),f=M.error?.bind(M),v=M.complete?.bind(M)}this.__isAsync&&(f=c_(f),u&&(u=c_(u)),v&&(v=c_(v)));const A=super.subscribe({next:u,error:f,complete:v});return r instanceof C.w0&&r.add(A),A}};function ow(){return this._results[cu()]()}class Fy{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=cu(),a=Fy.prototype;a[s]||(a[s]=ow)}get changes(){return this._changes||(this._changes=new yu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const u=go(r);(this._changesDetected=!function Vo(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let u=n[a],f=r[a];if(s&&(u=s(u),f=s(f)),f!==u)return!1}return!0}(a._results,u,s))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let wg=(()=>{class n{}return n.__NG_ELEMENT_ID__=uw,n})();const aw=wg,lw=class extends aw{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,u=Ic(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);u[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(u[19]=v.createEmbeddedView(a)),Mp(a,u,r),new Hu(u)}};function uw(){return Ny(ai(),Wt())}function Ny(n,r){return 4&n.type?new lw(r,n,W(n,r)):null}let Ly=(()=>{class n{}return n.__NG_ELEMENT_ID__=cw,n})();function cw(){return H0(ai(),Wt())}const dw=Ly,B0=class extends dw{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return W(this._hostTNode,this._hostLView)}get injector(){return new Wn(this._hostTNode,this._hostLView)}get parentInjector(){const r=wt(this._hostTNode,this._hostLView);if(ui(r)){const s=Ci(r,this._hostLView),a=ur(r);return new Wn(s[1].data[a+8],s)}return new Wn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=U0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let u,f;"number"==typeof a?u=a:null!=a&&(u=a.index,f=a.injector);const v=r.createEmbeddedView(s||{},f);return this.insert(v,u),v}createComponent(r,s,a,u,f){const v=r&&!function Sa(n){return"function"==typeof n}(r);let A;if(v)A=s;else{const Pe=s||{};A=Pe.index,a=Pe.injector,u=Pe.projectableNodes,f=Pe.environmentInjector||Pe.ngModuleRef}const M=v?r:new Rc(xn(r)),G=a||this.parentInjector;if(!f&&null==M.ngModule){const ut=(v?G:this.parentInjector).get(ll,null);ut&&(f=ut)}const de=M.create(G,u,void 0,f);return this.insert(de.hostView,A),de}insert(r,s){const a=r._lView,u=a[1];if(function qi(n){return oi(n[3])}(a)){const de=this.indexOf(r);if(-1!==de)this.detach(de);else{const Pe=a[3],ut=new B0(Pe,Pe[6],Pe[3]);ut.detach(ut.indexOf(r))}}const f=this._adjustIndex(s),v=this._lContainer;!function $g(n,r,s,a){const u=10+a,f=s.length;a>0&&(s[u-1][4]=r),a<f-10?(r[4]=s[u],wl(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const v=r[17];null!==v&&s!==v&&function nv(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(v,r);const A=r[19];null!==A&&A.insertView(n),r[2]|=64}(u,a,v,f);const A=kh(f,v),M=a[11],G=Th(M,v[7]);return null!==G&&function gc(n,r,s,a,u,f){a[0]=u,a[6]=r,Dd(n,a,s,1,u,f)}(u,v[6],M,a,G,A),r.attachToViewContainerRef(),wl(d_(v),f,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=U0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Xf(this._lContainer,s);a&&(_a(d_(this._lContainer),s),Wg(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Xf(this._lContainer,s);return a&&null!=_a(d_(this._lContainer),s)?new Hu(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function U0(n){return n[8]}function d_(n){return n[8]||(n[8]=[])}function H0(n,r){let s;const a=r[n.index];if(oi(a))s=a;else{let u;if(8&n.type)u=ni(a);else{const f=r[11];u=f.createComment("");const v=$i(n,r);iu(f,Th(f,v),u,function Zg(n,r){return n.nextSibling(r)}(f,v),!1)}r[n.index]=s=Lm(a,r,u,n),sf(r,s)}return new B0(s,n,r)}class h_{constructor(r){this.queryList=r,this.matches=null}clone(){return new h_(this.queryList)}setDirty(){this.queryList.setDirty()}}class f_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,u=[];for(let f=0;f<a;f++){const v=s.getByIndex(f);u.push(this.queries[v.indexInDeclarationView].clone())}return new f_(u)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==Z0(r,s).matches&&this.queries[s].setDirty()}}class j0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class p_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const u=null!==s?s.length:0,f=this.getByIndex(a).embeddedTView(r,u);f&&(f.indexInDeclarationView=a,null!==s?s.push(f):s=[f])}return null!==s?new p_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class g_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new g_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const f=a[u];this.matchTNodeWithReadOption(r,s,pw(s,f)),this.matchTNodeWithReadOption(r,s,di(s,r,f,!1,!1))}else a===wg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,di(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===ve||u===Ly||u===wg&&4&s.type)this.addMatch(s.index,-2);else{const f=di(s,r,u,!1,!1);null!==f&&this.addMatch(s.index,f)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function pw(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function mw(n,r,s,a){return-1===s?function gw(n,r){return 11&n.type?W(n,r):4&n.type?Ny(n,r):null}(r,n):-2===s?function yw(n,r,s){return s===ve?W(r,n):s===wg?Ny(r,n):s===Ly?H0(r,n):void 0}(n,r,a):so(n,n[1],s,r)}function G0(n,r,s,a){const u=r[19].queries[a];if(null===u.matches){const f=n.data,v=s.matches,A=[];for(let M=0;M<v.length;M+=2){const G=v[M];A.push(G<0?null:mw(r,f[G],v[M+1],s.metadata.read))}u.matches=A}return u.matches}function m_(n,r,s,a){const u=n.queries.getByIndex(s),f=u.matches;if(null!==f){const v=G0(n,r,u,s);for(let A=0;A<f.length;A+=2){const M=f[A];if(M>0)a.push(v[A/2]);else{const G=f[A+1],de=r[-M];for(let Pe=10;Pe<de.length;Pe++){const ut=de[Pe];ut[17]===ut[3]&&m_(ut[1],ut,G,a)}if(null!==de[9]){const Pe=de[9];for(let ut=0;ut<Pe.length;ut++){const At=Pe[ut];m_(At[1],At,G,a)}}}}}return a}function $0(n){const r=Wt(),s=Er(),a=Po();wo(a+1);const u=Z0(s,a);if(n.dirty&&function jo(n){return 4==(4&n[2])}(r)===(2==(2&u.metadata.flags))){if(null===u.matches)n.reset([]);else{const f=u.crossesNgTemplate?m_(s,r,a,[]):G0(s,r,u,a);n.reset(f,ft),n.notifyOnChanges()}return!0}return!1}function z0(n,r,s){const a=Er();a.firstCreatePass&&(Y0(a,new j0(n,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),q0(a,Wt(),r)}function W0(n,r,s,a){const u=Er();if(u.firstCreatePass){const f=ai();Y0(u,new j0(r,s,a),f.index),function _w(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(u,n),2==(2&s)&&(u.staticContentQueries=!0)}q0(u,Wt(),s)}function K0(){return function vw(n,r){return n[19].queries[r].queryList}(Wt(),Po())}function q0(n,r,s){const a=new Fy(4==(4&s));Rm(n,r,a,a.destroy),null===r[19]&&(r[19]=new f_),r[19].queries.push(new h_(a))}function Y0(n,r,s){null===n.queries&&(n.queries=new p_),n.queries.track(new g_(r,s))}function Z0(n,r){return n.queries.getByIndex(r)}function By(...n){}const gb=new Li("Application Initializer");let Uy=(()=>{class n{constructor(s){this.appInits=s,this.resolve=By,this.reject=By,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const f=this.appInits[u]();if(gf(f))s.push(f);else if(mf(f)){const v=new Promise((A,M)=>{f.subscribe({complete:A,error:M})});s.push(v)}}Promise.all(s).then(()=>{a()}).catch(u=>{this.reject(u)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(Qi(gb,8))},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mb=new Li("AppId",{providedIn:"root",factory:function yb(){return`${E_()}${E_()}${E_()}`}});function E_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vb=new Li("Platform Initializer"),Uw=new Li("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_b=new Li("appBootstrapListener"),Hw=new Li("AnimationModuleType");let jw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Hy=new Li("LocaleId",{providedIn:"root",factory:()=>k(Hy,$t.Optional|$t.SkipSelf)||function Gw(){return typeof $localize<"u"&&$localize.locale||Qc}()}),$w=new Li("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class zw{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let Ww=(()=>{class n{compileModuleSync(s){return new a_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),f=kl(je(s).declarations).reduce((v,A)=>{const M=xn(A);return M&&v.push(new Rc(M)),v},[]);return new zw(a,f)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yw=(()=>Promise.resolve(0))();function w_(n){typeof Zone>"u"?Yw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class bl{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yu(!1),this.onMicrotaskEmpty=new yu(!1),this.onStable=new yu(!1),this.onError=new yu(!1),typeof Zone>"u")throw new ze(908,!1);Zone.assertZonePatched();const u=this;if(u._nesting=0,u._outer=u._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const f=Zone.AsyncStackTaggingZoneSpec;u._inner=u._inner.fork(new f("Angular"))}Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&s,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function Zw(){let n=_n.requestAnimationFrame,r=_n.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Jw(n){const r=()=>{!function Xw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(_n,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,D_(n),n.isCheckStableRunning=!0,C_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),D_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,u,f,v,A)=>{try{return wb(n),s.invokeTask(u,f,v,A)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||n.shouldCoalesceRunChangeDetection)&&r(),Cb(n)}},onInvoke:(s,a,u,f,v,A,M)=>{try{return wb(n),s.invoke(u,f,v,A,M)}finally{n.shouldCoalesceRunChangeDetection&&r(),Cb(n)}},onHasTask:(s,a,u,f)=>{s.hasTask(u,f),a===u&&("microTask"==f.change?(n._hasPendingMicrotasks=f.microTask,D_(n),C_(n)):"macroTask"==f.change&&(n.hasPendingMacrotasks=f.macroTask))},onHandleError:(s,a,u,f)=>(s.handleError(u,f),n.runOutsideAngular(()=>n.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bl.isInAngularZone())throw new ze(909,!1)}static assertNotInAngularZone(){if(bl.isInAngularZone())throw new ze(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,u){const f=this._inner,v=f.scheduleEventTask("NgZoneEvent: "+u,r,Qw,By,By);try{return f.runTask(v,s,a)}finally{f.cancelTask(v)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const Qw={};function C_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function D_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function wb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Cb(n){n._nesting--,C_(n)}class eC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yu,this.onMicrotaskEmpty=new yu,this.onStable=new yu,this.onError=new yu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,u){return r.apply(s,a)}}const Db=new Li(""),Ib=new Li("");let I_,tC=(()=>{class n{constructor(s,a,u){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,I_||(function nC(n){I_=n}(u),u.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bl.assertNotInAngularZone(),w_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())w_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,u){let f=-1;a&&a>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==f),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:f,updateCb:u})}whenStable(s,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,u){return[]}}return n.\u0275fac=function(s){return new(s||n)(Qi(bl),Qi(Ab),Qi(Ib))},n.\u0275prov=zt({token:n,factory:n.\u0275fac}),n})(),Ab=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return I_?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Xc=null;const xb=new Li("AllowMultipleToken"),A_=new Li("PlatformDestroyListeners");class sC{constructor(r,s){this.name=r,this.token=s}}function Tb(n,r,s=[]){const a=`Platform: ${r}`,u=new Li(a);return(f=[])=>{let v=x_();if(!v||v.injector.get(xb,!1)){const A=[...s,...f,{provide:u,useValue:!0}];n?n(A):function oC(n){if(Xc&&!Xc.get(xb,!1))throw new ze(400,!1);Xc=n;const r=n.get(Rb);(function Sb(n){const r=n.get(vb,null);r&&r.forEach(s=>s())})(n)}(function Mb(n=[],r){return Lu.create({name:r,providers:[{provide:lc,useValue:"platform"},{provide:A_,useValue:new Set([()=>Xc=null])},...n]})}(A,a))}return function lC(n){const r=x_();if(!r)throw new ze(401,!1);return r}()}}function x_(){return Xc?.get(Rb)??null}let Rb=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const u=function kb(n,r){let s;return s="noop"===n?new eC:("zone.js"===n?void 0:n)||new bl(r),s}(a?.ngZone,function Ob(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),f=[{provide:bl,useValue:u}];return u.run(()=>{const v=Lu.create({providers:f,parent:this.injector,name:s.moduleType.name}),A=s.create(v),M=A.injector.get(vd,null);if(!M)throw new ze(402,!1);return u.runOutsideAngular(()=>{const G=u.onError.subscribe({next:de=>{M.handleError(de)}});A.onDestroy(()=>{Gy(this._modules,A),G.unsubscribe()})}),function Pb(n,r,s){try{const a=s();return gf(a)?a.catch(u=>{throw r.runOutsideAngular(()=>n.handleError(u)),u}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(M,u,()=>{const G=A.injector.get(Uy);return G.runInitializers(),G.donePromise.then(()=>(function g(n){tn(n,"Expected localeId to be defined"),"string"==typeof n&&(h=n.toLowerCase().replace(/_/g,"-"))}(A.injector.get(Hy,Qc)||Qc),this._moduleDoBootstrap(A),A))})})}bootstrapModule(s,a=[]){const u=Fb({},a);return function rC(n,r,s){const a=new a_(s);return Promise.resolve(a)}(0,0,s).then(f=>this.bootstrapModuleFactory(f,u))}_moduleDoBootstrap(s){const a=s.injector.get(jy);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new ze(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ze(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(A_,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(Qi(Lu))},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Fb(n,r){return Array.isArray(r)?r.reduce(Fb,n):{...n,...r}}let jy=(()=>{class n{constructor(s,a,u){this._zone=s,this._injector=a,this._exceptionHandler=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new I.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),v=new I.y(A=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{bl.assertNotInAngularZone(),w_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const G=this._zone.onUnstable.subscribe(()=>{bl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{M.unsubscribe(),G.unsubscribe()}});this.isStable=(0,re.T)(f,v.pipe((0,ge.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const u=s instanceof wh;if(!this._injector.get(Uy).done)throw!u&&Xe(s),new ze(405,false);let v;v=u?s:this._injector.get(p).resolveComponentFactory(s),this.componentTypes.push(v.componentType);const A=function iC(n){return n.isBoundToModule}(v)?void 0:this._injector.get(If),G=v.create(Lu.NULL,[],a||v.selector,A),de=G.location.nativeElement,Pe=G.injector.get(Db,null);return Pe?.registerApplication(de),G.onDestroy(()=>{this.detachView(G.hostView),Gy(this.components,G),Pe?.unregisterApplication(de)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new ze(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Gy(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(_b,[]).concat(this._bootstrapListeners).forEach(u=>u(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Gy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ze(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(Qi(bl),Qi(ll),Qi(vd))},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gy(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let Lb=!0,Vb=!1;function cC(){return Vb=!0,Lb}function dC(){if(Vb)throw new Error("Cannot enable prod mode after platform setup.");Lb=!1}let hC=(()=>{class n{}return n.__NG_ELEMENT_ID__=fC,n})();function fC(n){return function pC(n,r,s){if(Pi(n)&&!s){const a=Fr(n.index,r);return new Hu(a,a)}return 47&n.type?new Hu(r[16],r):null}(ai(),Wt(),16==(16&n))}class jb{constructor(){}supports(r){return du(r)}create(r){return new bC(r)}}const _C=(n,r)=>r;class bC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||_C}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,u=0,f=null;for(;s||a;){const v=!a||s&&s.currentIndex<$b(a,u,f)?s:a,A=$b(v,u,f),M=v.currentIndex;if(v===a)u--,a=a._nextRemoved;else if(s=s._next,null==v.previousIndex)u++;else{f||(f=[]);const G=A-u,de=M-u;if(G!=de){for(let ut=0;ut<G;ut++){const At=ut<f.length?f[ut]:f[ut]=0,Zt=At+ut;de<=Zt&&Zt<G&&(f[ut]=At+1)}f[v.previousIndex]=de-G}}A!==M&&r(v,A,M)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!du(r))throw new ze(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let u,f,v,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let A=0;A<this.length;A++)f=r[A],v=this._trackByFn(A,f),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,f,v,A)),Object.is(s.item,f)||this._addIdentityChange(s,f)):(s=this._mismatch(s,f,v,A),a=!0),s=s._next}else u=0,function Km(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[cu()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,A=>{v=this._trackByFn(u,A),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,A,v,u)),Object.is(s.item,A)||this._addIdentityChange(s,A)):(s=this._mismatch(s,A,v,u),a=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,u){let f;return null===r?f=this._itTail:(f=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,f,u)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,f,u)):r=this._addAfter(new EC(s,a),f,u),r}_verifyReinsertion(r,s,a,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?r=this._reinsertAfter(f,r._prev,u):r.currentIndex!=u&&(r.currentIndex=u,this._addToMoves(r,u)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const u=r._prevRemoved,f=r._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const u=null===s?this._itHead:s._next;return r._next=u,r._prev=s,null===u?this._itTail=r:u._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new Gb),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gb),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class EC{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wC{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class Gb{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new wC,this.map.set(s,a)),a.add(r)}get(r,s){const u=this.map.get(r);return u?u.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $b(n,r,s){const a=n.previousIndex;if(null===a)return a;let u=0;return s&&a<s.length&&(u=s[a]),a+r+u}class zb{constructor(){}supports(r){return r instanceof Map||Wp(r)}create(){return new CC}}class CC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Wp(r)))throw new ze(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const f=this._getOrCreateRecordForKey(u,a);s=this._insertBeforeOrAppend(s,f)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const u=this._records.get(r);this._maybeAddToChanges(u,s);const f=u._prev,v=u._next;return f&&(f._next=v),v&&(v._prev=f),u._next=null,u._prev=null,u}const a=new DC(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class DC{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Wb(){return new O_([new jb])}let O_=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const u=a.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||Wb()),deps:[[n,new mr,new Mn]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(null!=a)return a;throw new ze(901,!1)}}return n.\u0275prov=zt({token:n,providedIn:"root",factory:Wb}),n})();function Kb(){return new k_([new zb])}let k_=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const u=a.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||Kb()),deps:[[n,new mr,new Mn]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(a)return a;throw new ze(901,!1)}}return n.\u0275prov=zt({token:n,providedIn:"root",factory:Kb}),n})();const xC=Tb(null,"core",[]);let SC=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(Qi(jy))},n.\u0275mod=ot({type:n}),n.\u0275inj=Nn({}),n})();function TC(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},5863:(en,rt,S)=>{"use strict";function c(ce){for(let be in ce){let De=ce[be]??"";switch(be){case"display":ce.display="flex"===De?["-webkit-flex","flex"]:"inline-flex"===De?["-webkit-inline-flex","inline-flex"]:De;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":ce["-webkit-"+be]=De;break;case"flex-direction":ce["-webkit-flex-direction"]=De,ce["flex-direction"]=De;break;case"order":ce.order=ce["-webkit-"+be]=isNaN(+De)?"0":De}}return ce}S.d(rt,{Ar:()=>re,GK:()=>c,iQ:()=>I,kt:()=>ke,tj:()=>Me});const C="inline",I=["row","column","row-reverse","column-reverse"];function re(ce){let[be,De,it]=ge(ce);return function Te(ce,be=null,De=!1){return{display:De?"inline-flex":"flex","box-sizing":"border-box","flex-direction":ce,"flex-wrap":be||null}}(be,De,it)}function ge(ce){ce=ce?.toLowerCase()??"";let[be,De,it]=ce.split(" ");return I.find(nt=>nt===be)||(be=I[0]),De===C&&(De=it!==C?it:"",it=C),[be,Ne(De),!!it]}function Me(ce){let[be]=ge(ce);return be.indexOf("row")>-1}function Ne(ce){if(ce)switch(ce.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":ce="wrap-reverse";break;case"no":case"none":case"nowrap":ce="nowrap";break;default:ce="wrap"}return ce}function ke(ce,...be){if(null==ce)throw TypeError("Cannot convert undefined or null to object");for(let De of be)if(null!=De)for(let it in De)De.hasOwnProperty(it)&&(ce[it]=De[it]);return ce}},2233:(en,rt,S)=>{"use strict";S.d(rt,{Bs:()=>Fe,FL:()=>qn,IR:()=>it,Ot:()=>_n,QI:()=>Be,RK:()=>we,WU:()=>Je,g5:()=>_t,iR:()=>Xn,wY:()=>at,yB:()=>$t});var c=S(4650),C=S(6895),I=S(1135),re=S(9751),ge=S(6451),Me=S(7579),Ne=S(5863),Te=S(9300),ke=S(8505);const be={provide:c.tb,useFactory:function ce(Qe,qe){return()=>{if((0,C.NF)(qe)){const N=Array.from(Qe.querySelectorAll(`[class*=${De}]`)),Z=/\bflex-layout-.+?\b/g;N.forEach(q=>{q.classList.contains(`${De}ssr`)&&q.parentNode?q.parentNode.removeChild(q):q.className.replace(Z,"")})}}},deps:[C.K0,c.Lbi],multi:!0},De="flex-layout-";let it=(()=>{class Qe{}return Qe.\u0275fac=function(N){return new(N||Qe)},Qe.\u0275mod=c.oAB({type:Qe}),Qe.\u0275inj=c.cJS({providers:[be]}),Qe})();class nt{constructor(qe=!1,N="all",Z="",q="",Y=0){this.matches=qe,this.mediaQuery=N,this.mqAlias=Z,this.suffix=q,this.priority=Y,this.property=""}clone(){return new nt(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let ze=(()=>{class Qe{constructor(){this.stylesheet=new Map}addStyleToElement(N,Z,q){const Y=this.stylesheet.get(N);Y?Y.set(Z,q):this.stylesheet.set(N,new Map([[Z,q]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(N,Z){const q=this.stylesheet.get(N);let Y="";if(q){const j=q.get(Z);("number"==typeof j||"string"==typeof j)&&(Y=j+"")}return Y}}return Qe.\u0275fac=function(N){return new(N||Qe)},Qe.\u0275prov=c.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})();const _t={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Je=new c.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>_t}),at=new c.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Fe=new c.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function Rt(Qe,qe){return Qe=Qe?.clone()??new nt,qe&&(Qe.mqAlias=qe.alias,Qe.mediaQuery=qe.mediaQuery,Qe.suffix=qe.suffix,Qe.priority=qe.priority),Qe}class Be{constructor(){this.shouldCache=!0}sideEffect(qe,N,Z){}}let we=(()=>{class Qe{constructor(N,Z,q,Y){this._serverStylesheet=N,this._serverModuleLoaded=Z,this._platformId=q,this.layoutConfig=Y}applyStyleToElement(N,Z,q=null){let Y={};"string"==typeof Z&&(Y[Z]=q,Z=Y),Y=this.layoutConfig.disableVendorPrefixes?Z:(0,Ne.GK)(Z),this._applyMultiValueStyleToElement(Y,N)}applyStyleToElements(N,Z=[]){const q=this.layoutConfig.disableVendorPrefixes?N:(0,Ne.GK)(N);Z.forEach(Y=>{this._applyMultiValueStyleToElement(q,Y)})}getFlowDirection(N){const Z="flex-direction";let q=this.lookupStyle(N,Z);return[q||"row",this.lookupInlineStyle(N,Z)||(0,C.PM)(this._platformId)&&this._serverModuleLoaded?q:""]}hasWrap(N){return"wrap"===this.lookupStyle(N,"flex-wrap")}lookupAttributeValue(N,Z){return N.getAttribute(Z)??""}lookupInlineStyle(N,Z){return(0,C.NF)(this._platformId)?N.style.getPropertyValue(Z):function Ie(Qe,qe){return ye(Qe)[qe]??""}(N,Z)}lookupStyle(N,Z,q=!1){let Y="";return N&&((Y=this.lookupInlineStyle(N,Z))||((0,C.NF)(this._platformId)?q||(Y=getComputedStyle(N).getPropertyValue(Z)):this._serverModuleLoaded&&(Y=this._serverStylesheet.getStyleForElement(N,Z)))),Y?Y.trim():""}_applyMultiValueStyleToElement(N,Z){Object.keys(N).sort().forEach(q=>{const Y=N[q],j=Array.isArray(Y)?Y:[Y];j.sort();for(let ee of j)ee=ee?ee+"":"",(0,C.NF)(this._platformId)||!this._serverModuleLoaded?(0,C.NF)(this._platformId)?Z.style.setProperty(q,ee):tt(Z,q,ee):this._serverStylesheet.addStyleToElement(Z,q,ee)})}}return Qe.\u0275fac=function(N){return new(N||Qe)(c.LFG(ze),c.LFG(at),c.LFG(c.Lbi),c.LFG(Je))},Qe.\u0275prov=c.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})();function tt(Qe,qe,N){qe=qe.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const Z=ye(Qe);Z[qe]=N??"",function Et(Qe,qe){let N="";for(const Z in qe)qe[Z]&&(N+=`${Z}:${qe[Z]};`);Qe.setAttribute("style",N)}(Qe,Z)}function ye(Qe){const qe={},N=Qe.getAttribute("style");if(N){const Z=N.split(/;+/g);for(let q=0;q<Z.length;q++){const Y=Z[q].trim();if(Y.length>0){const j=Y.indexOf(":");if(-1===j)throw new Error(`Invalid CSS style: ${Y}`);qe[Y.substr(0,j).trim()]=Y.substr(j+1).trim()}}}return qe}function pt(Qe,qe){return(qe&&qe.priority||0)-(Qe&&Qe.priority||0)}function Re(Qe,qe){return(Qe.priority||0)-(qe.priority||0)}let Ye=(()=>{class Qe{constructor(N,Z,q){this._zone=N,this._platformId=Z,this._document=q,this.source=new I.X(new nt(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const N=[];return this.registry.forEach((Z,q)=>{Z.matches&&N.push(q)}),N}isActive(N){return this.registry.get(N)?.matches??this.registerQuery(N).some(q=>q.matches)}observe(N,Z=!1){if(N&&N.length){const q=this._observable$.pipe((0,Te.h)(j=>!Z||N.indexOf(j.mediaQuery)>-1)),Y=new re.y(j=>{const ee=this.registerQuery(N);if(ee.length){const $=ee.pop();ee.forEach(fe=>{j.next(fe)}),this.source.next($)}j.complete()});return(0,ge.T)(Y,q)}return this._observable$}registerQuery(N){const Z=Array.isArray(N)?N:[N],q=[];return function dt(Qe,qe){const N=Qe.filter(Z=>!ct[Z]);if(N.length>0){const Z=N.join(", ");try{const q=qe.createElement("style");q.setAttribute("type","text/css"),q.styleSheet||q.appendChild(qe.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${Z} {.fx-query-test{ }}\n`)),qe.head.appendChild(q),N.forEach(Y=>ct[Y]=q)}catch(q){console.error(q)}}}(Z,this._document),Z.forEach(Y=>{const j=$=>{this._zone.run(()=>this.source.next(new nt($.matches,Y)))};let ee=this.registry.get(Y);ee||(ee=this.buildMQL(Y),ee.addListener(j),this.pendingRemoveListenerFns.push(()=>ee.removeListener(j)),this.registry.set(Y,ee)),ee.matches&&q.push(new nt(!0,Y))}),q}ngOnDestroy(){let N;for(;N=this.pendingRemoveListenerFns.pop();)N()}buildMQL(N){return function jt(Qe,qe){return qe&&window.matchMedia("all").addListener?window.matchMedia(Qe):{matches:"all"===Qe||""===Qe,media:Qe,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(N,(0,C.NF)(this._platformId))}}return Qe.\u0275fac=function(N){return new(N||Qe)(c.LFG(c.R0b),c.LFG(c.Lbi),c.LFG(C.K0))},Qe.\u0275prov=c.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})();const ct={},Gt=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],Kt="(orientation: portrait) and (max-width: 599.98px)",fn="(orientation: landscape) and (max-width: 959.98px)",tn="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",Nt="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",Rn="(orientation: portrait) and (min-width: 840px)",pn="(orientation: landscape) and (min-width: 1280px)",gn={HANDSET:`${Kt}, ${fn}`,TABLET:`${tn} , ${Nt}`,WEB:`${Rn}, ${pn} `,HANDSET_PORTRAIT:`${Kt}`,TABLET_PORTRAIT:`${tn} `,WEB_PORTRAIT:`${Rn}`,HANDSET_LANDSCAPE:`${fn}`,TABLET_LANDSCAPE:`${Nt}`,WEB_LANDSCAPE:`${pn}`},zt=[{alias:"handset",priority:2e3,mediaQuery:gn.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:gn.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:gn.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:gn.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:gn.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:gn.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:gn.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:gn.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:gn.WEB_PORTRAIT,overlapping:!0}],Hn=/(\.|-|_)/g;function Nn(Qe){let qe=Qe.length>0?Qe.charAt(0):"",N=Qe.length>1?Qe.slice(1):"";return qe.toUpperCase()+N}const Gn=new c.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const Qe=(0,c.f3M)(Fe),qe=(0,c.f3M)(Je),N=[].concat.apply([],(Qe||[]).map(q=>Array.isArray(q)?q:[q]));return function An(Qe,qe=[]){const N={};return Qe.forEach(Z=>{N[Z.alias]=Z}),qe.forEach(Z=>{N[Z.alias]?(0,Ne.kt)(N[Z.alias],Z):N[Z.alias]=Z}),function xr(Qe){return Qe.forEach(qe=>{qe.suffix||(qe.suffix=function wn(Qe){return Qe.replace(Hn,"|").split("|").map(Nn).join("")}(qe.alias),qe.overlapping=!!qe.overlapping)}),Qe}(Object.keys(N).map(Z=>N[Z]))}((qe.disableDefaultBps?[]:Gt).concat(qe.addOrientationBps?zt:[]),N)}});let or=(()=>{class Qe{constructor(N){this.findByMap=new Map,this.items=[...N].sort(Re)}findByAlias(N){return N?this.findWithPredicate(N,Z=>Z.alias===N):null}findByQuery(N){return this.findWithPredicate(N,Z=>Z.mediaQuery===N)}get overlappings(){return this.items.filter(N=>N.overlapping)}get aliases(){return this.items.map(N=>N.alias)}get suffixes(){return this.items.map(N=>N?.suffix??"")}findWithPredicate(N,Z){let q=this.findByMap.get(N);return q||(q=this.items.find(Z)??null,this.findByMap.set(N,q)),q??null}}return Qe.\u0275fac=function(N){return new(N||Qe)(c.LFG(Gn))},Qe.\u0275prov=c.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})();const $n="print",Zn={alias:$n,mediaQuery:$n,priority:1e3};let hr=(()=>{class Qe{constructor(N,Z,q){this.breakpoints=N,this.layoutConfig=Z,this._document=q,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new Bn,this.deactivations=[]}withPrintQuery(N){return[...N,$n]}isPrintEvent(N){return N.mediaQuery.startsWith($n)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(N=>this.breakpoints.findByAlias(N)).filter(N=>null!==N)}getEventBreakpoints({mediaQuery:N}){const Z=this.breakpoints.findByQuery(N);return(Z?[...this.printBreakPoints,Z]:this.printBreakPoints).sort(pt)}updateEvent(N){let Z=this.breakpoints.findByQuery(N.mediaQuery);return this.isPrintEvent(N)&&(Z=this.getEventBreakpoints(N)[0],N.mediaQuery=Z?.mediaQuery??""),Rt(N,Z)}registerBeforeAfterPrintHooks(N){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const Z=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(N,this.getEventBreakpoints(new nt(!0,$n))),N.updateStyles())},q=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(N),N.updateStyles())};this._document.defaultView.addEventListener("beforeprint",Z),this._document.defaultView.addEventListener("afterprint",q),this.beforePrintEventListeners.push(Z),this.afterPrintEventListeners.push(q)}interceptEvents(N){return Z=>{this.isPrintEvent(Z)?Z.matches&&!this.isPrinting?(this.startPrinting(N,this.getEventBreakpoints(Z)),N.updateStyles()):!Z.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(N),N.updateStyles()):this.collectActivations(N,Z)}}blockPropagation(){return N=>!(this.isPrinting||this.isPrintEvent(N))}startPrinting(N,Z){this.isPrinting=!0,this.formerActivations=N.activatedBreakpoints,N.activatedBreakpoints=this.queue.addPrintBreakpoints(Z)}stopPrinting(N){N.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(N,Z){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!Z.matches){const q=this.breakpoints.findByQuery(Z.mediaQuery);if(q){const Y=this.formerActivations&&this.formerActivations.includes(q),j=!this.formerActivations&&N.activatedBreakpoints.includes(q);(Y||j)&&(this.deactivations.push(q),this.deactivations.sort(pt))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(N=>this._document.defaultView.removeEventListener("beforeprint",N)),this.afterPrintEventListeners.forEach(N=>this._document.defaultView.removeEventListener("afterprint",N)))}}return Qe.\u0275fac=function(N){return new(N||Qe)(c.LFG(or),c.LFG(Je),c.LFG(C.K0))},Qe.\u0275prov=c.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})();class Bn{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(qe){return qe.push(Zn),qe.sort(pt),qe.forEach(N=>this.addBreakpoint(N)),this.printBreakpoints}addBreakpoint(qe){qe&&void 0===this.printBreakpoints.find(Z=>Z.mediaQuery===qe.mediaQuery)&&(this.printBreakpoints=function Qn(Qe){return Qe?.mediaQuery.startsWith($n)??!1}(qe)?[qe,...this.printBreakpoints]:[...this.printBreakpoints,qe])}clear(){this.printBreakpoints=[]}}let $t=(()=>{class Qe{constructor(N,Z,q){this.matchMedia=N,this.breakpoints=Z,this.hook=q,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Me.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(N){this._activatedBreakpoints=[...N]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(N){this._useFallbacks=N}onMediaChange(N){const Z=this.findByQuery(N.mediaQuery);if(Z){N=Rt(N,Z);const q=this.activatedBreakpoints.indexOf(Z);N.matches&&-1===q?(this._activatedBreakpoints.push(Z),this._activatedBreakpoints.sort(pt),this.updateStyles()):!N.matches&&-1!==q&&(this._activatedBreakpoints.splice(q,1),this._activatedBreakpoints.sort(pt),this.updateStyles())}}init(N,Z,q,Y,j=[]){rr(this.updateMap,N,Z,q),rr(this.clearMap,N,Z,Y),this.buildElementKeyMap(N,Z),this.watchExtraTriggers(N,Z,j)}getValue(N,Z,q){const Y=this.elementMap.get(N);if(Y){const j=void 0!==q?Y.get(q):this.getActivatedValues(Y,Z);if(j)return j.get(Z)}}hasValue(N,Z){const q=this.elementMap.get(N);if(q){const Y=this.getActivatedValues(q,Z);if(Y)return void 0!==Y.get(Z)||!1}return!1}setValue(N,Z,q,Y){let j=this.elementMap.get(N);if(j){const $=(j.get(Y)??new Map).set(Z,q);j.set(Y,$),this.elementMap.set(N,j)}else j=(new Map).set(Y,(new Map).set(Z,q)),this.elementMap.set(N,j);const ee=this.getValue(N,Z);void 0!==ee&&this.updateElement(N,Z,ee)}trackValue(N,Z){return this.subject.asObservable().pipe((0,Te.h)(q=>q.element===N&&q.key===Z))}updateStyles(){this.elementMap.forEach((N,Z)=>{const q=new Set(this.elementKeyMap.get(Z));let Y=this.getActivatedValues(N);Y&&Y.forEach((j,ee)=>{this.updateElement(Z,ee,j),q.delete(ee)}),q.forEach(j=>{if(Y=this.getActivatedValues(N,j),Y){const ee=Y.get(j);this.updateElement(Z,j,ee)}else this.clearElement(Z,j)})})}clearElement(N,Z){const q=this.clearMap.get(N);if(q){const Y=q.get(Z);Y&&(Y(),this.subject.next({element:N,key:Z,value:""}))}}updateElement(N,Z,q){const Y=this.updateMap.get(N);if(Y){const j=Y.get(Z);j&&(j(q),this.subject.next({element:N,key:Z,value:q}))}}releaseElement(N){const Z=this.watcherMap.get(N);Z&&(Z.forEach(Y=>Y.unsubscribe()),this.watcherMap.delete(N));const q=this.elementMap.get(N);q&&(q.forEach((Y,j)=>q.delete(j)),this.elementMap.delete(N))}triggerUpdate(N,Z){const q=this.elementMap.get(N);if(q){const Y=this.getActivatedValues(q,Z);Y&&(Z?this.updateElement(N,Z,Y.get(Z)):Y.forEach((j,ee)=>this.updateElement(N,ee,j)))}}buildElementKeyMap(N,Z){let q=this.elementKeyMap.get(N);q||(q=new Set,this.elementKeyMap.set(N,q)),q.add(Z)}watchExtraTriggers(N,Z,q){if(q&&q.length){let Y=this.watcherMap.get(N);if(Y||(Y=new Map,this.watcherMap.set(N,Y)),!Y.get(Z)){const ee=(0,ge.T)(...q).subscribe(()=>{const $=this.getValue(N,Z);this.updateElement(N,Z,$)});Y.set(Z,ee)}}}findByQuery(N){return this.breakpoints.findByQuery(N)}getActivatedValues(N,Z){for(let Y=0;Y<this.activatedBreakpoints.length;Y++){const ee=N.get(this.activatedBreakpoints[Y].alias);if(ee&&(void 0===Z||ee.has(Z)&&null!=ee.get(Z)))return ee}if(!this._useFallbacks)return;const q=N.get("");return void 0===Z||q&&q.has(Z)?q:void 0}observeActivations(){const N=this.breakpoints.items.map(Z=>Z.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(N)).pipe((0,ke.b)(this.hook.interceptEvents(this)),(0,Te.h)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return Qe.\u0275fac=function(N){return new(N||Qe)(c.LFG(Ye),c.LFG(or),c.LFG(hr))},Qe.\u0275prov=c.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})();function rr(Qe,qe,N,Z){if(void 0!==Z){const q=Qe.get(qe)??new Map;q.set(N,Z),Qe.set(qe,q)}}let Xn=(()=>{class Qe{constructor(N,Z,q,Y){this.elementRef=N,this.styleBuilder=Z,this.styler=q,this.marshal=Y,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Me.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(N){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,N,this.marshal.activatedAlias)}ngOnChanges(N){Object.keys(N).forEach(Z=>{if(-1!==this.inputs.indexOf(Z)){const q=Z.split(".").slice(1).join(".");this.setValue(N[Z].currentValue,q)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(N=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),N)}addStyles(N,Z){const q=this.styleBuilder,Y=q.shouldCache;let j=this.styleCache.get(N);(!j||!Y)&&(j=q.buildStyles(N,Z),Y&&this.styleCache.set(N,j)),this.mru={...j},this.applyStyleToElement(j),q.sideEffect(N,j,Z)}clearStyles(){Object.keys(this.mru).forEach(N=>{this.mru[N]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(N,Z=!1){if(N){const[q,Y]=this.styler.getFlowDirection(N);if(!Y&&Z){const j=(0,Ne.Ar)(q);this.styler.applyStyleToElements(j,[N])}return q.trim()}return"row"}hasWrap(N){return this.styler.hasWrap(N)}applyStyleToElement(N,Z,q=this.nativeElement){this.styler.applyStyleToElement(q,N,Z)}setValue(N,Z){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,N,Z)}updateWithValue(N){this.currentValue!==N&&(this.addStyles(N),this.currentValue=N)}}return Qe.\u0275fac=function(N){return new(N||Qe)(c.Y36(c.SBq),c.Y36(Be),c.Y36(we),c.Y36($t))},Qe.\u0275dir=c.lG2({type:Qe,features:[c.TTD]}),Qe})();function _n(Qe,qe="1",N="1"){let Z=[qe,N,Qe],q=Qe.indexOf("calc");if(q>0){Z[2]=hn(Qe.substring(q).trim());let Y=Qe.substr(0,q).trim().split(" ");2==Y.length&&(Z[0]=Y[0],Z[1]=Y[1])}else if(0==q)Z[2]=hn(Qe.trim());else{let Y=Qe.split(" ");Z=3===Y.length?Y:[qe,N,Qe]}return Z}function hn(Qe){return Qe.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function qn(Qe,qe){if(void 0===qe)return Qe;const N=Z=>{const q=+Z.slice(0,-"x".length);return Qe.endsWith("x")&&!isNaN(q)?`${q*qe.value}${qe.unit}`:Qe};return Qe.includes(" ")?Qe.split(" ").map(N).join(" "):N(Qe)}},1576:(en,rt,S)=>{"use strict";S.d(rt,{Wh:()=>hn,ae:()=>ee,xw:()=>be,yH:()=>jt});var c=S(4650),C=S(445),I=S(2233),re=S(5863),Me=(S(7579),S(2722));let Ne=(()=>{class $ extends I.QI{buildStyles(xe,{display:Ge}){const ot=(0,re.Ar)(xe);return{...ot,display:"none"===Ge?Ge:ot.display}}}return $.\u0275fac=function(){let fe;return function(Ge){return(fe||(fe=c.n5z($)))(Ge||$)}}(),$.\u0275prov=c.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();const Te=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let ce=(()=>{class $ extends I.iR{constructor(xe,Ge,ot,Qt,nn){super(xe,ot,Ge,Qt),this._config=nn,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(xe){const ot=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=De.get(ot)??new Map,De.set(ot,this.styleCache),this.currentValue!==xe&&(this.addStyles(xe,{display:ot}),this.currentValue=xe)}}return $.\u0275fac=function(xe){return new(xe||$)(c.Y36(c.SBq),c.Y36(I.RK),c.Y36(Ne),c.Y36(I.yB),c.Y36(I.WU))},$.\u0275dir=c.lG2({type:$,features:[c.qOj]}),$})(),be=(()=>{class $ extends ce{constructor(){super(...arguments),this.inputs=Te}}return $.\u0275fac=function(){let fe;return function(Ge){return(fe||(fe=c.n5z($)))(Ge||$)}}(),$.\u0275dir=c.lG2({type:$,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[c.qOj]}),$})();const De=new Map;let Re=(()=>{class $ extends I.QI{constructor(xe){super(),this.layoutConfig=xe}buildStyles(xe,Ge){let[ot,Qt,...nn]=xe.split(" "),ln=nn.join(" ");const mn=Ge.direction.indexOf("column")>-1?"column":"row",xn=(0,re.tj)(mn)?"max-width":"max-height",ar=(0,re.tj)(mn)?"min-width":"min-height",mt=String(ln).indexOf("calc")>-1,Xe=mt||"auto"===ln,je=String(ln).indexOf("%")>-1&&!mt,yt=String(ln).indexOf("px")>-1||String(ln).indexOf("rem")>-1||String(ln).indexOf("em")>-1||String(ln).indexOf("vw")>-1||String(ln).indexOf("vh")>-1;let ie=mt||yt;ot="0"==ot?0:ot,Qt="0"==Qt?0:Qt;const Ce=!ot&&!Qt;let he={};const _e={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(ln||""){case"":const ue=!1!==this.layoutConfig.useColumnBasisZero;ln="row"===mn?"0%":ue?"0.000000001px":"auto";break;case"initial":case"nogrow":ot=0,ln="auto";break;case"grow":ln="100%";break;case"noshrink":Qt=0,ln="auto";break;case"auto":break;case"none":ot=0,Qt=0,ln="auto";break;default:!ie&&!je&&!isNaN(ln)&&(ln+="%"),"0%"===ln&&(ie=!0),"0px"===ln&&(ln="0%"),he=(0,re.kt)(_e,mt?{"flex-grow":ot,"flex-shrink":Qt,"flex-basis":ie?ln:"100%"}:{flex:`${ot} ${Qt} ${ie?ln:"100%"}`})}return he.flex||he["flex-grow"]||(he=(0,re.kt)(_e,mt?{"flex-grow":ot,"flex-shrink":Qt,"flex-basis":ln}:{flex:`${ot} ${Qt} ${ln}`})),"0%"!==ln&&"0px"!==ln&&"0.000000001px"!==ln&&"auto"!==ln&&(he[ar]=Ce||ie&&ot?ln:null,he[xn]=Ce||!Xe&&Qt?ln:null),he[ar]||he[xn]?Ge.hasWrap&&(he[mt?"flex-basis":"flex"]=he[xn]?mt?he[xn]:`${ot} ${Qt} ${he[xn]}`:mt?he[ar]:`${ot} ${Qt} ${he[ar]}`):he=(0,re.kt)(_e,mt?{"flex-grow":ot,"flex-shrink":Qt,"flex-basis":ln}:{flex:`${ot} ${Qt} ${ln}`}),(0,re.kt)(he,{"box-sizing":"border-box"})}}return $.\u0275fac=function(xe){return new(xe||$)(c.LFG(I.WU))},$.\u0275prov=c.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();const Ye=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let dt=(()=>{class $ extends I.iR{constructor(xe,Ge,ot,Qt,nn){super(xe,Qt,Ge,nn),this.layoutConfig=ot,this.marshal=nn,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(xe){this.flexShrink=xe||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(xe){this.flexGrow=xe||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,Me.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,Me.R)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(xe){const ot=xe.value.split(" ");this.direction=ot[0],this.wrap=void 0!==ot[1]&&"wrap"===ot[1],this.triggerUpdate()}updateWithValue(xe){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const ot=this.direction,Qt=ot.startsWith("row"),nn=this.wrap;Qt&&nn?this.styleCache=fn:Qt&&!nn?this.styleCache=Gt:!Qt&&nn?this.styleCache=tn:!Qt&&!nn&&(this.styleCache=Kt);const ln=String(xe).replace(";",""),mn=(0,I.Ot)(ln,this.flexGrow,this.flexShrink);this.addStyles(mn.join(" "),{direction:ot,hasWrap:nn})}triggerReflow(){const xe=this.activatedValue;if(void 0!==xe){const Ge=(0,I.Ot)(xe+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,Ge.join(" "))}}}return $.\u0275fac=function(xe){return new(xe||$)(c.Y36(c.SBq),c.Y36(I.RK),c.Y36(I.WU),c.Y36(Re),c.Y36(I.yB))},$.\u0275dir=c.lG2({type:$,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[c.qOj]}),$})(),jt=(()=>{class $ extends dt{constructor(){super(...arguments),this.inputs=Ye}}return $.\u0275fac=function(){let fe;return function(Ge){return(fe||(fe=c.n5z($)))(Ge||$)}}(),$.\u0275dir=c.lG2({type:$,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[c.qOj]}),$})();const Gt=new Map,Kt=new Map,fn=new Map,tn=new Map;let Pt=(()=>{class $ extends I.QI{buildStyles(xe,Ge){const ot={},[Qt,nn]=xe.split(" ");switch(Qt){case"center":ot["justify-content"]="center";break;case"space-around":ot["justify-content"]="space-around";break;case"space-between":ot["justify-content"]="space-between";break;case"space-evenly":ot["justify-content"]="space-evenly";break;case"end":case"flex-end":ot["justify-content"]="flex-end";break;default:ot["justify-content"]="flex-start"}switch(nn){case"start":case"flex-start":ot["align-items"]=ot["align-content"]="flex-start";break;case"center":ot["align-items"]=ot["align-content"]="center";break;case"end":case"flex-end":ot["align-items"]=ot["align-content"]="flex-end";break;case"space-between":ot["align-content"]="space-between",ot["align-items"]="stretch";break;case"space-around":ot["align-content"]="space-around",ot["align-items"]="stretch";break;case"baseline":ot["align-content"]="stretch",ot["align-items"]="baseline";break;default:ot["align-items"]=ot["align-content"]="stretch"}return(0,re.kt)(ot,{display:Ge.inline?"inline-flex":"flex","flex-direction":Ge.layout,"box-sizing":"border-box","max-width":"stretch"===nn?(0,re.tj)(Ge.layout)?null:"100%":null,"max-height":"stretch"===nn&&(0,re.tj)(Ge.layout)?"100%":null})}}return $.\u0275fac=function(){let fe;return function(Ge){return(fe||(fe=c.n5z($)))(Ge||$)}}(),$.\u0275prov=c.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();const Tt=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let _n=(()=>{class $ extends I.iR{constructor(xe,Ge,ot,Qt){super(xe,ot,Ge,Qt),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,Me.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(xe){const Ge=this.layout||"row",ot=this.inline;"row"===Ge&&ot?this.styleCache=N:"row"!==Ge||ot?"row-reverse"===Ge&&ot?this.styleCache=q:"row-reverse"!==Ge||ot?"column"===Ge&&ot?this.styleCache=Z:"column"!==Ge||ot?"column-reverse"===Ge&&ot?this.styleCache=Y:"column-reverse"===Ge&&!ot&&(this.styleCache=qe):this.styleCache=qn:this.styleCache=Qe:this.styleCache=Ln,this.addStyles(xe,{layout:Ge,inline:ot})}onLayoutChange(xe){const Ge=xe.value.split(" ");this.layout=Ge[0],this.inline=xe.value.includes("inline"),re.iQ.find(ot=>ot===this.layout)||(this.layout="row"),this.triggerUpdate()}}return $.\u0275fac=function(xe){return new(xe||$)(c.Y36(c.SBq),c.Y36(I.RK),c.Y36(Pt),c.Y36(I.yB))},$.\u0275dir=c.lG2({type:$,features:[c.qOj]}),$})(),hn=(()=>{class $ extends _n{constructor(){super(...arguments),this.inputs=Tt}}return $.\u0275fac=function(){let fe;return function(Ge){return(fe||(fe=c.n5z($)))(Ge||$)}}(),$.\u0275dir=c.lG2({type:$,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[c.qOj]}),$})();const Ln=new Map,qn=new Map,Qe=new Map,qe=new Map,N=new Map,Z=new Map,q=new Map,Y=new Map;let ee=(()=>{class ${}return $.\u0275fac=function(xe){return new(xe||$)},$.\u0275mod=c.oAB({type:$}),$.\u0275inj=c.cJS({imports:[I.IR,C.vT]}),$})()},4006:(en,rt,S)=>{"use strict";S.d(rt,{F:()=>Ui,Fj:()=>nt,JJ:()=>$t,JL:()=>rr,On:()=>ls,Q7:()=>Ns,UX:()=>Ys,_Y:()=>zs,a5:()=>Zn,kI:()=>Be,nD:()=>fs,qu:()=>Er,sg:()=>bt,u:()=>Gi,u5:()=>bo});var c=S(4650),C=S(6895),I=S(8996),re=S(4128),ge=S(4004);let Me=(()=>{class U{constructor(R,pe){this._renderer=R,this._elementRef=pe,this.onChange=Mt=>{},this.onTouched=()=>{}}setProperty(R,pe){this._renderer.setProperty(this._elementRef.nativeElement,R,pe)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}}return U.\u0275fac=function(R){return new(R||U)(c.Y36(c.Qsj),c.Y36(c.SBq))},U.\u0275dir=c.lG2({type:U}),U})(),Ne=(()=>{class U extends Me{}return U.\u0275fac=function(){let L;return function(pe){return(L||(L=c.n5z(U)))(pe||U)}}(),U.\u0275dir=c.lG2({type:U,features:[c.qOj]}),U})();const Te=new c.OlP("NgValueAccessor"),be={provide:Te,useExisting:(0,c.Gpc)(()=>nt),multi:!0},it=new c.OlP("CompositionEventMode");let nt=(()=>{class U extends Me{constructor(R,pe,Mt){super(R,pe),this._compositionMode=Mt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function De(){const U=(0,C.q)()?(0,C.q)().getUserAgent():"";return/android (\d+)/.test(U.toLowerCase())}())}writeValue(R){this.setProperty("value",R??"")}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}}return U.\u0275fac=function(R){return new(R||U)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(it,8))},U.\u0275dir=c.lG2({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(R,pe){1&R&&c.NdJ("input",function(Tn){return pe._handleInput(Tn.target.value)})("blur",function(){return pe.onTouched()})("compositionstart",function(){return pe._compositionStart()})("compositionend",function(Tn){return pe._compositionEnd(Tn.target.value)})},features:[c._Bn([be]),c.qOj]}),U})();function _t(U){return null==U||("string"==typeof U||Array.isArray(U))&&0===U.length}function Je(U){return null!=U&&"number"==typeof U.length}const at=new c.OlP("NgValidators"),Fe=new c.OlP("NgAsyncValidators"),Rt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Be{static min(L){return function we(U){return L=>{if(_t(L.value)||_t(U))return null;const R=parseFloat(L.value);return!isNaN(R)&&R<U?{min:{min:U,actual:L.value}}:null}}(L)}static max(L){return function Ie(U){return L=>{if(_t(L.value)||_t(U))return null;const R=parseFloat(L.value);return!isNaN(R)&&R>U?{max:{max:U,actual:L.value}}:null}}(L)}static required(L){return tt(L)}static requiredTrue(L){return function Et(U){return!0===U.value?null:{required:!0}}(L)}static email(L){return function ye(U){return _t(U.value)||Rt.test(U.value)?null:{email:!0}}(L)}static minLength(L){return function pt(U){return L=>_t(L.value)||!Je(L.value)?null:L.value.length<U?{minlength:{requiredLength:U,actualLength:L.value.length}}:null}(L)}static maxLength(L){return Re(L)}static pattern(L){return function Ye(U){if(!U)return ct;let L,R;return"string"==typeof U?(R="","^"!==U.charAt(0)&&(R+="^"),R+=U,"$"!==U.charAt(U.length-1)&&(R+="$"),L=new RegExp(R)):(R=U.toString(),L=U),pe=>{if(_t(pe.value))return null;const Mt=pe.value;return L.test(Mt)?null:{pattern:{requiredPattern:R,actualValue:Mt}}}}(L)}static nullValidator(L){return null}static compose(L){return Nt(L)}static composeAsync(L){return pn(L)}}function tt(U){return _t(U.value)?{required:!0}:null}function Re(U){return L=>Je(L.value)&&L.value.length>U?{maxlength:{requiredLength:U,actualLength:L.value.length}}:null}function ct(U){return null}function dt(U){return null!=U}function jt(U){return(0,c.QGY)(U)?(0,I.D)(U):U}function Gt(U){let L={};return U.forEach(R=>{L=null!=R?{...L,...R}:L}),0===Object.keys(L).length?null:L}function Kt(U,L){return L.map(R=>R(U))}function tn(U){return U.map(L=>function fn(U){return!U.validate}(L)?L:R=>L.validate(R))}function Nt(U){if(!U)return null;const L=U.filter(dt);return 0==L.length?null:function(R){return Gt(Kt(R,L))}}function Rn(U){return null!=U?Nt(tn(U)):null}function pn(U){if(!U)return null;const L=U.filter(dt);return 0==L.length?null:function(R){const pe=Kt(R,L).map(jt);return(0,re.D)(pe).pipe((0,ge.U)(Gt))}}function gn(U){return null!=U?pn(tn(U)):null}function zt(U,L){return null===U?[L]:Array.isArray(U)?[...U,L]:[U,L]}function Hn(U){return U._rawValidators}function Nn(U){return U._rawAsyncValidators}function wn(U){return U?Array.isArray(U)?U:[U]:[]}function xr(U,L){return Array.isArray(U)?U.includes(L):U===L}function An(U,L){const R=wn(L);return wn(U).forEach(Mt=>{xr(R,Mt)||R.push(Mt)}),R}function Gn(U,L){return wn(L).filter(R=>!xr(U,R))}class or{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=Rn(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=gn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L){this.control&&this.control.reset(L)}hasError(L,R){return!!this.control&&this.control.hasError(L,R)}getError(L,R){return this.control?this.control.getError(L,R):null}}class $n extends or{get formDirective(){return null}get path(){return null}}class Zn extends or{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hr{constructor(L){this._cd=L}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let $t=(()=>{class U extends hr{constructor(R){super(R)}}return U.\u0275fac=function(R){return new(R||U)(c.Y36(Zn,2))},U.\u0275dir=c.lG2({type:U,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(R,pe){2&R&&c.ekj("ng-untouched",pe.isUntouched)("ng-touched",pe.isTouched)("ng-pristine",pe.isPristine)("ng-dirty",pe.isDirty)("ng-valid",pe.isValid)("ng-invalid",pe.isInvalid)("ng-pending",pe.isPending)},features:[c.qOj]}),U})(),rr=(()=>{class U extends hr{constructor(R){super(R)}}return U.\u0275fac=function(R){return new(R||U)(c.Y36($n,10))},U.\u0275dir=c.lG2({type:U,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(R,pe){2&R&&c.ekj("ng-untouched",pe.isUntouched)("ng-touched",pe.isTouched)("ng-pristine",pe.isPristine)("ng-dirty",pe.isDirty)("ng-valid",pe.isValid)("ng-invalid",pe.isInvalid)("ng-pending",pe.isPending)("ng-submitted",pe.isSubmitted)},features:[c.qOj]}),U})();const Y="VALID",j="INVALID",ee="PENDING",$="DISABLED";function fe(U){return(Qt(U)?U.validators:U)||null}function xe(U){return Array.isArray(U)?Rn(U):U||null}function Ge(U,L){return(Qt(L)?L.asyncValidators:U)||null}function ot(U){return Array.isArray(U)?gn(U):U||null}function Qt(U){return null!=U&&!Array.isArray(U)&&"object"==typeof U}function nn(U,L,R){const pe=U.controls;if(!(L?Object.keys(pe):pe).length)throw new c.vHH(1e3,"");if(!pe[R])throw new c.vHH(1001,"")}function ln(U,L,R){U._forEachChild((pe,Mt)=>{if(void 0===R[Mt])throw new c.vHH(1002,"")})}class mn{constructor(L,R){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=L,this._rawAsyncValidators=R,this._composedValidatorFn=xe(this._rawValidators),this._composedAsyncValidatorFn=ot(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get valid(){return this.status===Y}get invalid(){return this.status===j}get pending(){return this.status==ee}get disabled(){return this.status===$}get enabled(){return this.status!==$}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._rawValidators=L,this._composedValidatorFn=xe(L)}setAsyncValidators(L){this._rawAsyncValidators=L,this._composedAsyncValidatorFn=ot(L)}addValidators(L){this.setValidators(An(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(An(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(Gn(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(Gn(L,this._rawAsyncValidators))}hasValidator(L){return xr(this._rawValidators,L)}hasAsyncValidator(L){return xr(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){this.touched=!0,this._parent&&!L.onlySelf&&this._parent.markAsTouched(L)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(L=>L.markAllAsTouched())}markAsUntouched(L={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(R=>{R.markAsUntouched({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}markAsDirty(L={}){this.pristine=!1,this._parent&&!L.onlySelf&&this._parent.markAsDirty(L)}markAsPristine(L={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(R=>{R.markAsPristine({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}markAsPending(L={}){this.status=ee,!1!==L.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!L.onlySelf&&this._parent.markAsPending(L)}disable(L={}){const R=this._parentMarkedDirty(L.onlySelf);this.status=$,this.errors=null,this._forEachChild(pe=>{pe.disable({...L,onlySelf:!0})}),this._updateValue(),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...L,skipPristineCheck:R}),this._onDisabledChange.forEach(pe=>pe(!0))}enable(L={}){const R=this._parentMarkedDirty(L.onlySelf);this.status=Y,this._forEachChild(pe=>{pe.enable({...L,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors({...L,skipPristineCheck:R}),this._onDisabledChange.forEach(pe=>pe(!1))}_updateAncestors(L){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(L){this._parent=L}getRawValue(){return this.value}updateValueAndValidity(L={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Y||this.status===ee)&&this._runAsyncValidator(L.emitEvent)),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity(L)}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$:Y}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L){if(this.asyncValidator){this.status=ee,this._hasOwnPendingAsyncValidator=!0;const R=jt(this.asyncValidator(this));this._asyncValidationSubscription=R.subscribe(pe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(pe,{emitEvent:L})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(L,R={}){this.errors=L,this._updateControlsErrors(!1!==R.emitEvent)}get(L){let R=L;return null==R||(Array.isArray(R)||(R=R.split(".")),0===R.length)?null:R.reduce((pe,Mt)=>pe&&pe._find(Mt),this)}getError(L,R){const pe=R?this.get(R):this;return pe&&pe.errors?pe.errors[L]:null}hasError(L,R){return!!this.getError(L,R)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(L)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?$:this.errors?j:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ee)?ee:this._anyControlsHaveStatus(j)?j:Y}_anyControlsHaveStatus(L){return this._anyControls(R=>R.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L={}){this.pristine=!this._anyControlsDirty(),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}_updateTouched(L={}){this.touched=this._anyControlsTouched(),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){Qt(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(L){return null}}class xn extends mn{constructor(L,R,pe){super(fe(R),Ge(pe,R)),this.controls=L,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,R){return this.controls[L]?this.controls[L]:(this.controls[L]=R,R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange),R)}addControl(L,R,pe={}){this.registerControl(L,R),this.updateValueAndValidity({emitEvent:pe.emitEvent}),this._onCollectionChange()}removeControl(L,R={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}setControl(L,R,pe={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],R&&this.registerControl(L,R),this.updateValueAndValidity({emitEvent:pe.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,R={}){ln(this,0,L),Object.keys(L).forEach(pe=>{nn(this,!0,pe),this.controls[pe].setValue(L[pe],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(L,R={}){null!=L&&(Object.keys(L).forEach(pe=>{const Mt=this.controls[pe];Mt&&Mt.patchValue(L[pe],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(L={},R={}){this._forEachChild((pe,Mt)=>{pe.reset(L[Mt],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this._reduceChildren({},(L,R,pe)=>(L[pe]=R.getRawValue(),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(R,pe)=>!!pe._syncPendingControls()||R);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){Object.keys(this.controls).forEach(R=>{const pe=this.controls[R];pe&&L(pe,R)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const[R,pe]of Object.entries(this.controls))if(this.contains(R)&&L(pe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(R,pe,Mt)=>((pe.enabled||this.disabled)&&(R[Mt]=pe.value),R))}_reduceChildren(L,R){let pe=L;return this._forEachChild((Mt,Tn)=>{pe=R(pe,Mt,Tn)}),pe}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(L){return this.controls.hasOwnProperty(L)?this.controls[L]:null}}class Xe extends xn{}function yt(U,L){return[...L.path,U]}function ie(U,L){ue(U,L),L.valueAccessor.writeValue(U.value),U.disabled&&L.valueAccessor.setDisabledState?.(!0),function Ve(U,L){L.valueAccessor.registerOnChange(R=>{U._pendingValue=R,U._pendingChange=!0,U._pendingDirty=!0,"change"===U.updateOn&&Lt(U,L)})}(U,L),function cn(U,L){const R=(pe,Mt)=>{L.valueAccessor.writeValue(pe),Mt&&L.viewToModelUpdate(pe)};U.registerOnChange(R),L._registerOnDestroy(()=>{U._unregisterOnChange(R)})}(U,L),function gt(U,L){L.valueAccessor.registerOnTouched(()=>{U._pendingTouched=!0,"blur"===U.updateOn&&U._pendingChange&&Lt(U,L),"submit"!==U.updateOn&&U.markAsTouched()})}(U,L),function _e(U,L){if(L.valueAccessor.setDisabledState){const R=pe=>{L.valueAccessor.setDisabledState(pe)};U.registerOnDisabledChange(R),L._registerOnDestroy(()=>{U._unregisterOnDisabledChange(R)})}}(U,L)}function Ce(U,L,R=!0){const pe=()=>{};L.valueAccessor&&(L.valueAccessor.registerOnChange(pe),L.valueAccessor.registerOnTouched(pe)),ne(U,L),U&&(L._invokeOnDestroyCallbacks(),U._registerOnCollectionChange(()=>{}))}function he(U,L){U.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange(L)})}function ue(U,L){const R=Hn(U);null!==L.validator?U.setValidators(zt(R,L.validator)):"function"==typeof R&&U.setValidators([R]);const pe=Nn(U);null!==L.asyncValidator?U.setAsyncValidators(zt(pe,L.asyncValidator)):"function"==typeof pe&&U.setAsyncValidators([pe]);const Mt=()=>U.updateValueAndValidity();he(L._rawValidators,Mt),he(L._rawAsyncValidators,Mt)}function ne(U,L){let R=!1;if(null!==U){if(null!==L.validator){const Mt=Hn(U);if(Array.isArray(Mt)&&Mt.length>0){const Tn=Mt.filter(pi=>pi!==L.validator);Tn.length!==Mt.length&&(R=!0,U.setValidators(Tn))}}if(null!==L.asyncValidator){const Mt=Nn(U);if(Array.isArray(Mt)&&Mt.length>0){const Tn=Mt.filter(pi=>pi!==L.asyncValidator);Tn.length!==Mt.length&&(R=!0,U.setAsyncValidators(Tn))}}}const pe=()=>{};return he(L._rawValidators,pe),he(L._rawAsyncValidators,pe),R}function Lt(U,L){U._pendingDirty&&U.markAsDirty(),U.setValue(U._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate(U._pendingValue),U._pendingChange=!1}function an(U,L){ue(U,L)}function Jr(U,L){if(!U.hasOwnProperty("model"))return!1;const R=U.model;return!!R.isFirstChange()||!Object.is(L,R.currentValue)}function Hr(U,L){U._syncPendingControls(),L.forEach(R=>{const pe=R.control;"submit"===pe.updateOn&&pe._pendingChange&&(R.viewToModelUpdate(pe._pendingValue),pe._pendingChange=!1)})}function Pr(U,L){if(!L)return null;let R,pe,Mt;return Array.isArray(L),L.forEach(Tn=>{Tn.constructor===nt?R=Tn:function Lr(U){return Object.getPrototypeOf(U.constructor)===Ne}(Tn)?pe=Tn:Mt=Tn}),Mt||pe||R||null}const vi={provide:$n,useExisting:(0,c.Gpc)(()=>Ui)},qr=(()=>Promise.resolve())();let Ui=(()=>{class U extends $n{constructor(R,pe){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new xn({},Rn(R),gn(pe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(R){qr.then(()=>{const pe=this._findContainer(R.path);R.control=pe.registerControl(R.name,R.control),ie(R.control,R),R.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(R)})}getControl(R){return this.form.get(R.path)}removeControl(R){qr.then(()=>{const pe=this._findContainer(R.path);pe&&pe.removeControl(R.name),this._directives.delete(R)})}addFormGroup(R){qr.then(()=>{const pe=this._findContainer(R.path),Mt=new xn({});an(Mt,R),pe.registerControl(R.name,Mt),Mt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(R){qr.then(()=>{const pe=this._findContainer(R.path);pe&&pe.removeControl(R.name)})}getFormGroup(R){return this.form.get(R.path)}updateModel(R,pe){qr.then(()=>{this.form.get(R.path).setValue(pe)})}setValue(R){this.control.setValue(R)}onSubmit(R){return this.submitted=!0,Hr(this.form,this._directives),this.ngSubmit.emit(R),"dialog"===R?.target?.method}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(R){return R.pop(),R.length?this.form.get(R):this.form}}return U.\u0275fac=function(R){return new(R||U)(c.Y36(at,10),c.Y36(Fe,10))},U.\u0275dir=c.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(R,pe){1&R&&c.NdJ("submit",function(Tn){return pe.onSubmit(Tn)})("reset",function(){return pe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([vi]),c.qOj]}),U})();function ki(U,L){const R=U.indexOf(L);R>-1&&U.splice(R,1)}function Ai(U){return"object"==typeof U&&null!==U&&2===Object.keys(U).length&&"value"in U&&"disabled"in U}const Ar=class extends mn{constructor(L=null,R,pe){super(fe(R),Ge(pe,R)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(L),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qt(R)&&(R.nonNullable||R.initialValueIsDefault)&&(this.defaultValue=Ai(L)?L.value:L)}setValue(L,R={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(pe=>pe(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue(L,R={}){this.setValue(L,R)}reset(L=this.defaultValue,R={}){this._applyFormState(L),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){ki(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){ki(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){Ai(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}},Is={provide:Zn,useExisting:(0,c.Gpc)(()=>ls)},Rs=(()=>Promise.resolve())();let ls=(()=>{class U extends Zn{constructor(R,pe,Mt,Tn,pi){super(),this._changeDetectorRef=pi,this.control=new Ar,this._registered=!1,this.update=new c.vpe,this._parent=R,this._setValidators(pe),this._setAsyncValidators(Mt),this.valueAccessor=Pr(0,Tn)}ngOnChanges(R){if(this._checkForErrors(),!this._registered||"name"in R){if(this._registered&&(this._checkName(),this.formDirective)){const pe=R.name.previousValue;this.formDirective.removeControl({name:pe,path:this._getPath(pe)})}this._setUpControl()}"isDisabled"in R&&this._updateDisabled(R),Jr(R,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ie(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(R){Rs.then(()=>{this.control.setValue(R,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(R){const pe=R.isDisabled.currentValue,Mt=0!==pe&&(0,c.D6c)(pe);Rs.then(()=>{Mt&&!this.control.disabled?this.control.disable():!Mt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(R){return this._parent?yt(R,this._parent):[R]}}return U.\u0275fac=function(R){return new(R||U)(c.Y36($n,9),c.Y36(at,10),c.Y36(Fe,10),c.Y36(Te,10),c.Y36(c.sBO,8))},U.\u0275dir=c.lG2({type:U,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Is]),c.qOj,c.TTD]}),U})(),zs=(()=>{class U{}return U.\u0275fac=function(R){return new(R||U)},U.\u0275dir=c.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),U})(),Le=(()=>{class U{}return U.\u0275fac=function(R){return new(R||U)},U.\u0275mod=c.oAB({type:U}),U.\u0275inj=c.cJS({}),U})();const Sr=new c.OlP("NgModelWithFormControlWarning"),Ue={provide:$n,useExisting:(0,c.Gpc)(()=>bt)};let bt=(()=>{class U extends $n{constructor(R,pe){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(R),this._setAsyncValidators(pe)}ngOnChanges(R){this._checkFormPresent(),R.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ne(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(R){const pe=this.form.get(R.path);return ie(pe,R),pe.updateValueAndValidity({emitEvent:!1}),this.directives.push(R),pe}getControl(R){return this.form.get(R.path)}removeControl(R){Ce(R.control||null,R,!1),function Ir(U,L){const R=U.indexOf(L);R>-1&&U.splice(R,1)}(this.directives,R)}addFormGroup(R){this._setUpFormContainer(R)}removeFormGroup(R){this._cleanUpFormContainer(R)}getFormGroup(R){return this.form.get(R.path)}addFormArray(R){this._setUpFormContainer(R)}removeFormArray(R){this._cleanUpFormContainer(R)}getFormArray(R){return this.form.get(R.path)}updateModel(R,pe){this.form.get(R.path).setValue(pe)}onSubmit(R){return this.submitted=!0,Hr(this.form,this.directives),this.ngSubmit.emit(R),"dialog"===R?.target?.method}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_updateDomValue(){this.directives.forEach(R=>{const pe=R.control,Mt=this.form.get(R.path);pe!==Mt&&(Ce(pe||null,R),(U=>U instanceof Ar)(Mt)&&(ie(Mt,R),R.control=Mt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(R){const pe=this.form.get(R.path);an(pe,R),pe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(R){if(this.form){const pe=this.form.get(R.path);pe&&function vn(U,L){return ne(U,L)}(pe,R)&&pe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ue(this.form,this),this._oldForm&&ne(this._oldForm,this)}_checkFormPresent(){}}return U.\u0275fac=function(R){return new(R||U)(c.Y36(at,10),c.Y36(Fe,10))},U.\u0275dir=c.lG2({type:U,selectors:[["","formGroup",""]],hostBindings:function(R,pe){1&R&&c.NdJ("submit",function(Tn){return pe.onSubmit(Tn)})("reset",function(){return pe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Ue]),c.qOj,c.TTD]}),U})();const ts={provide:Zn,useExisting:(0,c.Gpc)(()=>Gi)};let Gi=(()=>{class U extends Zn{constructor(R,pe,Mt,Tn,pi){super(),this._ngModelWarningConfig=pi,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=R,this._setValidators(pe),this._setAsyncValidators(Mt),this.valueAccessor=Pr(0,Tn)}set isDisabled(R){}ngOnChanges(R){this._added||this._setUpControl(),Jr(R,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}get path(){return yt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return U._ngModelWarningSentOnce=!1,U.\u0275fac=function(R){return new(R||U)(c.Y36($n,13),c.Y36(at,10),c.Y36(Fe,10),c.Y36(Te,10),c.Y36(Sr,8))},U.\u0275dir=c.lG2({type:U,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([ts]),c.qOj,c.TTD]}),U})();let vs=(()=>{class U{constructor(){this._validator=ct}ngOnChanges(R){if(this.inputName in R){const pe=this.normalizeInput(R[this.inputName].currentValue);this._enabled=this.enabled(pe),this._validator=this._enabled?this.createValidator(pe):ct,this._onChange&&this._onChange()}}validate(R){return this._validator(R)}registerOnValidatorChange(R){this._onChange=R}enabled(R){return null!=R}}return U.\u0275fac=function(R){return new(R||U)},U.\u0275dir=c.lG2({type:U,features:[c.TTD]}),U})();const Vr={provide:at,useExisting:(0,c.Gpc)(()=>Ns),multi:!0};let Ns=(()=>{class U extends vs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=R=>tt}enabled(R){return R}}return U.\u0275fac=function(){let L;return function(pe){return(L||(L=c.n5z(U)))(pe||U)}}(),U.\u0275dir=c.lG2({type:U,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(R,pe){2&R&&c.uIk("required",pe._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([Vr]),c.qOj]}),U})();const qi={provide:at,useExisting:(0,c.Gpc)(()=>fs),multi:!0};let fs=(()=>{class U extends vs{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=R=>function ro(U){return"number"==typeof U?U:parseInt(U,10)}(R),this.createValidator=R=>Re(R)}}return U.\u0275fac=function(){let L;return function(pe){return(L||(L=c.n5z(U)))(pe||U)}}(),U.\u0275dir=c.lG2({type:U,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(R,pe){2&R&&c.uIk("maxlength",pe._enabled?pe.maxlength:null)},inputs:{maxlength:"maxlength"},features:[c._Bn([qi]),c.qOj]}),U})(),Vs=(()=>{class U{}return U.\u0275fac=function(R){return new(R||U)},U.\u0275mod=c.oAB({type:U}),U.\u0275inj=c.cJS({imports:[Le]}),U})(),bo=(()=>{class U{}return U.\u0275fac=function(R){return new(R||U)},U.\u0275mod=c.oAB({type:U}),U.\u0275inj=c.cJS({imports:[Vs]}),U})(),Ys=(()=>{class U{static withConfig(R){return{ngModule:U,providers:[{provide:Sr,useValue:R.warnOnNgModelWithFormControl}]}}}return U.\u0275fac=function(R){return new(R||U)},U.\u0275mod=c.oAB({type:U}),U.\u0275inj=c.cJS({imports:[Vs]}),U})();class rs extends mn{constructor(L,R,pe){super(fe(R),Ge(pe,R)),this.controls=L,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(L){return this.controls[this._adjustIndex(L)]}push(L,R={}){this.controls.push(L),this._registerControl(L),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}insert(L,R,pe={}){this.controls.splice(L,0,R),this._registerControl(R),this.updateValueAndValidity({emitEvent:pe.emitEvent})}removeAt(L,R={}){let pe=this._adjustIndex(L);pe<0&&(pe=0),this.controls[pe]&&this.controls[pe]._registerOnCollectionChange(()=>{}),this.controls.splice(pe,1),this.updateValueAndValidity({emitEvent:R.emitEvent})}setControl(L,R,pe={}){let Mt=this._adjustIndex(L);Mt<0&&(Mt=0),this.controls[Mt]&&this.controls[Mt]._registerOnCollectionChange(()=>{}),this.controls.splice(Mt,1),R&&(this.controls.splice(Mt,0,R),this._registerControl(R)),this.updateValueAndValidity({emitEvent:pe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(L,R={}){ln(this,0,L),L.forEach((pe,Mt)=>{nn(this,!1,Mt),this.at(Mt).setValue(pe,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(L,R={}){null!=L&&(L.forEach((pe,Mt)=>{this.at(Mt)&&this.at(Mt).patchValue(pe,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(L=[],R={}){this._forEachChild((pe,Mt)=>{pe.reset(L[Mt],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this.controls.map(L=>L.getRawValue())}clear(L={}){this.controls.length<1||(this._forEachChild(R=>R._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:L.emitEvent}))}_adjustIndex(L){return L<0?L+this.length:L}_syncPendingControls(){let L=this.controls.reduce((R,pe)=>!!pe._syncPendingControls()||R,!1);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){this.controls.forEach((R,pe)=>{L(R,pe)})}_updateValue(){this.value=this.controls.filter(L=>L.enabled||this.disabled).map(L=>L.value)}_anyControls(L){return this.controls.some(R=>R.enabled&&L(R))}_setUpControls(){this._forEachChild(L=>this._registerControl(L))}_allControlsDisabled(){for(const L of this.controls)if(L.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(L){L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)}_find(L){return this.at(L)??null}}function Wt(U){return!!U&&(void 0!==U.asyncValidators||void 0!==U.validators||void 0!==U.updateOn)}let Er=(()=>{class U{constructor(){this.useNonNullable=!1}get nonNullable(){const R=new U;return R.useNonNullable=!0,R}group(R,pe=null){const Mt=this._reduceControls(R);let Tn={};return Wt(pe)?Tn=pe:null!==pe&&(Tn.validators=pe.validator,Tn.asyncValidators=pe.asyncValidator),new xn(Mt,Tn)}record(R,pe=null){const Mt=this._reduceControls(R);return new Xe(Mt,pe)}control(R,pe,Mt){let Tn={};return this.useNonNullable?(Wt(pe)?Tn=pe:(Tn.validators=pe,Tn.asyncValidators=Mt),new Ar(R,{...Tn,nonNullable:!0})):new Ar(R,pe,Mt)}array(R,pe,Mt){const Tn=R.map(pi=>this._createControl(pi));return new rs(Tn,pe,Mt)}_reduceControls(R){const pe={};return Object.keys(R).forEach(Mt=>{pe[Mt]=this._createControl(R[Mt])}),pe}_createControl(R){return R instanceof Ar||R instanceof mn?R:Array.isArray(R)?this.control(R[0],R.length>1?R[1]:null,R.length>2?R[2]:null):this.control(R)}}return U.\u0275fac=function(R){return new(R||U)},U.\u0275prov=c.Yz7({token:U,factory:U.\u0275fac,providedIn:Ys}),U})()},4859:(en,rt,S)=>{"use strict";S.d(rt,{lW:()=>ce,ot:()=>De});var c=S(4650),C=S(3238),I=S(7253);const re=["mat-button",""],ge=["*"],Te=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],ke=(0,C.pj)((0,C.Id)((0,C.Kr)(class{constructor(it){this._elementRef=it}})));let ce=(()=>{class it extends ke{constructor(ze,_t,Je){super(ze),this._focusMonitor=_t,this._animationMode=Je,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const at of Te)this._hasHostAttributes(at)&&this._getHostElement().classList.add(at);ze.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(ze,_t){ze?this._focusMonitor.focusVia(this._getHostElement(),ze,_t):this._getHostElement().focus(_t)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...ze){return ze.some(_t=>this._getHostElement().hasAttribute(_t))}}return it.\u0275fac=function(ze){return new(ze||it)(c.Y36(c.SBq),c.Y36(I.tE),c.Y36(c.QbO,8))},it.\u0275cmp=c.Xpm({type:it,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(ze,_t){if(1&ze&&c.Gf(C.wG,5),2&ze){let Je;c.iGM(Je=c.CRH())&&(_t.ripple=Je.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(ze,_t){2&ze&&(c.uIk("disabled",_t.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===_t._animationMode)("mat-button-disabled",_t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:re,ngContentSelectors:ge,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(ze,_t){1&ze&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&ze&&(c.xp6(2),c.ekj("mat-button-ripple-round",_t.isRoundButton||_t.isIconButton),c.Q6J("matRippleDisabled",_t._isRippleDisabled())("matRippleCentered",_t.isIconButton)("matRippleTrigger",_t._getHostElement()))},dependencies:[C.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),it})(),De=(()=>{class it{}return it.\u0275fac=function(ze){return new(ze||it)},it.\u0275mod=c.oAB({type:it}),it.\u0275inj=c.cJS({imports:[C.si,C.BQ,C.BQ]}),it})()},3238:(en,rt,S)=>{"use strict";S.d(rt,{rD:()=>pn,BQ:()=>at,wG:()=>Qn,si:()=>$t,pj:()=>Ie,Kr:()=>tt,Id:()=>we,FD:()=>ye,sb:()=>Et});var c=S(4650),C=S(7253),I=S(445),ge=S(6895),Me=S(3353),Ne=S(1281);const Je=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function _t(){return!0}});let at=(()=>{class qe{constructor(Z,q,Y){this._sanityChecks=q,this._document=Y,this._hasDoneGlobalChecks=!1,Z._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Z){return!(0,Me.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Z])}}return qe.\u0275fac=function(Z){return new(Z||qe)(c.LFG(C.qm),c.LFG(Je,8),c.LFG(ge.K0))},qe.\u0275mod=c.oAB({type:qe}),qe.\u0275inj=c.cJS({imports:[I.vT,I.vT]}),qe})();function we(qe){return class extends qe{constructor(...N){super(...N),this._disabled=!1}get disabled(){return this._disabled}set disabled(N){this._disabled=(0,Ne.Ig)(N)}}}function Ie(qe,N){return class extends qe{constructor(...Z){super(...Z),this.defaultColor=N,this.color=N}get color(){return this._color}set color(Z){const q=Z||this.defaultColor;q!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),q&&this._elementRef.nativeElement.classList.add(`mat-${q}`),this._color=q)}}}function tt(qe){return class extends qe{constructor(...N){super(...N),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(N){this._disableRipple=(0,Ne.Ig)(N)}}}function Et(qe,N=0){return class extends qe{constructor(...Z){super(...Z),this._tabIndex=N,this.defaultTabIndex=N}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Z){this._tabIndex=null!=Z?(0,Ne.su)(Z):this.defaultTabIndex}}}function ye(qe){return class extends qe{constructor(...N){super(...N),this.errorState=!1}updateErrorState(){const N=this.errorState,j=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);j!==N&&(this.errorState=j,this.stateChanges.next())}}}let pn=(()=>{class qe{isErrorState(Z,q){return!!(Z&&Z.invalid&&(Z.touched||q&&q.submitted))}}return qe.\u0275fac=function(Z){return new(Z||qe)},qe.\u0275prov=c.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe})();class wn{constructor(N,Z,q,Y=!1){this._renderer=N,this.element=Z,this.config=q,this._animationForciblyDisabledThroughCss=Y,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const xr={enterDuration:225,exitDuration:150},Gn=(0,Me.i$)({passive:!0}),or=["mousedown","touchstart"],$n=["mouseup","mouseleave","touchend","touchcancel"];class Zn{constructor(N,Z,q,Y){this._target=N,this._ngZone=Z,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Y.isBrowser&&(this._containerElement=(0,Ne.fI)(q))}fadeInRipple(N,Z,q={}){const Y=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),j={...xr,...q.animation};q.centered&&(N=Y.left+Y.width/2,Z=Y.top+Y.height/2);const ee=q.radius||function hr(qe,N,Z){const q=Math.max(Math.abs(qe-Z.left),Math.abs(qe-Z.right)),Y=Math.max(Math.abs(N-Z.top),Math.abs(N-Z.bottom));return Math.sqrt(q*q+Y*Y)}(N,Z,Y),$=N-Y.left,fe=Z-Y.top,xe=j.enterDuration,Ge=document.createElement("div");Ge.classList.add("mat-ripple-element"),Ge.style.left=$-ee+"px",Ge.style.top=fe-ee+"px",Ge.style.height=2*ee+"px",Ge.style.width=2*ee+"px",null!=q.color&&(Ge.style.backgroundColor=q.color),Ge.style.transitionDuration=`${xe}ms`,this._containerElement.appendChild(Ge);const ot=window.getComputedStyle(Ge),nn=ot.transitionDuration,ln="none"===ot.transitionProperty||"0s"===nn||"0s, 0s"===nn,mn=new wn(this,Ge,q,ln);Ge.style.transform="scale3d(1, 1, 1)",mn.state=0,q.persistent||(this._mostRecentTransientRipple=mn);let xn=null;return!ln&&(xe||j.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ar=()=>this._finishRippleTransition(mn),mt=()=>this._destroyRipple(mn);Ge.addEventListener("transitionend",ar),Ge.addEventListener("transitioncancel",mt),xn={onTransitionEnd:ar,onTransitionCancel:mt}}),this._activeRipples.set(mn,xn),(ln||!xe)&&this._finishRippleTransition(mn),mn}fadeOutRipple(N){if(2===N.state||3===N.state)return;const Z=N.element,q={...xr,...N.config.animation};Z.style.transitionDuration=`${q.exitDuration}ms`,Z.style.opacity="0",N.state=2,(N._animationForciblyDisabledThroughCss||!q.exitDuration)&&this._finishRippleTransition(N)}fadeOutAll(){this._getActiveRipples().forEach(N=>N.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(N=>{N.config.persistent||N.fadeOut()})}setupTriggerEvents(N){const Z=(0,Ne.fI)(N);!Z||Z===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Z,this._registerEvents(or))}handleEvent(N){"mousedown"===N.type?this._onMousedown(N):"touchstart"===N.type?this._onTouchStart(N):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents($n),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(N){0===N.state?this._startFadeOutTransition(N):2===N.state&&this._destroyRipple(N)}_startFadeOutTransition(N){const Z=N===this._mostRecentTransientRipple,{persistent:q}=N.config;N.state=1,!q&&(!Z||!this._isPointerDown)&&N.fadeOut()}_destroyRipple(N){const Z=this._activeRipples.get(N)??null;this._activeRipples.delete(N),this._activeRipples.size||(this._containerRect=null),N===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),N.state=3,null!==Z&&(N.element.removeEventListener("transitionend",Z.onTransitionEnd),N.element.removeEventListener("transitioncancel",Z.onTransitionCancel)),N.element.remove()}_onMousedown(N){const Z=(0,C.X6)(N),q=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Z&&!q&&(this._isPointerDown=!0,this.fadeInRipple(N.clientX,N.clientY,this._target.rippleConfig))}_onTouchStart(N){if(!this._target.rippleDisabled&&!(0,C.yG)(N)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Z=N.changedTouches;for(let q=0;q<Z.length;q++)this.fadeInRipple(Z[q].clientX,Z[q].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(N=>{!N.config.persistent&&(1===N.state||N.config.terminateOnPointerUp&&0===N.state)&&N.fadeOut()}))}_registerEvents(N){this._ngZone.runOutsideAngular(()=>{N.forEach(Z=>{this._triggerElement.addEventListener(Z,this,Gn)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(or.forEach(N=>{this._triggerElement.removeEventListener(N,this,Gn)}),this._pointerUpEventsRegistered&&$n.forEach(N=>{this._triggerElement.removeEventListener(N,this,Gn)}))}}const Bn=new c.OlP("mat-ripple-global-options");let Qn=(()=>{class qe{constructor(Z,q,Y,j,ee){this._elementRef=Z,this._animationMode=ee,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=j||{},this._rippleRenderer=new Zn(this,q,Z,Y)}get disabled(){return this._disabled}set disabled(Z){Z&&this.fadeOutAllNonPersistent(),this._disabled=Z,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Z){this._trigger=Z,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Z,q=0,Y){return"number"==typeof Z?this._rippleRenderer.fadeInRipple(Z,q,{...this.rippleConfig,...Y}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Z})}}return qe.\u0275fac=function(Z){return new(Z||qe)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Me.t4),c.Y36(Bn,8),c.Y36(c.QbO,8))},qe.\u0275dir=c.lG2({type:qe,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Z,q){2&Z&&c.ekj("mat-ripple-unbounded",q.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),qe})(),$t=(()=>{class qe{}return qe.\u0275fac=function(Z){return new(Z||qe)},qe.\u0275mod=c.oAB({type:qe}),qe.\u0275inj=c.cJS({imports:[at,at]}),qe})()},4988:(en,rt,S)=>{"use strict";S.d(rt,{G_:()=>qe,TO:()=>Zn,KE:()=>N,Eo:()=>Bn,lN:()=>Z,hX:()=>sn,R9:()=>Bt});var c=S(1281),C=S(4650),I=S(9751),re=S(7579),ge=S(8372);let Me=(()=>{class q{create(j){return typeof MutationObserver>"u"?null:new MutationObserver(j)}}return q.\u0275fac=function(j){return new(j||q)},q.\u0275prov=C.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),Ne=(()=>{class q{constructor(j){this._mutationObserverFactory=j,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((j,ee)=>this._cleanupObserver(ee))}observe(j){const ee=(0,c.fI)(j);return new I.y($=>{const xe=this._observeElement(ee).subscribe($);return()=>{xe.unsubscribe(),this._unobserveElement(ee)}})}_observeElement(j){if(this._observedElements.has(j))this._observedElements.get(j).count++;else{const ee=new re.x,$=this._mutationObserverFactory.create(fe=>ee.next(fe));$&&$.observe(j,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(j,{observer:$,stream:ee,count:1})}return this._observedElements.get(j).stream}_unobserveElement(j){this._observedElements.has(j)&&(this._observedElements.get(j).count--,this._observedElements.get(j).count||this._cleanupObserver(j))}_cleanupObserver(j){if(this._observedElements.has(j)){const{observer:ee,stream:$}=this._observedElements.get(j);ee&&ee.disconnect(),$.complete(),this._observedElements.delete(j)}}}return q.\u0275fac=function(j){return new(j||q)(C.LFG(Me))},q.\u0275prov=C.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),Te=(()=>{class q{constructor(j,ee,$){this._contentObserver=j,this._elementRef=ee,this._ngZone=$,this.event=new C.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(j){this._disabled=(0,c.Ig)(j),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(j){this._debounce=(0,c.su)(j),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const j=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?j.pipe((0,ge.b)(this.debounce)):j).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return q.\u0275fac=function(j){return new(j||q)(C.Y36(Ne),C.Y36(C.SBq),C.Y36(C.R0b))},q.\u0275dir=C.lG2({type:q,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),q})(),ke=(()=>{class q{}return q.\u0275fac=function(j){return new(j||q)},q.\u0275mod=C.oAB({type:q}),q.\u0275inj=C.cJS({providers:[Me]}),q})();var ce=S(6895),be=S(3238),De=S(445),it=S(6451),nt=S(8421),ze=S(5577),_t=S(1144),Je=S(576),at=S(3268);const Fe=["addListener","removeListener"],Rt=["addEventListener","removeEventListener"],Be=["on","off"];function we(q,Y,j,ee){if((0,Je.m)(j)&&(ee=j,j=void 0),ee)return we(q,Y,j).pipe((0,at.Z)(ee));const[$,fe]=function ye(q){return(0,Je.m)(q.addEventListener)&&(0,Je.m)(q.removeEventListener)}(q)?Rt.map(xe=>Ge=>q[xe](Y,Ge,j)):function tt(q){return(0,Je.m)(q.addListener)&&(0,Je.m)(q.removeListener)}(q)?Fe.map(Ie(q,Y)):function Et(q){return(0,Je.m)(q.on)&&(0,Je.m)(q.off)}(q)?Be.map(Ie(q,Y)):[];if(!$&&(0,_t.z)(q))return(0,ze.z)(xe=>we(xe,Y,j))((0,nt.Xf)(q));if(!$)throw new TypeError("Invalid event target");return new I.y(xe=>{const Ge=(...ot)=>xe.next(1<ot.length?ot:ot[0]);return $(Ge),()=>fe(Ge)})}function Ie(q,Y){return j=>ee=>q[j](Y,ee)}var pt=S(8675),Re=S(2722),Ye=S(5698),ct=S(7340),dt=S(3353);const jt=["connectionContainer"],Gt=["inputContainer"],Kt=["label"];function fn(q,Y){1&q&&(C.ynx(0),C.TgZ(1,"div",14),C._UZ(2,"div",15)(3,"div",16)(4,"div",17),C.qZA(),C.TgZ(5,"div",18),C._UZ(6,"div",15)(7,"div",16)(8,"div",17),C.qZA(),C.BQk())}function tn(q,Y){if(1&q){const j=C.EpF();C.TgZ(0,"div",19),C.NdJ("cdkObserveContent",function(){C.CHM(j);const $=C.oxw();return C.KtG($.updateOutlineGap())}),C.Hsn(1,1),C.qZA()}if(2&q){const j=C.oxw();C.Q6J("cdkObserveContentDisabled","outline"!=j.appearance)}}function Nt(q,Y){if(1&q&&(C.ynx(0),C.Hsn(1,2),C.TgZ(2,"span"),C._uU(3),C.qZA(),C.BQk()),2&q){const j=C.oxw(2);C.xp6(3),C.Oqu(j._control.placeholder)}}function Rn(q,Y){1&q&&C.Hsn(0,3,["*ngSwitchCase","true"])}function pn(q,Y){1&q&&(C.TgZ(0,"span",23),C._uU(1," *"),C.qZA())}function gn(q,Y){if(1&q){const j=C.EpF();C.TgZ(0,"label",20,21),C.NdJ("cdkObserveContent",function(){C.CHM(j);const $=C.oxw();return C.KtG($.updateOutlineGap())}),C.YNc(2,Nt,4,1,"ng-container",12),C.YNc(3,Rn,1,0,"ng-content",12),C.YNc(4,pn,2,0,"span",22),C.qZA()}if(2&q){const j=C.oxw();C.ekj("mat-empty",j._control.empty&&!j._shouldAlwaysFloat())("mat-form-field-empty",j._control.empty&&!j._shouldAlwaysFloat())("mat-accent","accent"==j.color)("mat-warn","warn"==j.color),C.Q6J("cdkObserveContentDisabled","outline"!=j.appearance)("id",j._labelId)("ngSwitch",j._hasLabel()),C.uIk("for",j._control.id)("aria-owns",j._control.id),C.xp6(2),C.Q6J("ngSwitchCase",!1),C.xp6(1),C.Q6J("ngSwitchCase",!0),C.xp6(1),C.Q6J("ngIf",!j.hideRequiredMarker&&j._control.required&&!j._control.disabled)}}function zt(q,Y){1&q&&(C.TgZ(0,"div",24),C.Hsn(1,4),C.qZA())}function Hn(q,Y){if(1&q&&(C.TgZ(0,"div",25),C._UZ(1,"span",26),C.qZA()),2&q){const j=C.oxw();C.xp6(1),C.ekj("mat-accent","accent"==j.color)("mat-warn","warn"==j.color)}}function Nn(q,Y){if(1&q&&(C.TgZ(0,"div"),C.Hsn(1,5),C.qZA()),2&q){const j=C.oxw();C.Q6J("@transitionMessages",j._subscriptAnimationState)}}function wn(q,Y){if(1&q&&(C.TgZ(0,"div",30),C._uU(1),C.qZA()),2&q){const j=C.oxw(2);C.Q6J("id",j._hintLabelId),C.xp6(1),C.Oqu(j.hintLabel)}}function xr(q,Y){if(1&q&&(C.TgZ(0,"div",27),C.YNc(1,wn,2,2,"div",28),C.Hsn(2,6),C._UZ(3,"div",29),C.Hsn(4,7),C.qZA()),2&q){const j=C.oxw();C.Q6J("@transitionMessages",j._subscriptAnimationState),C.xp6(1),C.Q6J("ngIf",j.hintLabel)}}const An=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Gn=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let or=0;const $n=new C.OlP("MatError");let Zn=(()=>{class q{constructor(j,ee){this.id="mat-error-"+or++,j||ee.nativeElement.setAttribute("aria-live","polite")}}return q.\u0275fac=function(j){return new(j||q)(C.$8M("aria-live"),C.Y36(C.SBq))},q.\u0275dir=C.lG2({type:q,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(j,ee){2&j&&C.uIk("id",ee.id)},inputs:{id:"id"},features:[C._Bn([{provide:$n,useExisting:q}])]}),q})();const hr={transitionMessages:(0,ct.X$)("transitionMessages",[(0,ct.SB)("enter",(0,ct.oB)({opacity:1,transform:"translateY(0%)"})),(0,ct.eR)("void => enter",[(0,ct.oB)({opacity:0,transform:"translateY(-5px)"}),(0,ct.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Bn=(()=>{class q{}return q.\u0275fac=function(j){return new(j||q)},q.\u0275dir=C.lG2({type:q}),q})();const ir=new C.OlP("MatHint");let sn=(()=>{class q{}return q.\u0275fac=function(j){return new(j||q)},q.\u0275dir=C.lG2({type:q,selectors:[["mat-label"]]}),q})(),Ct=(()=>{class q{}return q.\u0275fac=function(j){return new(j||q)},q.\u0275dir=C.lG2({type:q,selectors:[["mat-placeholder"]]}),q})();const st=new C.OlP("MatPrefix"),Tt=new C.OlP("MatSuffix");let Bt=(()=>{class q{}return q.\u0275fac=function(j){return new(j||q)},q.\u0275dir=C.lG2({type:q,selectors:[["","matSuffix",""]],features:[C._Bn([{provide:Tt,useExisting:q}])]}),q})(),_n=0;const qn=(0,be.pj)(class{constructor(q){this._elementRef=q}},"primary"),Qe=new C.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),qe=new C.OlP("MatFormField");let N=(()=>{class q extends qn{constructor(j,ee,$,fe,xe,Ge,ot){super(j),this._changeDetectorRef=ee,this._dir=$,this._defaults=fe,this._platform=xe,this._ngZone=Ge,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new re.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+_n++,this._labelId="mat-form-field-label-"+_n++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==ot,this.appearance=fe?.appearance||"legacy",fe&&(this._hideRequiredMarker=Boolean(fe.hideRequiredMarker),fe.color&&(this.color=this.defaultColor=fe.color))}get appearance(){return this._appearance}set appearance(j){const ee=this._appearance;this._appearance=j||this._defaults?.appearance||"legacy","outline"===this._appearance&&ee!==j&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(j){this._hideRequiredMarker=(0,c.Ig)(j)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(j){this._hintLabel=j,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(j){j!==this._floatLabel&&(this._floatLabel=j||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(j){this._explicitFormFieldControl=j}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const j=this._control;j.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${j.controlType}`),j.stateChanges.pipe((0,pt.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),j.ngControl&&j.ngControl.valueChanges&&j.ngControl.valueChanges.pipe((0,Re.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Re.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,it.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,pt.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,pt.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,Re.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(j){const ee=this._control?this._control.ngControl:null;return ee&&ee[j]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,we(this._label.nativeElement,"transitionend").pipe((0,Ye.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let j=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&j.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const ee=this._hintChildren?this._hintChildren.find(fe=>"start"===fe.align):null,$=this._hintChildren?this._hintChildren.find(fe=>"end"===fe.align):null;ee?j.push(ee.id):this._hintLabel&&j.push(this._hintLabelId),$&&j.push($.id)}else this._errorChildren&&j.push(...this._errorChildren.map(ee=>ee.id));this._control.setDescribedByIds(j)}}_validateControlChild(){}updateOutlineGap(){const j=this._label?this._label.nativeElement:null,ee=this._connectionContainerRef.nativeElement,$=".mat-form-field-outline-start",fe=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!j||!j.children.length||!j.textContent.trim()){const nn=ee.querySelectorAll(`${$}, ${fe}`);for(let ln=0;ln<nn.length;ln++)nn[ln].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let xe=0,Ge=0;const ot=ee.querySelectorAll($),Qt=ee.querySelectorAll(fe);if(this._label&&this._label.nativeElement.children.length){const nn=ee.getBoundingClientRect();if(0===nn.width&&0===nn.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const ln=this._getStartEnd(nn),mn=j.children,xn=this._getStartEnd(mn[0].getBoundingClientRect());let ar=0;for(let mt=0;mt<mn.length;mt++)ar+=mn[mt].offsetWidth;xe=Math.abs(xn-ln)-5,Ge=ar>0?.75*ar+10:0}for(let nn=0;nn<ot.length;nn++)ot[nn].style.width=`${xe}px`;for(let nn=0;nn<Qt.length;nn++)Qt[nn].style.width=`${Ge}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(j){return this._dir&&"rtl"===this._dir.value?j.right:j.left}_isAttachedToDOM(){const j=this._elementRef.nativeElement;if(j.getRootNode){const ee=j.getRootNode();return ee&&ee!==j}return document.documentElement.contains(j)}}return q.\u0275fac=function(j){return new(j||q)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(De.Is,8),C.Y36(Qe,8),C.Y36(dt.t4),C.Y36(C.R0b),C.Y36(C.QbO,8))},q.\u0275cmp=C.Xpm({type:q,selectors:[["mat-form-field"]],contentQueries:function(j,ee,$){if(1&j&&(C.Suo($,Bn,5),C.Suo($,Bn,7),C.Suo($,sn,5),C.Suo($,sn,7),C.Suo($,Ct,5),C.Suo($,$n,5),C.Suo($,ir,5),C.Suo($,st,5),C.Suo($,Tt,5)),2&j){let fe;C.iGM(fe=C.CRH())&&(ee._controlNonStatic=fe.first),C.iGM(fe=C.CRH())&&(ee._controlStatic=fe.first),C.iGM(fe=C.CRH())&&(ee._labelChildNonStatic=fe.first),C.iGM(fe=C.CRH())&&(ee._labelChildStatic=fe.first),C.iGM(fe=C.CRH())&&(ee._placeholderChild=fe.first),C.iGM(fe=C.CRH())&&(ee._errorChildren=fe),C.iGM(fe=C.CRH())&&(ee._hintChildren=fe),C.iGM(fe=C.CRH())&&(ee._prefixChildren=fe),C.iGM(fe=C.CRH())&&(ee._suffixChildren=fe)}},viewQuery:function(j,ee){if(1&j&&(C.Gf(jt,7),C.Gf(Gt,5),C.Gf(Kt,5)),2&j){let $;C.iGM($=C.CRH())&&(ee._connectionContainerRef=$.first),C.iGM($=C.CRH())&&(ee._inputContainerRef=$.first),C.iGM($=C.CRH())&&(ee._label=$.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(j,ee){2&j&&C.ekj("mat-form-field-appearance-standard","standard"==ee.appearance)("mat-form-field-appearance-fill","fill"==ee.appearance)("mat-form-field-appearance-outline","outline"==ee.appearance)("mat-form-field-appearance-legacy","legacy"==ee.appearance)("mat-form-field-invalid",ee._control.errorState)("mat-form-field-can-float",ee._canLabelFloat())("mat-form-field-should-float",ee._shouldLabelFloat())("mat-form-field-has-label",ee._hasFloatingLabel())("mat-form-field-hide-placeholder",ee._hideControlPlaceholder())("mat-form-field-disabled",ee._control.disabled)("mat-form-field-autofilled",ee._control.autofilled)("mat-focused",ee._control.focused)("ng-untouched",ee._shouldForward("untouched"))("ng-touched",ee._shouldForward("touched"))("ng-pristine",ee._shouldForward("pristine"))("ng-dirty",ee._shouldForward("dirty"))("ng-valid",ee._shouldForward("valid"))("ng-invalid",ee._shouldForward("invalid"))("ng-pending",ee._shouldForward("pending"))("_mat-animation-noopable",!ee._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[C._Bn([{provide:qe,useExisting:q}]),C.qOj],ngContentSelectors:Gn,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(j,ee){1&j&&(C.F$t(An),C.TgZ(0,"div",0)(1,"div",1,2),C.NdJ("click",function(fe){return ee._control.onContainerClick&&ee._control.onContainerClick(fe)}),C.YNc(3,fn,9,0,"ng-container",3),C.YNc(4,tn,2,1,"div",4),C.TgZ(5,"div",5,6),C.Hsn(7),C.TgZ(8,"span",7),C.YNc(9,gn,5,16,"label",8),C.qZA()(),C.YNc(10,zt,2,0,"div",9),C.qZA(),C.YNc(11,Hn,2,4,"div",10),C.TgZ(12,"div",11),C.YNc(13,Nn,2,1,"div",12),C.YNc(14,xr,5,2,"div",13),C.qZA()()),2&j&&(C.xp6(3),C.Q6J("ngIf","outline"==ee.appearance),C.xp6(1),C.Q6J("ngIf",ee._prefixChildren.length),C.xp6(5),C.Q6J("ngIf",ee._hasFloatingLabel()),C.xp6(1),C.Q6J("ngIf",ee._suffixChildren.length),C.xp6(1),C.Q6J("ngIf","outline"!=ee.appearance),C.xp6(1),C.Q6J("ngSwitch",ee._getDisplayedMessages()),C.xp6(1),C.Q6J("ngSwitchCase","error"),C.xp6(1),C.Q6J("ngSwitchCase","hint"))},dependencies:[ce.O5,ce.RF,ce.n9,Te],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[hr.transitionMessages]},changeDetection:0}),q})(),Z=(()=>{class q{}return q.\u0275fac=function(j){return new(j||q)},q.\u0275mod=C.oAB({type:q}),q.\u0275inj=C.cJS({imports:[ce.ez,be.BQ,ke,be.BQ]}),q})()},3336:(en,rt,S)=>{"use strict";S.d(rt,{Hw:()=>Ce,Ps:()=>he});var c=S(4650),C=S(3238),I=S(1281),re=S(6895),ge=S(9646),Me=S(2843),Ne=S(4128),Te=S(727),ke=S(8505),ce=S(4004),be=S(262),De=S(8746),it=S(3099),nt=S(5698),ze=S(4351),_t=S(9300);class Je{}class Fe{constructor(ue){this.normalizedNames=new Map,this.lazyUpdate=null,ue?this.lazyInit="string"==typeof ue?()=>{this.headers=new Map,ue.split("\n").forEach(ne=>{const Ve=ne.indexOf(":");if(Ve>0){const gt=ne.slice(0,Ve),Lt=gt.toLowerCase(),cn=ne.slice(Ve+1).trim();this.maybeSetNormalizedName(gt,Lt),this.headers.has(Lt)?this.headers.get(Lt).push(cn):this.headers.set(Lt,[cn])}})}:()=>{this.headers=new Map,Object.keys(ue).forEach(ne=>{let Ve=ue[ne];const gt=ne.toLowerCase();"string"==typeof Ve&&(Ve=[Ve]),Ve.length>0&&(this.headers.set(gt,Ve),this.maybeSetNormalizedName(ne,gt))})}:this.headers=new Map}has(ue){return this.init(),this.headers.has(ue.toLowerCase())}get(ue){this.init();const ne=this.headers.get(ue.toLowerCase());return ne&&ne.length>0?ne[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ue){return this.init(),this.headers.get(ue.toLowerCase())||null}append(ue,ne){return this.clone({name:ue,value:ne,op:"a"})}set(ue,ne){return this.clone({name:ue,value:ne,op:"s"})}delete(ue,ne){return this.clone({name:ue,value:ne,op:"d"})}maybeSetNormalizedName(ue,ne){this.normalizedNames.has(ne)||this.normalizedNames.set(ne,ue)}init(){this.lazyInit&&(this.lazyInit instanceof Fe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ue=>this.applyUpdate(ue)),this.lazyUpdate=null))}copyFrom(ue){ue.init(),Array.from(ue.headers.keys()).forEach(ne=>{this.headers.set(ne,ue.headers.get(ne)),this.normalizedNames.set(ne,ue.normalizedNames.get(ne))})}clone(ue){const ne=new Fe;return ne.lazyInit=this.lazyInit&&this.lazyInit instanceof Fe?this.lazyInit:this,ne.lazyUpdate=(this.lazyUpdate||[]).concat([ue]),ne}applyUpdate(ue){const ne=ue.name.toLowerCase();switch(ue.op){case"a":case"s":let Ve=ue.value;if("string"==typeof Ve&&(Ve=[Ve]),0===Ve.length)return;this.maybeSetNormalizedName(ue.name,ne);const gt=("a"===ue.op?this.headers.get(ne):void 0)||[];gt.push(...Ve),this.headers.set(ne,gt);break;case"d":const Lt=ue.value;if(Lt){let cn=this.headers.get(ne);if(!cn)return;cn=cn.filter(an=>-1===Lt.indexOf(an)),0===cn.length?(this.headers.delete(ne),this.normalizedNames.delete(ne)):this.headers.set(ne,cn)}else this.headers.delete(ne),this.normalizedNames.delete(ne)}}forEach(ue){this.init(),Array.from(this.normalizedNames.keys()).forEach(ne=>ue(this.normalizedNames.get(ne),this.headers.get(ne)))}}class Be{encodeKey(ue){return Et(ue)}encodeValue(ue){return Et(ue)}decodeKey(ue){return decodeURIComponent(ue)}decodeValue(ue){return decodeURIComponent(ue)}}const Ie=/%(\d[a-f0-9])/gi,tt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Et(_e){return encodeURIComponent(_e).replace(Ie,(ue,ne)=>tt[ne]??ue)}function ye(_e){return`${_e}`}class pt{constructor(ue={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ue.encoder||new Be,ue.fromString){if(ue.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function we(_e,ue){const ne=new Map;return _e.length>0&&_e.replace(/^\?/,"").split("&").forEach(gt=>{const Lt=gt.indexOf("="),[cn,an]=-1==Lt?[ue.decodeKey(gt),""]:[ue.decodeKey(gt.slice(0,Lt)),ue.decodeValue(gt.slice(Lt+1))],vn=ne.get(cn)||[];vn.push(an),ne.set(cn,vn)}),ne}(ue.fromString,this.encoder)}else ue.fromObject?(this.map=new Map,Object.keys(ue.fromObject).forEach(ne=>{const Ve=ue.fromObject[ne],gt=Array.isArray(Ve)?Ve.map(ye):[ye(Ve)];this.map.set(ne,gt)})):this.map=null}has(ue){return this.init(),this.map.has(ue)}get(ue){this.init();const ne=this.map.get(ue);return ne?ne[0]:null}getAll(ue){return this.init(),this.map.get(ue)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ue,ne){return this.clone({param:ue,value:ne,op:"a"})}appendAll(ue){const ne=[];return Object.keys(ue).forEach(Ve=>{const gt=ue[Ve];Array.isArray(gt)?gt.forEach(Lt=>{ne.push({param:Ve,value:Lt,op:"a"})}):ne.push({param:Ve,value:gt,op:"a"})}),this.clone(ne)}set(ue,ne){return this.clone({param:ue,value:ne,op:"s"})}delete(ue,ne){return this.clone({param:ue,value:ne,op:"d"})}toString(){return this.init(),this.keys().map(ue=>{const ne=this.encoder.encodeKey(ue);return this.map.get(ue).map(Ve=>ne+"="+this.encoder.encodeValue(Ve)).join("&")}).filter(ue=>""!==ue).join("&")}clone(ue){const ne=new pt({encoder:this.encoder});return ne.cloneFrom=this.cloneFrom||this,ne.updates=(this.updates||[]).concat(ue),ne}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ue=>this.map.set(ue,this.cloneFrom.map.get(ue))),this.updates.forEach(ue=>{switch(ue.op){case"a":case"s":const ne=("a"===ue.op?this.map.get(ue.param):void 0)||[];ne.push(ye(ue.value)),this.map.set(ue.param,ne);break;case"d":if(void 0===ue.value){this.map.delete(ue.param);break}{let Ve=this.map.get(ue.param)||[];const gt=Ve.indexOf(ye(ue.value));-1!==gt&&Ve.splice(gt,1),Ve.length>0?this.map.set(ue.param,Ve):this.map.delete(ue.param)}}}),this.cloneFrom=this.updates=null)}}class Ye{constructor(){this.map=new Map}set(ue,ne){return this.map.set(ue,ne),this}get(ue){return this.map.has(ue)||this.map.set(ue,ue.defaultValue()),this.map.get(ue)}delete(ue){return this.map.delete(ue),this}has(ue){return this.map.has(ue)}keys(){return this.map.keys()}}function dt(_e){return typeof ArrayBuffer<"u"&&_e instanceof ArrayBuffer}function jt(_e){return typeof Blob<"u"&&_e instanceof Blob}function Gt(_e){return typeof FormData<"u"&&_e instanceof FormData}class fn{constructor(ue,ne,Ve,gt){let Lt;if(this.url=ne,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ue.toUpperCase(),function ct(_e){switch(_e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||gt?(this.body=void 0!==Ve?Ve:null,Lt=gt):Lt=Ve,Lt&&(this.reportProgress=!!Lt.reportProgress,this.withCredentials=!!Lt.withCredentials,Lt.responseType&&(this.responseType=Lt.responseType),Lt.headers&&(this.headers=Lt.headers),Lt.context&&(this.context=Lt.context),Lt.params&&(this.params=Lt.params)),this.headers||(this.headers=new Fe),this.context||(this.context=new Ye),this.params){const cn=this.params.toString();if(0===cn.length)this.urlWithParams=ne;else{const an=ne.indexOf("?");this.urlWithParams=ne+(-1===an?"?":an<ne.length-1?"&":"")+cn}}else this.params=new pt,this.urlWithParams=ne}serializeBody(){return null===this.body?null:dt(this.body)||jt(this.body)||Gt(this.body)||function Kt(_e){return typeof URLSearchParams<"u"&&_e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof pt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Gt(this.body)?null:jt(this.body)?this.body.type||null:dt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof pt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ue={}){const ne=ue.method||this.method,Ve=ue.url||this.url,gt=ue.responseType||this.responseType,Lt=void 0!==ue.body?ue.body:this.body,cn=void 0!==ue.withCredentials?ue.withCredentials:this.withCredentials,an=void 0!==ue.reportProgress?ue.reportProgress:this.reportProgress;let vn=ue.headers||this.headers,Rr=ue.params||this.params;const ei=ue.context??this.context;return void 0!==ue.setHeaders&&(vn=Object.keys(ue.setHeaders).reduce((Xr,br)=>Xr.set(br,ue.setHeaders[br]),vn)),ue.setParams&&(Rr=Object.keys(ue.setParams).reduce((Xr,br)=>Xr.set(br,ue.setParams[br]),Rr)),new fn(ne,Ve,Lt,{params:Rr,headers:vn,context:ei,reportProgress:an,responseType:gt,withCredentials:cn})}}var tn=(()=>((tn=tn||{})[tn.Sent=0]="Sent",tn[tn.UploadProgress=1]="UploadProgress",tn[tn.ResponseHeader=2]="ResponseHeader",tn[tn.DownloadProgress=3]="DownloadProgress",tn[tn.Response=4]="Response",tn[tn.User=5]="User",tn))();class pn extends class Nt{constructor(ue,ne=200,Ve="OK"){this.headers=ue.headers||new Fe,this.status=void 0!==ue.status?ue.status:ne,this.statusText=ue.statusText||Ve,this.url=ue.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(ue={}){super(ue),this.type=tn.Response,this.body=void 0!==ue.body?ue.body:null}clone(ue={}){return new pn({body:void 0!==ue.body?ue.body:this.body,headers:ue.headers||this.headers,status:void 0!==ue.status?ue.status:this.status,statusText:ue.statusText||this.statusText,url:ue.url||this.url||void 0})}}function zt(_e,ue){return{body:ue,headers:_e.headers,context:_e.context,observe:_e.observe,params:_e.params,reportProgress:_e.reportProgress,responseType:_e.responseType,withCredentials:_e.withCredentials}}let Hn=(()=>{class _e{constructor(ne){this.handler=ne}request(ne,Ve,gt={}){let Lt;if(ne instanceof fn)Lt=ne;else{let vn,Rr;vn=gt.headers instanceof Fe?gt.headers:new Fe(gt.headers),gt.params&&(Rr=gt.params instanceof pt?gt.params:new pt({fromObject:gt.params})),Lt=new fn(ne,Ve,void 0!==gt.body?gt.body:null,{headers:vn,context:gt.context,params:Rr,reportProgress:gt.reportProgress,responseType:gt.responseType||"json",withCredentials:gt.withCredentials})}const cn=(0,ge.of)(Lt).pipe((0,ze.b)(vn=>this.handler.handle(vn)));if(ne instanceof fn||"events"===gt.observe)return cn;const an=cn.pipe((0,_t.h)(vn=>vn instanceof pn));switch(gt.observe||"body"){case"body":switch(Lt.responseType){case"arraybuffer":return an.pipe((0,ce.U)(vn=>{if(null!==vn.body&&!(vn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return vn.body}));case"blob":return an.pipe((0,ce.U)(vn=>{if(null!==vn.body&&!(vn.body instanceof Blob))throw new Error("Response is not a Blob.");return vn.body}));case"text":return an.pipe((0,ce.U)(vn=>{if(null!==vn.body&&"string"!=typeof vn.body)throw new Error("Response is not a string.");return vn.body}));default:return an.pipe((0,ce.U)(vn=>vn.body))}case"response":return an;default:throw new Error(`Unreachable: unhandled observe type ${gt.observe}}`)}}delete(ne,Ve={}){return this.request("DELETE",ne,Ve)}get(ne,Ve={}){return this.request("GET",ne,Ve)}head(ne,Ve={}){return this.request("HEAD",ne,Ve)}jsonp(ne,Ve){return this.request("JSONP",ne,{params:(new pt).append(Ve,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ne,Ve={}){return this.request("OPTIONS",ne,Ve)}patch(ne,Ve,gt={}){return this.request("PATCH",ne,zt(gt,Ve))}post(ne,Ve,gt={}){return this.request("POST",ne,zt(gt,Ve))}put(ne,Ve,gt={}){return this.request("PUT",ne,zt(gt,Ve))}}return _e.\u0275fac=function(ne){return new(ne||_e)(c.LFG(Je))},_e.\u0275prov=c.Yz7({token:_e,factory:_e.\u0275fac}),_e})();var qe=S(1481);const N=["*"];let Z;function Y(_e){return function q(){if(void 0===Z&&(Z=null,typeof window<"u")){const _e=window;void 0!==_e.trustedTypes&&(Z=_e.trustedTypes.createPolicy("angular#components",{createHTML:ue=>ue}))}return Z}()?.createHTML(_e)||_e}function j(_e){return Error(`Unable to find icon with the name "${_e}"`)}function $(_e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${_e}".`)}function fe(_e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${_e}".`)}class xe{constructor(ue,ne,Ve){this.url=ue,this.svgText=ne,this.options=Ve}}let Ge=(()=>{class _e{constructor(ne,Ve,gt,Lt){this._httpClient=ne,this._sanitizer=Ve,this._errorHandler=Lt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=gt}addSvgIcon(ne,Ve,gt){return this.addSvgIconInNamespace("",ne,Ve,gt)}addSvgIconLiteral(ne,Ve,gt){return this.addSvgIconLiteralInNamespace("",ne,Ve,gt)}addSvgIconInNamespace(ne,Ve,gt,Lt){return this._addSvgIconConfig(ne,Ve,new xe(gt,null,Lt))}addSvgIconResolver(ne){return this._resolvers.push(ne),this}addSvgIconLiteralInNamespace(ne,Ve,gt,Lt){const cn=this._sanitizer.sanitize(c.q3G.HTML,gt);if(!cn)throw fe(gt);const an=Y(cn);return this._addSvgIconConfig(ne,Ve,new xe("",an,Lt))}addSvgIconSet(ne,Ve){return this.addSvgIconSetInNamespace("",ne,Ve)}addSvgIconSetLiteral(ne,Ve){return this.addSvgIconSetLiteralInNamespace("",ne,Ve)}addSvgIconSetInNamespace(ne,Ve,gt){return this._addSvgIconSetConfig(ne,new xe(Ve,null,gt))}addSvgIconSetLiteralInNamespace(ne,Ve,gt){const Lt=this._sanitizer.sanitize(c.q3G.HTML,Ve);if(!Lt)throw fe(Ve);const cn=Y(Lt);return this._addSvgIconSetConfig(ne,new xe("",cn,gt))}registerFontClassAlias(ne,Ve=ne){return this._fontCssClassesByAlias.set(ne,Ve),this}classNameForFontAlias(ne){return this._fontCssClassesByAlias.get(ne)||ne}setDefaultFontSetClass(...ne){return this._defaultFontSetClass=ne,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(ne){const Ve=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,ne);if(!Ve)throw $(ne);const gt=this._cachedIconsByUrl.get(Ve);return gt?(0,ge.of)(nn(gt)):this._loadSvgIconFromConfig(new xe(ne,null)).pipe((0,ke.b)(Lt=>this._cachedIconsByUrl.set(Ve,Lt)),(0,ce.U)(Lt=>nn(Lt)))}getNamedSvgIcon(ne,Ve=""){const gt=ln(Ve,ne);let Lt=this._svgIconConfigs.get(gt);if(Lt)return this._getSvgFromConfig(Lt);if(Lt=this._getIconConfigFromResolvers(Ve,ne),Lt)return this._svgIconConfigs.set(gt,Lt),this._getSvgFromConfig(Lt);const cn=this._iconSetConfigs.get(Ve);return cn?this._getSvgFromIconSetConfigs(ne,cn):(0,Me._)(j(gt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(ne){return ne.svgText?(0,ge.of)(nn(this._svgElementFromConfig(ne))):this._loadSvgIconFromConfig(ne).pipe((0,ce.U)(Ve=>nn(Ve)))}_getSvgFromIconSetConfigs(ne,Ve){const gt=this._extractIconWithNameFromAnySet(ne,Ve);if(gt)return(0,ge.of)(gt);const Lt=Ve.filter(cn=>!cn.svgText).map(cn=>this._loadSvgIconSetFromConfig(cn).pipe((0,be.K)(an=>{const Rr=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,cn.url)} failed: ${an.message}`;return this._errorHandler.handleError(new Error(Rr)),(0,ge.of)(null)})));return(0,Ne.D)(Lt).pipe((0,ce.U)(()=>{const cn=this._extractIconWithNameFromAnySet(ne,Ve);if(!cn)throw j(ne);return cn}))}_extractIconWithNameFromAnySet(ne,Ve){for(let gt=Ve.length-1;gt>=0;gt--){const Lt=Ve[gt];if(Lt.svgText&&Lt.svgText.toString().indexOf(ne)>-1){const cn=this._svgElementFromConfig(Lt),an=this._extractSvgIconFromSet(cn,ne,Lt.options);if(an)return an}}return null}_loadSvgIconFromConfig(ne){return this._fetchIcon(ne).pipe((0,ke.b)(Ve=>ne.svgText=Ve),(0,ce.U)(()=>this._svgElementFromConfig(ne)))}_loadSvgIconSetFromConfig(ne){return ne.svgText?(0,ge.of)(null):this._fetchIcon(ne).pipe((0,ke.b)(Ve=>ne.svgText=Ve))}_extractSvgIconFromSet(ne,Ve,gt){const Lt=ne.querySelector(`[id="${Ve}"]`);if(!Lt)return null;const cn=Lt.cloneNode(!0);if(cn.removeAttribute("id"),"svg"===cn.nodeName.toLowerCase())return this._setSvgAttributes(cn,gt);if("symbol"===cn.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(cn),gt);const an=this._svgElementFromString(Y("<svg></svg>"));return an.appendChild(cn),this._setSvgAttributes(an,gt)}_svgElementFromString(ne){const Ve=this._document.createElement("DIV");Ve.innerHTML=ne;const gt=Ve.querySelector("svg");if(!gt)throw Error("<svg> tag not found");return gt}_toSvgElement(ne){const Ve=this._svgElementFromString(Y("<svg></svg>")),gt=ne.attributes;for(let Lt=0;Lt<gt.length;Lt++){const{name:cn,value:an}=gt[Lt];"id"!==cn&&Ve.setAttribute(cn,an)}for(let Lt=0;Lt<ne.childNodes.length;Lt++)ne.childNodes[Lt].nodeType===this._document.ELEMENT_NODE&&Ve.appendChild(ne.childNodes[Lt].cloneNode(!0));return Ve}_setSvgAttributes(ne,Ve){return ne.setAttribute("fit",""),ne.setAttribute("height","100%"),ne.setAttribute("width","100%"),ne.setAttribute("preserveAspectRatio","xMidYMid meet"),ne.setAttribute("focusable","false"),Ve&&Ve.viewBox&&ne.setAttribute("viewBox",Ve.viewBox),ne}_fetchIcon(ne){const{url:Ve,options:gt}=ne,Lt=gt?.withCredentials??!1;if(!this._httpClient)throw function ee(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Ve)throw Error(`Cannot fetch icon from URL "${Ve}".`);const cn=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,Ve);if(!cn)throw $(Ve);const an=this._inProgressUrlFetches.get(cn);if(an)return an;const vn=this._httpClient.get(cn,{responseType:"text",withCredentials:Lt}).pipe((0,ce.U)(Rr=>Y(Rr)),(0,De.x)(()=>this._inProgressUrlFetches.delete(cn)),(0,it.B)());return this._inProgressUrlFetches.set(cn,vn),vn}_addSvgIconConfig(ne,Ve,gt){return this._svgIconConfigs.set(ln(ne,Ve),gt),this}_addSvgIconSetConfig(ne,Ve){const gt=this._iconSetConfigs.get(ne);return gt?gt.push(Ve):this._iconSetConfigs.set(ne,[Ve]),this}_svgElementFromConfig(ne){if(!ne.svgElement){const Ve=this._svgElementFromString(ne.svgText);this._setSvgAttributes(Ve,ne.options),ne.svgElement=Ve}return ne.svgElement}_getIconConfigFromResolvers(ne,Ve){for(let gt=0;gt<this._resolvers.length;gt++){const Lt=this._resolvers[gt](Ve,ne);if(Lt)return mn(Lt)?new xe(Lt.url,null,Lt.options):new xe(Lt,null)}}}return _e.\u0275fac=function(ne){return new(ne||_e)(c.LFG(Hn,8),c.LFG(qe.H7),c.LFG(re.K0,8),c.LFG(c.qLn))},_e.\u0275prov=c.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();function nn(_e){return _e.cloneNode(!0)}function ln(_e,ue){return _e+":"+ue}function mn(_e){return!(!_e.url||!_e.options)}const xn=(0,C.pj)(class{constructor(_e){this._elementRef=_e}}),ar=new c.OlP("MAT_ICON_DEFAULT_OPTIONS"),mt=new c.OlP("mat-icon-location",{providedIn:"root",factory:function Xe(){const _e=(0,c.f3M)(re.K0),ue=_e?_e.location:null;return{getPathname:()=>ue?ue.pathname+ue.search:""}}}),je=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],yt=je.map(_e=>`[${_e}]`).join(", "),ie=/^url\(['"]?#(.*?)['"]?\)$/;let Ce=(()=>{class _e extends xn{constructor(ne,Ve,gt,Lt,cn,an){super(ne),this._iconRegistry=Ve,this._location=Lt,this._errorHandler=cn,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Te.w0.EMPTY,an&&(an.color&&(this.color=this.defaultColor=an.color),an.fontSet&&(this.fontSet=an.fontSet)),gt||ne.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(ne){this._inline=(0,I.Ig)(ne)}get svgIcon(){return this._svgIcon}set svgIcon(ne){ne!==this._svgIcon&&(ne?this._updateSvgIcon(ne):this._svgIcon&&this._clearSvgElement(),this._svgIcon=ne)}get fontSet(){return this._fontSet}set fontSet(ne){const Ve=this._cleanupFontValue(ne);Ve!==this._fontSet&&(this._fontSet=Ve,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(ne){const Ve=this._cleanupFontValue(ne);Ve!==this._fontIcon&&(this._fontIcon=Ve,this._updateFontIconClasses())}_splitIconName(ne){if(!ne)return["",""];const Ve=ne.split(":");switch(Ve.length){case 1:return["",Ve[0]];case 2:return Ve;default:throw Error(`Invalid icon name: "${ne}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const ne=this._elementsWithExternalReferences;if(ne&&ne.size){const Ve=this._location.getPathname();Ve!==this._previousPath&&(this._previousPath=Ve,this._prependPathToReferences(Ve))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(ne){this._clearSvgElement();const Ve=this._location.getPathname();this._previousPath=Ve,this._cacheChildrenWithExternalReferences(ne),this._prependPathToReferences(Ve),this._elementRef.nativeElement.appendChild(ne)}_clearSvgElement(){const ne=this._elementRef.nativeElement;let Ve=ne.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Ve--;){const gt=ne.childNodes[Ve];(1!==gt.nodeType||"svg"===gt.nodeName.toLowerCase())&&gt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const ne=this._elementRef.nativeElement,Ve=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(gt=>gt.length>0);this._previousFontSetClass.forEach(gt=>ne.classList.remove(gt)),Ve.forEach(gt=>ne.classList.add(gt)),this._previousFontSetClass=Ve,this.fontIcon!==this._previousFontIconClass&&!Ve.includes("mat-ligature-font")&&(this._previousFontIconClass&&ne.classList.remove(this._previousFontIconClass),this.fontIcon&&ne.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(ne){return"string"==typeof ne?ne.trim().split(" ")[0]:ne}_prependPathToReferences(ne){const Ve=this._elementsWithExternalReferences;Ve&&Ve.forEach((gt,Lt)=>{gt.forEach(cn=>{Lt.setAttribute(cn.name,`url('${ne}#${cn.value}')`)})})}_cacheChildrenWithExternalReferences(ne){const Ve=ne.querySelectorAll(yt),gt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Lt=0;Lt<Ve.length;Lt++)je.forEach(cn=>{const an=Ve[Lt],vn=an.getAttribute(cn),Rr=vn?vn.match(ie):null;if(Rr){let ei=gt.get(an);ei||(ei=[],gt.set(an,ei)),ei.push({name:cn,value:Rr[1]})}})}_updateSvgIcon(ne){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),ne){const[Ve,gt]=this._splitIconName(ne);Ve&&(this._svgNamespace=Ve),gt&&(this._svgName=gt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(gt,Ve).pipe((0,nt.q)(1)).subscribe(Lt=>this._setSvgElement(Lt),Lt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Ve}:${gt}! ${Lt.message}`))})}}}return _e.\u0275fac=function(ne){return new(ne||_e)(c.Y36(c.SBq),c.Y36(Ge),c.$8M("aria-hidden"),c.Y36(mt),c.Y36(c.qLn),c.Y36(ar,8))},_e.\u0275cmp=c.Xpm({type:_e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(ne,Ve){2&ne&&(c.uIk("data-mat-icon-type",Ve._usingFontIcon()?"font":"svg")("data-mat-icon-name",Ve._svgName||Ve.fontIcon)("data-mat-icon-namespace",Ve._svgNamespace||Ve.fontSet),c.ekj("mat-icon-inline",Ve.inline)("mat-icon-no-color","primary"!==Ve.color&&"accent"!==Ve.color&&"warn"!==Ve.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:N,decls:1,vars:0,template:function(ne,Ve){1&ne&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),_e})(),he=(()=>{class _e{}return _e.\u0275fac=function(ne){return new(ne||_e)},_e.\u0275mod=c.oAB({type:_e}),_e.\u0275inj=c.cJS({imports:[C.BQ,C.BQ]}),_e})()},4144:(en,rt,S)=>{"use strict";S.d(rt,{Nt:()=>Fe,c:()=>Rt});var c=S(1281),C=S(3353),I=S(4650),re=S(515),ge=S(7579);const Me=(0,C.i$)({passive:!0});let Ne=(()=>{class Be{constructor(Ie,tt){this._platform=Ie,this._ngZone=tt,this._monitoredElements=new Map}monitor(Ie){if(!this._platform.isBrowser)return re.E;const tt=(0,c.fI)(Ie),Et=this._monitoredElements.get(tt);if(Et)return Et.subject;const ye=new ge.x,pt="cdk-text-field-autofilled",Re=Ye=>{"cdk-text-field-autofill-start"!==Ye.animationName||tt.classList.contains(pt)?"cdk-text-field-autofill-end"===Ye.animationName&&tt.classList.contains(pt)&&(tt.classList.remove(pt),this._ngZone.run(()=>ye.next({target:Ye.target,isAutofilled:!1}))):(tt.classList.add(pt),this._ngZone.run(()=>ye.next({target:Ye.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{tt.addEventListener("animationstart",Re,Me),tt.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(tt,{subject:ye,unlisten:()=>{tt.removeEventListener("animationstart",Re,Me)}}),ye}stopMonitoring(Ie){const tt=(0,c.fI)(Ie),Et=this._monitoredElements.get(tt);Et&&(Et.unlisten(),Et.subject.complete(),tt.classList.remove("cdk-text-field-autofill-monitored"),tt.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(tt))}ngOnDestroy(){this._monitoredElements.forEach((Ie,tt)=>this.stopMonitoring(tt))}}return Be.\u0275fac=function(Ie){return new(Ie||Be)(I.LFG(C.t4),I.LFG(I.R0b))},Be.\u0275prov=I.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),ce=(()=>{class Be{}return Be.\u0275fac=function(Ie){return new(Ie||Be)},Be.\u0275mod=I.oAB({type:Be}),Be.\u0275inj=I.cJS({}),Be})();var be=S(4006),De=S(3238),it=S(4988);const ze=new I.OlP("MAT_INPUT_VALUE_ACCESSOR"),_t=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Je=0;const at=(0,De.FD)(class{constructor(Be,we,Ie,tt){this._defaultErrorStateMatcher=Be,this._parentForm=we,this._parentFormGroup=Ie,this.ngControl=tt,this.stateChanges=new ge.x}});let Fe=(()=>{class Be extends at{constructor(Ie,tt,Et,ye,pt,Re,Ye,ct,dt,jt){super(Re,ye,pt,Et),this._elementRef=Ie,this._platform=tt,this._autofillMonitor=ct,this._formField=jt,this._uid="mat-input-"+Je++,this.focused=!1,this.stateChanges=new ge.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(fn=>(0,C.qK)().has(fn)),this._iOSKeyupListener=fn=>{const tn=fn.target;!tn.value&&0===tn.selectionStart&&0===tn.selectionEnd&&(tn.setSelectionRange(1,1),tn.setSelectionRange(0,0))};const Gt=this._elementRef.nativeElement,Kt=Gt.nodeName.toLowerCase();this._inputValueAccessor=Ye||Gt,this._previousNativeValue=this.value,this.id=this.id,tt.IOS&&dt.runOutsideAngular(()=>{Ie.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Kt,this._isTextarea="textarea"===Kt,this._isInFormField=!!jt,this._isNativeSelect&&(this.controlType=Gt.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(Ie){this._disabled=(0,c.Ig)(Ie),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(Ie){this._id=Ie||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(be.kI.required)??!1}set required(Ie){this._required=(0,c.Ig)(Ie)}get type(){return this._type}set type(Ie){this._type=Ie||"text",this._validateType(),!this._isTextarea&&(0,C.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(Ie){Ie!==this.value&&(this._inputValueAccessor.value=Ie,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(Ie){this._readonly=(0,c.Ig)(Ie)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(Ie=>{this.autofilled=Ie.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(Ie){this._elementRef.nativeElement.focus(Ie)}_focusChanged(Ie){Ie!==this.focused&&(this.focused=Ie,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const Ie=this._formField,tt=Ie&&"legacy"===Ie.appearance&&!Ie._hasLabel?.()?null:this.placeholder;if(tt!==this._previousPlaceholder){const Et=this._elementRef.nativeElement;this._previousPlaceholder=tt,tt?Et.setAttribute("placeholder",tt):Et.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const Ie=this._elementRef.nativeElement.value;this._previousNativeValue!==Ie&&(this._previousNativeValue=Ie,this.stateChanges.next())}_validateType(){_t.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let Ie=this._elementRef.nativeElement.validity;return Ie&&Ie.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const Ie=this._elementRef.nativeElement,tt=Ie.options[0];return this.focused||Ie.multiple||!this.empty||!!(Ie.selectedIndex>-1&&tt&&tt.label)}return this.focused||!this.empty}setDescribedByIds(Ie){Ie.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Ie.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const Ie=this._elementRef.nativeElement;return this._isNativeSelect&&(Ie.multiple||Ie.size>1)}}return Be.\u0275fac=function(Ie){return new(Ie||Be)(I.Y36(I.SBq),I.Y36(C.t4),I.Y36(be.a5,10),I.Y36(be.F,8),I.Y36(be.sg,8),I.Y36(De.rD),I.Y36(ze,10),I.Y36(Ne),I.Y36(I.R0b),I.Y36(it.G_,8))},Be.\u0275dir=I.lG2({type:Be,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(Ie,tt){1&Ie&&I.NdJ("focus",function(){return tt._focusChanged(!0)})("blur",function(){return tt._focusChanged(!1)})("input",function(){return tt._onInput()}),2&Ie&&(I.Ikx("disabled",tt.disabled)("required",tt.required),I.uIk("id",tt.id)("data-placeholder",tt.placeholder)("name",tt.name||null)("readonly",tt.readonly&&!tt._isNativeSelect||null)("aria-invalid",tt.empty&&tt.required?null:tt.errorState)("aria-required",tt.required),I.ekj("mat-input-server",tt._isServer)("mat-native-select-inline",tt._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[I._Bn([{provide:it.Eo,useExisting:Be}]),I.qOj,I.TTD]}),Be})(),Rt=(()=>{class Be{}return Be.\u0275fac=function(Ie){return new(Ie||Be)},Be.\u0275mod=I.oAB({type:Be}),Be.\u0275inj=I.cJS({providers:[De.rD],imports:[ce,it.lN,De.BQ,ce,it.lN]}),Be})()},1572:(en,rt,S)=>{"use strict";S.d(rt,{Cq:()=>Je,Ou:()=>_t});var c=S(1281),C=S(3353),I=S(1218),re=S(6895),ge=S(4650),Me=S(3238),Ne=S(727);function Te(Fe,Rt){if(1&Fe&&(ge.O4$(),ge._UZ(0,"circle",4)),2&Fe){const Be=ge.oxw(),we=ge.MAs(1);ge.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+Be._spinnerAnimationLabel)("stroke-dashoffset",Be._getStrokeDashOffset(),"px")("stroke-dasharray",Be._getStrokeCircumference(),"px")("stroke-width",Be._getCircleStrokeWidth(),"%")("transform-origin",Be._getCircleTransformOrigin(we)),ge.uIk("r",Be._getCircleRadius())}}function ke(Fe,Rt){if(1&Fe&&(ge.O4$(),ge._UZ(0,"circle",4)),2&Fe){const Be=ge.oxw(),we=ge.MAs(1);ge.Udp("stroke-dashoffset",Be._getStrokeDashOffset(),"px")("stroke-dasharray",Be._getStrokeCircumference(),"px")("stroke-width",Be._getCircleStrokeWidth(),"%")("transform-origin",Be._getCircleTransformOrigin(we)),ge.uIk("r",Be._getCircleRadius())}}const De=(0,Me.pj)(class{constructor(Fe){this._elementRef=Fe}},"primary"),it=new ge.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function nt(){return{diameter:100}}});class _t extends De{constructor(Rt,Be,we,Ie,tt,Et,ye,pt){super(Rt),this._document=we,this._diameter=100,this._value=0,this._resizeSubscription=Ne.w0.EMPTY,this.mode="determinate";const Re=_t._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),Re.has(we.head)||Re.set(we.head,new Set([100])),this._noopAnimations="NoopAnimations"===Ie&&!!tt&&!tt._forceAnimations,"mat-spinner"===Rt.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),tt&&(tt.color&&(this.color=this.defaultColor=tt.color),tt.diameter&&(this.diameter=tt.diameter),tt.strokeWidth&&(this.strokeWidth=tt.strokeWidth)),Be.isBrowser&&Be.SAFARI&&ye&&Et&&pt&&(this._resizeSubscription=ye.change(150).subscribe(()=>{"indeterminate"===this.mode&&pt.run(()=>Et.markForCheck())}))}get diameter(){return this._diameter}set diameter(Rt){this._diameter=(0,c.su)(Rt),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(Rt){this._strokeWidth=(0,c.su)(Rt)}get value(){return"determinate"===this.mode?this._value:0}set value(Rt){this._value=Math.max(0,Math.min(100,(0,c.su)(Rt)))}ngOnInit(){const Rt=this._elementRef.nativeElement;this._styleRoot=(0,C.kV)(Rt)||this._document.head,this._attachStyleNode(),Rt.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const Rt=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${Rt} ${Rt}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(Rt){const Be=50*(Rt.currentScale??1);return`${Be}% ${Be}%`}_attachStyleNode(){const Rt=this._styleRoot,Be=this._diameter,we=_t._diameters;let Ie=we.get(Rt);if(!Ie||!Ie.has(Be)){const tt=this._document.createElement("style");tt.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),tt.textContent=this._getAnimationText(),Rt.appendChild(tt),Ie||(Ie=new Set,we.set(Rt,Ie)),Ie.add(Be)}}_getAnimationText(){const Rt=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*Rt).replace(/END_VALUE/g,""+.2*Rt).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}_t._diameters=new WeakMap,_t.\u0275fac=function(Rt){return new(Rt||_t)(ge.Y36(ge.SBq),ge.Y36(C.t4),ge.Y36(re.K0,8),ge.Y36(ge.QbO,8),ge.Y36(it),ge.Y36(ge.sBO),ge.Y36(I.rL),ge.Y36(ge.R0b))},_t.\u0275cmp=ge.Xpm({type:_t,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(Rt,Be){2&Rt&&(ge.uIk("aria-valuemin","determinate"===Be.mode?0:null)("aria-valuemax","determinate"===Be.mode?100:null)("aria-valuenow","determinate"===Be.mode?Be.value:null)("mode",Be.mode),ge.Udp("width",Be.diameter,"px")("height",Be.diameter,"px"),ge.ekj("_mat-animation-noopable",Be._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[ge.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(Rt,Be){1&Rt&&(ge.O4$(),ge.TgZ(0,"svg",0,1),ge.YNc(2,Te,1,11,"circle",2),ge.YNc(3,ke,1,9,"circle",3),ge.qZA()),2&Rt&&(ge.Udp("width",Be.diameter,"px")("height",Be.diameter,"px"),ge.Q6J("ngSwitch","indeterminate"===Be.mode),ge.uIk("viewBox",Be._getViewBox()),ge.xp6(2),ge.Q6J("ngSwitchCase",!0),ge.xp6(1),ge.Q6J("ngSwitchCase",!1))},dependencies:[re.RF,re.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let Je=(()=>{class Fe{}return Fe.\u0275fac=function(Be){return new(Be||Fe)},Fe.\u0275mod=ge.oAB({type:Fe}),Fe.\u0275inj=ge.cJS({imports:[Me.BQ,re.ez,Me.BQ]}),Fe})()},3683:(en,rt,S)=>{"use strict";S.d(rt,{Ye:()=>ke,g0:()=>be});var c=S(4650),C=S(3238),I=S(3353),re=S(6895);const ge=["*",[["mat-toolbar-row"]]],Me=["*","mat-toolbar-row"],Ne=(0,C.pj)(class{constructor(De){this._elementRef=De}});let Te=(()=>{class De{}return De.\u0275fac=function(nt){return new(nt||De)},De.\u0275dir=c.lG2({type:De,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),De})(),ke=(()=>{class De extends Ne{constructor(nt,ze,_t){super(nt),this._platform=ze,this._document=_t}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return De.\u0275fac=function(nt){return new(nt||De)(c.Y36(c.SBq),c.Y36(I.t4),c.Y36(re.K0))},De.\u0275cmp=c.Xpm({type:De,selectors:[["mat-toolbar"]],contentQueries:function(nt,ze,_t){if(1&nt&&c.Suo(_t,Te,5),2&nt){let Je;c.iGM(Je=c.CRH())&&(ze._toolbarRows=Je)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(nt,ze){2&nt&&c.ekj("mat-toolbar-multiple-rows",ze._toolbarRows.length>0)("mat-toolbar-single-row",0===ze._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:Me,decls:2,vars:0,template:function(nt,ze){1&nt&&(c.F$t(ge),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),De})(),be=(()=>{class De{}return De.\u0275fac=function(nt){return new(nt||De)},De.\u0275mod=c.oAB({type:De}),De.\u0275inj=c.cJS({imports:[C.BQ,C.BQ]}),De})()},1481:(en,rt,S)=>{"use strict";S.d(rt,{Dx:()=>st,H7:()=>mt,b2:()=>Xn,q6:()=>Bn,se:()=>dt});var c=S(6895),C=S(4650);class I extends c.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class re extends I{static makeCurrent(){(0,c.HT)(new re)}onAndCancel(Ce,he,_e){return Ce.addEventListener(he,_e,!1),()=>{Ce.removeEventListener(he,_e,!1)}}dispatchEvent(Ce,he){Ce.dispatchEvent(he)}remove(Ce){Ce.parentNode&&Ce.parentNode.removeChild(Ce)}createElement(Ce,he){return(he=he||this.getDefaultDocument()).createElement(Ce)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ce){return Ce.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ce){return Ce instanceof DocumentFragment}getGlobalEventTarget(Ce,he){return"window"===he?window:"document"===he?Ce:"body"===he?Ce.body:null}getBaseHref(Ce){const he=function Me(){return ge=ge||document.querySelector("base"),ge?ge.getAttribute("href"):null}();return null==he?null:function Te(ie){Ne=Ne||document.createElement("a"),Ne.setAttribute("href",ie);const Ce=Ne.pathname;return"/"===Ce.charAt(0)?Ce:`/${Ce}`}(he)}resetBaseElement(){ge=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ce){return(0,c.Mx)(document.cookie,Ce)}}let Ne,ge=null;const ke=new C.OlP("TRANSITION_ID"),be=[{provide:C.ip1,useFactory:function ce(ie,Ce,he){return()=>{he.get(C.CZH).donePromise.then(()=>{const _e=(0,c.q)(),ue=Ce.querySelectorAll(`style[ng-transition="${ie}"]`);for(let ne=0;ne<ue.length;ne++)_e.remove(ue[ne])})}},deps:[ke,c.K0,C.zs3],multi:!0}];let it=(()=>{class ie{build(){return new XMLHttpRequest}}return ie.\u0275fac=function(he){return new(he||ie)},ie.\u0275prov=C.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const nt=new C.OlP("EventManagerPlugins");let ze=(()=>{class ie{constructor(he,_e){this._zone=_e,this._eventNameToPlugin=new Map,he.forEach(ue=>ue.manager=this),this._plugins=he.slice().reverse()}addEventListener(he,_e,ue){return this._findPluginFor(_e).addEventListener(he,_e,ue)}addGlobalEventListener(he,_e,ue){return this._findPluginFor(_e).addGlobalEventListener(he,_e,ue)}getZone(){return this._zone}_findPluginFor(he){const _e=this._eventNameToPlugin.get(he);if(_e)return _e;const ue=this._plugins;for(let ne=0;ne<ue.length;ne++){const Ve=ue[ne];if(Ve.supports(he))return this._eventNameToPlugin.set(he,Ve),Ve}throw new Error(`No event manager plugin found for event ${he}`)}}return ie.\u0275fac=function(he){return new(he||ie)(C.LFG(nt),C.LFG(C.R0b))},ie.\u0275prov=C.Yz7({token:ie,factory:ie.\u0275fac}),ie})();class _t{constructor(Ce){this._doc=Ce}addGlobalEventListener(Ce,he,_e){const ue=(0,c.q)().getGlobalEventTarget(this._doc,Ce);if(!ue)throw new Error(`Unsupported event target ${ue} for event ${he}`);return this.addEventListener(ue,he,_e)}}let Je=(()=>{class ie{constructor(){this._stylesSet=new Set}addStyles(he){const _e=new Set;he.forEach(ue=>{this._stylesSet.has(ue)||(this._stylesSet.add(ue),_e.add(ue))}),this.onStylesAdded(_e)}onStylesAdded(he){}getAllStyles(){return Array.from(this._stylesSet)}}return ie.\u0275fac=function(he){return new(he||ie)},ie.\u0275prov=C.Yz7({token:ie,factory:ie.\u0275fac}),ie})(),at=(()=>{class ie extends Je{constructor(he){super(),this._doc=he,this._hostNodes=new Map,this._hostNodes.set(he.head,[])}_addStylesToHost(he,_e,ue){he.forEach(ne=>{const Ve=this._doc.createElement("style");Ve.textContent=ne,ue.push(_e.appendChild(Ve))})}addHost(he){const _e=[];this._addStylesToHost(this._stylesSet,he,_e),this._hostNodes.set(he,_e)}removeHost(he){const _e=this._hostNodes.get(he);_e&&_e.forEach(Fe),this._hostNodes.delete(he)}onStylesAdded(he){this._hostNodes.forEach((_e,ue)=>{this._addStylesToHost(he,ue,_e)})}ngOnDestroy(){this._hostNodes.forEach(he=>he.forEach(Fe))}}return ie.\u0275fac=function(he){return new(he||ie)(C.LFG(c.K0))},ie.\u0275prov=C.Yz7({token:ie,factory:ie.\u0275fac}),ie})();function Fe(ie){(0,c.q)().remove(ie)}const Rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Be=/%COMP%/g;function Re(ie,Ce,he){for(let _e=0;_e<Ce.length;_e++){let ue=Ce[_e];Array.isArray(ue)?Re(ie,ue,he):(ue=ue.replace(Be,ie),he.push(ue))}return he}function Ye(ie){return Ce=>{if("__ngUnwrap__"===Ce)return ie;!1===ie(Ce)&&(Ce.preventDefault(),Ce.returnValue=!1)}}let dt=(()=>{class ie{constructor(he,_e,ue){this.eventManager=he,this.sharedStylesHost=_e,this.appId=ue,this.rendererByCompId=new Map,this.defaultRenderer=new jt(he)}createRenderer(he,_e){if(!he||!_e)return this.defaultRenderer;switch(_e.encapsulation){case C.ifc.Emulated:{let ue=this.rendererByCompId.get(_e.id);return ue||(ue=new tn(this.eventManager,this.sharedStylesHost,_e,this.appId),this.rendererByCompId.set(_e.id,ue)),ue.applyToHost(he),ue}case 1:case C.ifc.ShadowDom:return new Nt(this.eventManager,this.sharedStylesHost,he,_e);default:if(!this.rendererByCompId.has(_e.id)){const ue=Re(_e.id,_e.styles,[]);this.sharedStylesHost.addStyles(ue),this.rendererByCompId.set(_e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ie.\u0275fac=function(he){return new(he||ie)(C.LFG(ze),C.LFG(at),C.LFG(C.AFp))},ie.\u0275prov=C.Yz7({token:ie,factory:ie.\u0275fac}),ie})();class jt{constructor(Ce){this.eventManager=Ce,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ce,he){return he?document.createElementNS(Rt[he]||he,Ce):document.createElement(Ce)}createComment(Ce){return document.createComment(Ce)}createText(Ce){return document.createTextNode(Ce)}appendChild(Ce,he){(fn(Ce)?Ce.content:Ce).appendChild(he)}insertBefore(Ce,he,_e){Ce&&(fn(Ce)?Ce.content:Ce).insertBefore(he,_e)}removeChild(Ce,he){Ce&&Ce.removeChild(he)}selectRootElement(Ce,he){let _e="string"==typeof Ce?document.querySelector(Ce):Ce;if(!_e)throw new Error(`The selector "${Ce}" did not match any elements`);return he||(_e.textContent=""),_e}parentNode(Ce){return Ce.parentNode}nextSibling(Ce){return Ce.nextSibling}setAttribute(Ce,he,_e,ue){if(ue){he=ue+":"+he;const ne=Rt[ue];ne?Ce.setAttributeNS(ne,he,_e):Ce.setAttribute(he,_e)}else Ce.setAttribute(he,_e)}removeAttribute(Ce,he,_e){if(_e){const ue=Rt[_e];ue?Ce.removeAttributeNS(ue,he):Ce.removeAttribute(`${_e}:${he}`)}else Ce.removeAttribute(he)}addClass(Ce,he){Ce.classList.add(he)}removeClass(Ce,he){Ce.classList.remove(he)}setStyle(Ce,he,_e,ue){ue&(C.JOm.DashCase|C.JOm.Important)?Ce.style.setProperty(he,_e,ue&C.JOm.Important?"important":""):Ce.style[he]=_e}removeStyle(Ce,he,_e){_e&C.JOm.DashCase?Ce.style.removeProperty(he):Ce.style[he]=""}setProperty(Ce,he,_e){Ce[he]=_e}setValue(Ce,he){Ce.nodeValue=he}listen(Ce,he,_e){return"string"==typeof Ce?this.eventManager.addGlobalEventListener(Ce,he,Ye(_e)):this.eventManager.addEventListener(Ce,he,Ye(_e))}}function fn(ie){return"TEMPLATE"===ie.tagName&&void 0!==ie.content}class tn extends jt{constructor(Ce,he,_e,ue){super(Ce),this.component=_e;const ne=Re(ue+"-"+_e.id,_e.styles,[]);he.addStyles(ne),this.contentAttr=function ye(ie){return"_ngcontent-%COMP%".replace(Be,ie)}(ue+"-"+_e.id),this.hostAttr=function pt(ie){return"_nghost-%COMP%".replace(Be,ie)}(ue+"-"+_e.id)}applyToHost(Ce){super.setAttribute(Ce,this.hostAttr,"")}createElement(Ce,he){const _e=super.createElement(Ce,he);return super.setAttribute(_e,this.contentAttr,""),_e}}class Nt extends jt{constructor(Ce,he,_e,ue){super(Ce),this.sharedStylesHost=he,this.hostEl=_e,this.shadowRoot=_e.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ne=Re(ue.id,ue.styles,[]);for(let Ve=0;Ve<ne.length;Ve++){const gt=document.createElement("style");gt.textContent=ne[Ve],this.shadowRoot.appendChild(gt)}}nodeOrShadowRoot(Ce){return Ce===this.hostEl?this.shadowRoot:Ce}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ce,he){return super.appendChild(this.nodeOrShadowRoot(Ce),he)}insertBefore(Ce,he,_e){return super.insertBefore(this.nodeOrShadowRoot(Ce),he,_e)}removeChild(Ce,he){return super.removeChild(this.nodeOrShadowRoot(Ce),he)}parentNode(Ce){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ce)))}}let Rn=(()=>{class ie extends _t{constructor(he){super(he)}supports(he){return!0}addEventListener(he,_e,ue){return he.addEventListener(_e,ue,!1),()=>this.removeEventListener(he,_e,ue)}removeEventListener(he,_e,ue){return he.removeEventListener(_e,ue)}}return ie.\u0275fac=function(he){return new(he||ie)(C.LFG(c.K0))},ie.\u0275prov=C.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const pn=["alt","control","meta","shift"],gn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zt={alt:ie=>ie.altKey,control:ie=>ie.ctrlKey,meta:ie=>ie.metaKey,shift:ie=>ie.shiftKey};let Hn=(()=>{class ie extends _t{constructor(he){super(he)}supports(he){return null!=ie.parseEventName(he)}addEventListener(he,_e,ue){const ne=ie.parseEventName(_e),Ve=ie.eventCallback(ne.fullKey,ue,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.q)().onAndCancel(he,ne.domEventName,Ve))}static parseEventName(he){const _e=he.toLowerCase().split("."),ue=_e.shift();if(0===_e.length||"keydown"!==ue&&"keyup"!==ue)return null;const ne=ie._normalizeKey(_e.pop());let Ve="",gt=_e.indexOf("code");if(gt>-1&&(_e.splice(gt,1),Ve="code."),pn.forEach(cn=>{const an=_e.indexOf(cn);an>-1&&(_e.splice(an,1),Ve+=cn+".")}),Ve+=ne,0!=_e.length||0===ne.length)return null;const Lt={};return Lt.domEventName=ue,Lt.fullKey=Ve,Lt}static matchEventFullKeyCode(he,_e){let ue=gn[he.key]||he.key,ne="";return _e.indexOf("code.")>-1&&(ue=he.code,ne="code."),!(null==ue||!ue)&&(ue=ue.toLowerCase()," "===ue?ue="space":"."===ue&&(ue="dot"),pn.forEach(Ve=>{Ve!==ue&&(0,zt[Ve])(he)&&(ne+=Ve+".")}),ne+=ue,ne===_e)}static eventCallback(he,_e,ue){return ne=>{ie.matchEventFullKeyCode(ne,he)&&ue.runGuarded(()=>_e(ne))}}static _normalizeKey(he){return"esc"===he?"escape":he}}return ie.\u0275fac=function(he){return new(he||ie)(C.LFG(c.K0))},ie.\u0275prov=C.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const Bn=(0,C.eFA)(C._c5,"browser",[{provide:C.Lbi,useValue:c.bD},{provide:C.g9A,useValue:function or(){re.makeCurrent()},multi:!0},{provide:c.K0,useFactory:function Zn(){return(0,C.RDi)(document),document},deps:[]}]),Qn=new C.OlP(""),$t=[{provide:C.rWj,useClass:class De{addToWindow(Ce){C.dqk.getAngularTestability=(_e,ue=!0)=>{const ne=Ce.findTestabilityInTree(_e,ue);if(null==ne)throw new Error("Could not find testability for element.");return ne},C.dqk.getAllAngularTestabilities=()=>Ce.getAllTestabilities(),C.dqk.getAllAngularRootElements=()=>Ce.getAllRootElements(),C.dqk.frameworkStabilizers||(C.dqk.frameworkStabilizers=[]),C.dqk.frameworkStabilizers.push(_e=>{const ue=C.dqk.getAllAngularTestabilities();let ne=ue.length,Ve=!1;const gt=function(Lt){Ve=Ve||Lt,ne--,0==ne&&_e(Ve)};ue.forEach(function(Lt){Lt.whenStable(gt)})})}findTestabilityInTree(Ce,he,_e){return null==he?null:Ce.getTestability(he)??(_e?(0,c.q)().isShadowRoot(he)?this.findTestabilityInTree(Ce,he.host,!0):this.findTestabilityInTree(Ce,he.parentElement,!0):null)}},deps:[]},{provide:C.lri,useClass:C.dDg,deps:[C.R0b,C.eoX,C.rWj]},{provide:C.dDg,useClass:C.dDg,deps:[C.R0b,C.eoX,C.rWj]}],rr=[{provide:C.zSh,useValue:"root"},{provide:C.qLn,useFactory:function $n(){return new C.qLn},deps:[]},{provide:nt,useClass:Rn,multi:!0,deps:[c.K0,C.R0b,C.Lbi]},{provide:nt,useClass:Hn,multi:!0,deps:[c.K0]},{provide:dt,useClass:dt,deps:[ze,at,C.AFp]},{provide:C.FYo,useExisting:dt},{provide:Je,useExisting:at},{provide:at,useClass:at,deps:[c.K0]},{provide:ze,useClass:ze,deps:[nt,C.R0b]},{provide:c.JF,useClass:it,deps:[]},[]];let Xn=(()=>{class ie{constructor(he){}static withServerTransition(he){return{ngModule:ie,providers:[{provide:C.AFp,useValue:he.appId},{provide:ke,useExisting:C.AFp},be]}}}return ie.\u0275fac=function(he){return new(he||ie)(C.LFG(Qn,12))},ie.\u0275mod=C.oAB({type:ie}),ie.\u0275inj=C.cJS({providers:[...rr,...$t],imports:[c.ez,C.hGG]}),ie})(),st=(()=>{class ie{constructor(he){this._doc=he}getTitle(){return this._doc.title}setTitle(he){this._doc.title=he||""}}return ie.\u0275fac=function(he){return new(he||ie)(C.LFG(c.K0))},ie.\u0275prov=C.Yz7({token:ie,factory:function(he){let _e=null;return _e=he?new he:function Ct(){return new st((0,C.LFG)(c.K0))}(),_e},providedIn:"root"}),ie})();typeof window<"u"&&window;let mt=(()=>{class ie{}return ie.\u0275fac=function(he){return new(he||ie)},ie.\u0275prov=C.Yz7({token:ie,factory:function(he){let _e=null;return _e=he?new(he||ie):C.LFG(je),_e},providedIn:"root"}),ie})(),je=(()=>{class ie extends mt{constructor(he){super(),this._doc=he}sanitize(he,_e){if(null==_e)return null;switch(he){case C.q3G.NONE:return _e;case C.q3G.HTML:return(0,C.qzn)(_e,"HTML")?(0,C.z3N)(_e):(0,C.EiD)(this._doc,String(_e)).toString();case C.q3G.STYLE:return(0,C.qzn)(_e,"Style")?(0,C.z3N)(_e):_e;case C.q3G.SCRIPT:if((0,C.qzn)(_e,"Script"))return(0,C.z3N)(_e);throw new Error("unsafe value used in a script context");case C.q3G.URL:return(0,C.qzn)(_e,"URL")?(0,C.z3N)(_e):(0,C.mCW)(String(_e));case C.q3G.RESOURCE_URL:if((0,C.qzn)(_e,"ResourceURL"))return(0,C.z3N)(_e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${he} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(he){return(0,C.JVY)(he)}bypassSecurityTrustStyle(he){return(0,C.L6k)(he)}bypassSecurityTrustScript(he){return(0,C.eBb)(he)}bypassSecurityTrustUrl(he){return(0,C.LAX)(he)}bypassSecurityTrustResourceUrl(he){return(0,C.pB0)(he)}}return ie.\u0275fac=function(he){return new(he||ie)(C.LFG(c.K0))},ie.\u0275prov=C.Yz7({token:ie,factory:function(he){let _e=null;return _e=he?new he:function Xe(ie){return new je(ie.get(c.K0))}(C.LFG(C.zs3)),_e},providedIn:"root"}),ie})()},3621:(en,rt,S)=>{"use strict";S.d(rt,{gz:()=>Ue,F0:()=>Qr,rH:()=>so,yS:()=>va,Bz:()=>as,lC:()=>Hi});var c=S(4650),C=S(8996),I=S(9646),re=S(1135),ge=S(6805),Me=S(9841),Ne=S(7272),Te=S(9751),ke=S(8421);function ce(w){return new Te.y(D=>{(0,ke.Xf)(w()).subscribe(D)})}var be=S(9635),De=S(2843),it=S(515),nt=S(4033),ze=S(7579),_t=S(6895),Je=S(4004),at=S(3900),Fe=S(5698),Rt=S(8675),Be=S(9300),we=S(5577),Ie=S(590),tt=S(4351),Et=S(8505),ye=S(262),pt=S(5026),Re=S(4482),Ye=S(5403);function ct(w){return w<=0?()=>it.E:(0,Re.e)((D,_)=>{let O=[];D.subscribe((0,Ye.x)(_,V=>{O.push(V),w<O.length&&O.shift()},()=>{for(const V of O)_.next(V);_.complete()},void 0,()=>{O=null}))})}var dt=S(8068),jt=S(6590),Gt=S(4671);function Kt(w,D){const _=arguments.length>=2;return O=>O.pipe(w?(0,Be.h)((V,ae)=>w(V,ae,O)):Gt.y,ct(1),_?(0,jt.d)(D):(0,dt.T)(()=>new ge.K))}var Nt=S(8746),Rn=S(8343),pn=S(8189),gn=S(1481);const zt="primary",Hn=Symbol("RouteTitle");class Nn{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const _=this.params[D];return Array.isArray(_)?_[0]:_}return null}getAll(D){if(this.has(D)){const _=this.params[D];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function wn(w){return new Nn(w)}function xr(w,D,_){const O=_.path.split("/");if(O.length>w.length||"full"===_.pathMatch&&(D.hasChildren()||O.length<w.length))return null;const V={};for(let ae=0;ae<O.length;ae++){const Oe=O[ae],$e=w[ae];if(Oe.startsWith(":"))V[Oe.substring(1)]=$e;else if(Oe!==$e.path)return null}return{consumed:w.slice(0,O.length),posParams:V}}function Gn(w,D){const _=w?Object.keys(w):void 0,O=D?Object.keys(D):void 0;if(!_||!O||_.length!=O.length)return!1;let V;for(let ae=0;ae<_.length;ae++)if(V=_[ae],!or(w[V],D[V]))return!1;return!0}function or(w,D){if(Array.isArray(w)&&Array.isArray(D)){if(w.length!==D.length)return!1;const _=[...w].sort(),O=[...D].sort();return _.every((V,ae)=>O[ae]===V)}return w===D}function $n(w){return Array.prototype.concat.apply([],w)}function Zn(w){return w.length>0?w[w.length-1]:null}function Bn(w,D){for(const _ in w)w.hasOwnProperty(_)&&D(w[_],_)}function Qn(w){return(0,c.CqO)(w)?w:(0,c.QGY)(w)?(0,C.D)(Promise.resolve(w)):(0,I.of)(w)}const Xn={exact:function Ct(w,D,_){if(!Qe(w.segments,D.segments)||!Bt(w.segments,D.segments,_)||w.numberOfChildren!==D.numberOfChildren)return!1;for(const O in D.children)if(!w.children[O]||!Ct(w.children[O],D.children[O],_))return!1;return!0},subset:Pt},ir={exact:function sn(w,D){return Gn(w,D)},subset:function st(w,D){return Object.keys(D).length<=Object.keys(w).length&&Object.keys(D).every(_=>or(w[_],D[_]))},ignored:()=>!0};function cr(w,D,_){return Xn[_.paths](w.root,D.root,_.matrixParams)&&ir[_.queryParams](w.queryParams,D.queryParams)&&!("exact"===_.fragment&&w.fragment!==D.fragment)}function Pt(w,D,_){return Tt(w,D,D.segments,_)}function Tt(w,D,_,O){if(w.segments.length>_.length){const V=w.segments.slice(0,_.length);return!(!Qe(V,_)||D.hasChildren()||!Bt(V,_,O))}if(w.segments.length===_.length){if(!Qe(w.segments,_)||!Bt(w.segments,_,O))return!1;for(const V in D.children)if(!w.children[V]||!Pt(w.children[V],D.children[V],O))return!1;return!0}{const V=_.slice(0,w.segments.length),ae=_.slice(w.segments.length);return!!(Qe(w.segments,V)&&Bt(w.segments,V,O)&&w.children[zt])&&Tt(w.children[zt],D,ae,O)}}function Bt(w,D,_){return D.every((O,V)=>ir[_](w[V].parameters,O.parameters))}class _n{constructor(D,_,O){this.root=D,this.queryParams=_,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wn(this.queryParams)),this._queryParamMap}toString(){return q.serialize(this)}}class hn{constructor(D,_){this.segments=D,this.children=_,this.parent=null,Bn(_,(O,V)=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Y(this)}}class Ln{constructor(D,_){this.path=D,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=wn(this.parameters)),this._parameterMap}toString(){return Qt(this)}}function Qe(w,D){return w.length===D.length&&w.every((_,O)=>_.path===D[O].path)}let N=(()=>{class w{}return w.\u0275fac=function(_){return new(_||w)},w.\u0275prov=c.Yz7({token:w,factory:function(){return new Z},providedIn:"root"}),w})();class Z{parse(D){const _=new yt(D);return new _n(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(D){const _=`/${j(D.root,!0)}`,O=function ln(w){const D=Object.keys(w).map(_=>{const O=w[_];return Array.isArray(O)?O.map(V=>`${$(_)}=${$(V)}`).join("&"):`${$(_)}=${$(O)}`}).filter(_=>!!_);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${_}${O}${"string"==typeof D.fragment?`#${function fe(w){return encodeURI(w)}(D.fragment)}`:""}`}}const q=new Z;function Y(w){return w.segments.map(D=>Qt(D)).join("/")}function j(w,D){if(!w.hasChildren())return Y(w);if(D){const _=w.children[zt]?j(w.children[zt],!1):"",O=[];return Bn(w.children,(V,ae)=>{ae!==zt&&O.push(`${ae}:${j(V,!1)}`)}),O.length>0?`${_}(${O.join("//")})`:_}{const _=function qe(w,D){let _=[];return Bn(w.children,(O,V)=>{V===zt&&(_=_.concat(D(O,V)))}),Bn(w.children,(O,V)=>{V!==zt&&(_=_.concat(D(O,V)))}),_}(w,(O,V)=>V===zt?[j(w.children[zt],!1)]:[`${V}:${j(O,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[zt]?`${Y(w)}/${_[0]}`:`${Y(w)}/(${_.join("//")})`}}function ee(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $(w){return ee(w).replace(/%3B/gi,";")}function xe(w){return ee(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ge(w){return decodeURIComponent(w)}function ot(w){return Ge(w.replace(/\+/g,"%20"))}function Qt(w){return`${xe(w.path)}${function nn(w){return Object.keys(w).map(D=>`;${xe(D)}=${xe(w[D])}`).join("")}(w.parameters)}`}const mn=/^[^\/()?;=#]+/;function xn(w){const D=w.match(mn);return D?D[0]:""}const ar=/^[^=?&#]+/,Xe=/^[^&#]+/;class yt{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hn([],{}):new hn([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(D.length>0||Object.keys(_).length>0)&&(O[zt]=new hn(D,_)),O}parseSegment(){const D=xn(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(D),new Ln(Ge(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const _=xn(this.remaining);if(!_)return;this.capture(_);let O="";if(this.consumeOptional("=")){const V=xn(this.remaining);V&&(O=V,this.capture(O))}D[Ge(_)]=Ge(O)}parseQueryParam(D){const _=function mt(w){const D=w.match(ar);return D?D[0]:""}(this.remaining);if(!_)return;this.capture(_);let O="";if(this.consumeOptional("=")){const Oe=function je(w){const D=w.match(Xe);return D?D[0]:""}(this.remaining);Oe&&(O=Oe,this.capture(O))}const V=ot(_),ae=ot(O);if(D.hasOwnProperty(V)){let Oe=D[V];Array.isArray(Oe)||(Oe=[Oe],D[V]=Oe),Oe.push(ae)}else D[V]=ae}parseParens(D){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=xn(this.remaining),V=this.remaining[O.length];if("/"!==V&&")"!==V&&";"!==V)throw new c.vHH(4010,!1);let ae;O.indexOf(":")>-1?(ae=O.slice(0,O.indexOf(":")),this.capture(ae),this.capture(":")):D&&(ae=zt);const Oe=this.parseChildren();_[ae]=1===Object.keys(Oe).length?Oe[zt]:new hn([],Oe),this.consumeOptional("//")}return _}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new c.vHH(4011,!1)}}function ie(w){return w.segments.length>0?new hn([],{[zt]:w}):w}function Ce(w){const D={};for(const O of Object.keys(w.children)){const ae=Ce(w.children[O]);(ae.segments.length>0||ae.hasChildren())&&(D[O]=ae)}return function he(w){if(1===w.numberOfChildren&&w.children[zt]){const D=w.children[zt];return new hn(w.segments.concat(D.segments),D.children)}return w}(new hn(w.segments,D))}function _e(w){return w instanceof _n}function Lt(w,D,_,O,V){if(0===_.length)return vn(D.root,D.root,D.root,O,V);const ae=function Xr(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new ei(!0,0,w);let D=0,_=!1;const O=w.reduce((V,ae,Oe)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const $e={};return Bn(ae.outlets,(St,Xt)=>{$e[Xt]="string"==typeof St?St.split("/"):St}),[...V,{outlets:$e}]}if(ae.segmentPath)return[...V,ae.segmentPath]}return"string"!=typeof ae?[...V,ae]:0===Oe?(ae.split("/").forEach(($e,St)=>{0==St&&"."===$e||(0==St&&""===$e?_=!0:".."===$e?D++:""!=$e&&V.push($e))}),V):[...V,ae]},[]);return new ei(_,D,O)}(_);return ae.toRoot()?vn(D.root,D.root,new hn([],{}),O,V):function Oe(St){const Xt=function Lr(w,D,_,O){if(w.isAbsolute)return new br(D.root,!0,0);if(-1===O)return new br(_,_===D.root,0);return function Hr(w,D,_){let O=w,V=D,ae=_;for(;ae>V;){if(ae-=V,O=O.parent,!O)throw new c.vHH(4005,!1);V=O.segments.length}return new br(O,!1,V-ae)}(_,O+(cn(w.commands[0])?0:1),w.numberOfDoubleDots)}(ae,D,w.snapshot?._urlSegment,St),Tr=Xt.processChildren?gr(Xt.segmentGroup,Xt.index,ae.commands):Ir(Xt.segmentGroup,Xt.index,ae.commands);return vn(D.root,Xt.segmentGroup,Tr,O,V)}(w.snapshot?._lastPathIndex)}function cn(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function an(w){return"object"==typeof w&&null!=w&&w.outlets}function vn(w,D,_,O,V){let Oe,ae={};O&&Bn(O,(St,Xt)=>{ae[Xt]=Array.isArray(St)?St.map(Tr=>`${Tr}`):`${St}`}),Oe=w===D?_:Rr(w,D,_);const $e=ie(Ce(Oe));return new _n($e,ae,V)}function Rr(w,D,_){const O={};return Bn(w.children,(V,ae)=>{O[ae]=V===D?_:Rr(V,D,_)}),new hn(w.segments,O)}class ei{constructor(D,_,O){if(this.isAbsolute=D,this.numberOfDoubleDots=_,this.commands=O,D&&O.length>0&&cn(O[0]))throw new c.vHH(4003,!1);const V=O.find(an);if(V&&V!==Zn(O))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class br{constructor(D,_,O){this.segmentGroup=D,this.processChildren=_,this.index=O}}function Ir(w,D,_){if(w||(w=new hn([],{})),0===w.segments.length&&w.hasChildren())return gr(w,D,_);const O=function vi(w,D,_){let O=0,V=D;const ae={match:!1,pathIndex:0,commandIndex:0};for(;V<w.segments.length;){if(O>=_.length)return ae;const Oe=w.segments[V],$e=_[O];if(an($e))break;const St=`${$e}`,Xt=O<_.length-1?_[O+1]:null;if(V>0&&void 0===St)break;if(St&&Xt&&"object"==typeof Xt&&void 0===Xt.outlets){if(!Ai(St,Xt,Oe))return ae;O+=2}else{if(!Ai(St,{},Oe))return ae;O++}V++}return{match:!0,pathIndex:V,commandIndex:O}}(w,D,_),V=_.slice(O.commandIndex);if(O.match&&O.pathIndex<w.segments.length){const ae=new hn(w.segments.slice(0,O.pathIndex),{});return ae.children[zt]=new hn(w.segments.slice(O.pathIndex),w.children),gr(ae,0,V)}return O.match&&0===V.length?new hn(w.segments,{}):O.match&&!w.hasChildren()?qr(w,D,_):O.match?gr(w,0,V):qr(w,D,_)}function gr(w,D,_){if(0===_.length)return new hn(w.segments,{});{const O=function Pr(w){return an(w[0])?w[0].outlets:{[zt]:w}}(_),V={};return Bn(O,(ae,Oe)=>{"string"==typeof ae&&(ae=[ae]),null!==ae&&(V[Oe]=Ir(w.children[Oe],D,ae))}),Bn(w.children,(ae,Oe)=>{void 0===O[Oe]&&(V[Oe]=ae)}),new hn(w.segments,V)}}function qr(w,D,_){const O=w.segments.slice(0,D);let V=0;for(;V<_.length;){const ae=_[V];if(an(ae)){const St=Ui(ae.outlets);return new hn(O,St)}if(0===V&&cn(_[0])){O.push(new Ln(w.segments[D].path,ki(_[0]))),V++;continue}const Oe=an(ae)?ae.outlets[zt]:`${ae}`,$e=V<_.length-1?_[V+1]:null;Oe&&$e&&cn($e)?(O.push(new Ln(Oe,ki($e))),V+=2):(O.push(new Ln(Oe,{})),V++)}return new hn(O,{})}function Ui(w){const D={};return Bn(w,(_,O)=>{"string"==typeof _&&(_=[_]),null!==_&&(D[O]=qr(new hn([],{}),0,_))}),D}function ki(w){const D={};return Bn(w,(_,O)=>D[O]=`${_}`),D}function Ai(w,D,_){return w==_.path&&Gn(D,_.parameters)}class Ar{constructor(D,_){this.id=D,this.url=_}}class xi extends Ar{constructor(D,_,O="imperative",V=null){super(D,_),this.type=0,this.navigationTrigger=O,this.restoredState=V}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _r extends Ar{constructor(D,_,O){super(D,_),this.urlAfterRedirects=O,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ji extends Ar{constructor(D,_,O,V){super(D,_),this.reason=O,this.code=V,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ti extends Ar{constructor(D,_,O,V){super(D,_),this.error=O,this.target=V,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oi extends Ar{constructor(D,_,O,V){super(D,_),this.urlAfterRedirects=O,this.state=V,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ki extends Ar{constructor(D,_,O,V){super(D,_),this.urlAfterRedirects=O,this.state=V,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pi extends Ar{constructor(D,_,O,V,ae){super(D,_),this.urlAfterRedirects=O,this.state=V,this.shouldActivate=ae,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class es extends Ar{constructor(D,_,O,V){super(D,_),this.urlAfterRedirects=O,this.state=V,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _i extends Ar{constructor(D,_,O,V){super(D,_),this.urlAfterRedirects=O,this.state=V,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Is{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rs{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ls{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zs{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oe{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ee{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X{constructor(D,_,O){this.routerEvent=D,this.position=_,this.anchor=O,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Le{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const _=this.pathFromRoot(D);return _.length>1?_[_.length-2]:null}children(D){const _=ht(D,this._root);return _?_.children.map(O=>O.value):[]}firstChild(D){const _=ht(D,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(D){const _=Ut(D,this._root);return _.length<2?[]:_[_.length-2].children.map(V=>V.value).filter(V=>V!==D)}pathFromRoot(D){return Ut(D,this._root).map(_=>_.value)}}function ht(w,D){if(w===D.value)return D;for(const _ of D.children){const O=ht(w,_);if(O)return O}return null}function Ut(w,D){if(w===D.value)return[D];for(const _ of D.children){const O=Ut(w,_);if(O.length)return O.unshift(D),O}return[]}class un{constructor(D,_){this.value=D,this.children=_}toString(){return`TreeNode(${this.value})`}}function Dn(w){const D={};return w&&w.children.forEach(_=>D[_.value.outlet]=_),D}class Sr extends Le{constructor(D,_){super(D),this.snapshot=_,fi(this,D)}toString(){return this.snapshot.toString()}}function te(w,D){const _=function lt(w,D){const Oe=new Kn([],{},{},"",{},zt,D,null,w.root,-1,{});return new bi("",new un(Oe,[]))}(w,D),O=new re.X([new Ln("",{})]),V=new re.X({}),ae=new re.X({}),Oe=new re.X({}),$e=new re.X(""),St=new Ue(O,V,Oe,$e,ae,zt,D,_.root);return St.snapshot=_.root,new Sr(new un(St,[]),_)}class Ue{constructor(D,_,O,V,ae,Oe,$e,St){this.url=D,this.params=_,this.queryParams=O,this.fragment=V,this.data=ae,this.outlet=Oe,this.component=$e,this.title=this.data?.pipe((0,Je.U)(Xt=>Xt[Hn]))??(0,I.of)(void 0),this._futureSnapshot=St}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Je.U)(D=>wn(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Je.U)(D=>wn(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bt(w,D="emptyOnly"){const _=w.pathFromRoot;let O=0;if("always"!==D)for(O=_.length-1;O>=1;){const V=_[O],ae=_[O-1];if(V.routeConfig&&""===V.routeConfig.path)O--;else{if(ae.component)break;O--}}return function Sn(w){return w.reduce((D,_)=>({params:{...D.params,..._.params},data:{...D.data,..._.data},resolve:{..._.data,...D.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(O))}class Kn{constructor(D,_,O,V,ae,Oe,$e,St,Xt,Tr,Fn,Mr){this.url=D,this.params=_,this.queryParams=O,this.fragment=V,this.data=ae,this.outlet=Oe,this.component=$e,this.title=this.data?.[Hn],this.routeConfig=St,this._urlSegment=Xt,this._lastPathIndex=Tr,this._correctedLastPathIndex=Mr??Tr,this._resolve=Fn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bi extends Le{constructor(D,_){super(_),this.url=D,fi(this,_)}toString(){return us(this._root)}}function fi(w,D){D.value._routerState=w,D.children.forEach(_=>fi(w,_))}function us(w){const D=w.children.length>0?` { ${w.children.map(us).join(", ")} } `:"";return`${w.value}${D}`}function ts(w){if(w.snapshot){const D=w.snapshot,_=w._futureSnapshot;w.snapshot=_,Gn(D.queryParams,_.queryParams)||w.queryParams.next(_.queryParams),D.fragment!==_.fragment&&w.fragment.next(_.fragment),Gn(D.params,_.params)||w.params.next(_.params),function An(w,D){if(w.length!==D.length)return!1;for(let _=0;_<w.length;++_)if(!Gn(w[_],D[_]))return!1;return!0}(D.url,_.url)||w.url.next(_.url),Gn(D.data,_.data)||w.data.next(_.data)}else w.snapshot=w._futureSnapshot,w.data.next(w._futureSnapshot.data)}function Gi(w,D){const _=Gn(w.params,D.params)&&function qn(w,D){return Qe(w,D)&&w.every((_,O)=>Gn(_.parameters,D[O].parameters))}(w.url,D.url);return _&&!(!w.parent!=!D.parent)&&(!w.parent||Gi(w.parent,D.parent))}function Os(w,D,_){if(_&&w.shouldReuseRoute(D.value,_.value.snapshot)){const O=_.value;O._futureSnapshot=D.value;const V=function ks(w,D,_){return D.children.map(O=>{for(const V of _.children)if(w.shouldReuseRoute(O.value,V.value.snapshot))return Os(w,O,V);return Os(w,O)})}(w,D,_);return new un(O,V)}{if(w.shouldAttach(D.value)){const ae=w.retrieve(D.value);if(null!==ae){const Oe=ae.route;return Oe.value._futureSnapshot=D.value,Oe.children=D.children.map($e=>Os(w,$e)),Oe}}const O=function vo(w){return new Ue(new re.X(w.url),new re.X(w.params),new re.X(w.queryParams),new re.X(w.fragment),new re.X(w.data),w.outlet,w.component,w)}(D.value),V=D.children.map(ae=>Os(w,ae));return new un(O,V)}}const no="ngNavigationCancelingError";function _o(w,D){const{redirectTo:_,navigationBehaviorOptions:O}=_e(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,V=cs(!1,0,D);return V.url=_,V.navigationBehaviorOptions=O,V}function cs(w,D,_){const O=new Error("NavigationCancelingError: "+(w||""));return O[no]=!0,O.cancellationCode=D,_&&(O.url=_),O}function ds(w){return ys(w)&&_e(w.url)}function ys(w){return w&&w[no]}class hs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ps,this.attachRef=null}}let Ps=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(_,O){const V=this.getOrCreateContext(_);V.outlet=O,this.contexts.set(_,V)}onChildOutletDestroyed(_){const O=this.getContext(_);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let O=this.getContext(_);return O||(O=new hs,this.contexts.set(_,O)),O}getContext(_){return this.contexts.get(_)||null}}return w.\u0275fac=function(_){return new(_||w)},w.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const ro=!1;let Hi=(()=>{class w{constructor(_,O,V,ae,Oe){this.parentContexts=_,this.location=O,this.changeDetector=ae,this.environmentInjector=Oe,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=V||zt,_.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const _=this.parentContexts.getContext(this.name);_&&_.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,ro);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,ro);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,ro);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,O){this.activated=_,this._activatedRoute=O,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,O){if(this.isActivated)throw new c.vHH(4013,ro);this._activatedRoute=_;const V=this.location,Oe=_._futureSnapshot.component,$e=this.parentContexts.getOrCreateContext(this.name).children,St=new vs(_,$e,V.injector);if(O&&function Ws(w){return!!w.resolveComponentFactory}(O)){const Xt=O.resolveComponentFactory(Oe);this.activated=V.createComponent(Xt,V.length,St)}else this.activated=V.createComponent(Oe,{index:V.length,injector:St,environmentInjector:O??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(_){return new(_||w)(c.Y36(Ps),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},w.\u0275dir=c.lG2({type:w,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),w})();class vs{constructor(D,_,O){this.route=D,this.childContexts=_,this.parent=O}get(D,_){return D===Ue?this.route:D===Ps?this.childContexts:this.parent.get(D,_)}}let ni=(()=>{class w{}return w.\u0275fac=function(_){return new(_||w)},w.\u0275cmp=c.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(_,O){1&_&&c._UZ(0,"router-outlet")},dependencies:[Hi],encapsulation:2}),w})();function Ks(w,D){return w.providers&&!w._injector&&(w._injector=(0,c.MMx)(w.providers,D,`Route: ${w.path}`)),w._injector??D}function Ls(w){const D=w.children&&w.children.map(Ls),_=D?{...w,children:D}:{...w};return!_.component&&!_.loadComponent&&(D||_.loadChildren)&&_.outlet&&_.outlet!==zt&&(_.component=ni),_}function qi(w){return w.outlet||zt}function fs(w,D){const _=w.filter(O=>qi(O)===D);return _.push(...w.filter(O=>qi(O)!==D)),_}function wi(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let D=w.parent;D;D=D.parent){const _=D.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class tr{constructor(D,_,O,V){this.routeReuseStrategy=D,this.futureState=_,this.currState=O,this.forwardEvent=V}activate(D){const _=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,O,D),ts(this.futureState.root),this.activateChildRoutes(_,O,D)}deactivateChildRoutes(D,_,O){const V=Dn(_);D.children.forEach(ae=>{const Oe=ae.value.outlet;this.deactivateRoutes(ae,V[Oe],O),delete V[Oe]}),Bn(V,(ae,Oe)=>{this.deactivateRouteAndItsChildren(ae,O)})}deactivateRoutes(D,_,O){const V=D.value,ae=_?_.value:null;if(V===ae)if(V.component){const Oe=O.getContext(V.outlet);Oe&&this.deactivateChildRoutes(D,_,Oe.children)}else this.deactivateChildRoutes(D,_,O);else ae&&this.deactivateRouteAndItsChildren(_,O)}deactivateRouteAndItsChildren(D,_){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,_):this.deactivateRouteAndOutlet(D,_)}detachAndStoreRouteSubtree(D,_){const O=_.getContext(D.value.outlet),V=O&&D.value.component?O.children:_,ae=Dn(D);for(const Oe of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Oe],V);if(O&&O.outlet){const Oe=O.outlet.detach(),$e=O.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:Oe,route:D,contexts:$e})}}deactivateRouteAndOutlet(D,_){const O=_.getContext(D.value.outlet),V=O&&D.value.component?O.children:_,ae=Dn(D);for(const Oe of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Oe],V);O&&O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated(),O.attachRef=null,O.resolver=null,O.route=null)}activateChildRoutes(D,_,O){const V=Dn(_);D.children.forEach(ae=>{this.activateRoutes(ae,V[ae.value.outlet],O),this.forwardEvent(new Ee(ae.value.snapshot))}),D.children.length&&this.forwardEvent(new zs(D.value.snapshot))}activateRoutes(D,_,O){const V=D.value,ae=_?_.value:null;if(ts(V),V===ae)if(V.component){const Oe=O.getOrCreateContext(V.outlet);this.activateChildRoutes(D,_,Oe.children)}else this.activateChildRoutes(D,_,O);else if(V.component){const Oe=O.getOrCreateContext(V.outlet);if(this.routeReuseStrategy.shouldAttach(V.snapshot)){const $e=this.routeReuseStrategy.retrieve(V.snapshot);this.routeReuseStrategy.store(V.snapshot,null),Oe.children.onOutletReAttached($e.contexts),Oe.attachRef=$e.componentRef,Oe.route=$e.route.value,Oe.outlet&&Oe.outlet.attach($e.componentRef,$e.route.value),ts($e.route.value),this.activateChildRoutes(D,null,Oe.children)}else{const $e=wi(V.snapshot),St=$e?.get(c._Vd)??null;Oe.attachRef=null,Oe.route=V,Oe.resolver=St,Oe.injector=$e,Oe.outlet&&Oe.outlet.activateWith(V,Oe.injector),this.activateChildRoutes(D,null,Oe.children)}}else this.activateChildRoutes(D,null,O)}}class uo{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class Go{constructor(D,_){this.component=D,this.route=_}}function Vs(w,D,_){const O=w._root;return rs(O,D?D._root:null,_,[O.value])}function Ys(w,D){const _=Symbol(),O=D.get(w,_);return O===_?"function"!=typeof w||(0,c.Z0I)(w)?D.get(w):w:O}function rs(w,D,_,O,V={canDeactivateChecks:[],canActivateChecks:[]}){const ae=Dn(D);return w.children.forEach(Oe=>{(function Oo(w,D,_,O,V={canDeactivateChecks:[],canActivateChecks:[]}){const ae=w.value,Oe=D?D.value:null,$e=_?_.getContext(w.value.outlet):null;if(Oe&&ae.routeConfig===Oe.routeConfig){const St=function ko(w,D,_){if("function"==typeof _)return _(w,D);switch(_){case"pathParamsChange":return!Qe(w.url,D.url);case"pathParamsOrQueryParamsChange":return!Qe(w.url,D.url)||!Gn(w.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gi(w,D)||!Gn(w.queryParams,D.queryParams);default:return!Gi(w,D)}}(Oe,ae,ae.routeConfig.runGuardsAndResolvers);St?V.canActivateChecks.push(new uo(O)):(ae.data=Oe.data,ae._resolvedData=Oe._resolvedData),rs(w,D,ae.component?$e?$e.children:null:_,O,V),St&&$e&&$e.outlet&&$e.outlet.isActivated&&V.canDeactivateChecks.push(new Go($e.outlet.component,Oe))}else Oe&&Wt(D,$e,V),V.canActivateChecks.push(new uo(O)),rs(w,null,ae.component?$e?$e.children:null:_,O,V)})(Oe,ae[Oe.value.outlet],_,O.concat([Oe.value]),V),delete ae[Oe.value.outlet]}),Bn(ae,(Oe,$e)=>Wt(Oe,_.getContext($e),V)),V}function Wt(w,D,_){const O=Dn(w),V=w.value;Bn(O,(ae,Oe)=>{Wt(ae,V.component?D?D.children.getContext(Oe):null:D,_)}),_.canDeactivateChecks.push(new Go(V.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,V))}function Er(w){return"function"==typeof w}function Tn(w){return w instanceof ge.K||"EmptyError"===w?.name}const pi=Symbol("INITIAL_VALUE");function ss(){return(0,at.w)(w=>(0,Me.a)(w.map(D=>D.pipe((0,Fe.q)(1),(0,Rt.O)(pi)))).pipe((0,Je.U)(D=>{for(const _ of D)if(!0!==_){if(_===pi)return pi;if(!1===_||_ instanceof _n)return _}return!0}),(0,Be.h)(D=>D!==pi),(0,Fe.q)(1)))}function zo(w){return(0,be.z)((0,Et.b)(D=>{if(_e(D))throw _o(0,D)}),(0,Je.U)(D=>!0===D))}const co={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Po(w,D,_,O,V){const ae=wo(w,D,_);return ae.matched?function Jo(w,D,_,O){const V=D.canMatch;if(!V||0===V.length)return(0,I.of)(!0);const ae=V.map(Oe=>{const $e=Ys(Oe,w);return Qn(function R(w){return w&&Er(w.canMatch)}($e)?$e.canMatch(D,_):w.runInContext(()=>$e(D,_)))});return(0,I.of)(ae).pipe(ss(),zo())}(O=Ks(D,O),D,_).pipe((0,Je.U)(Oe=>!0===Oe?ae:{...co})):(0,I.of)(ae)}function wo(w,D,_){if(""===D.path)return"full"===D.pathMatch&&(w.hasChildren()||_.length>0)?{...co}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const V=(D.matcher||xr)(_,w,D);if(!V)return{...co};const ae={};Bn(V.posParams,($e,St)=>{ae[St]=$e.path});const Oe=V.consumed.length>0?{...ae,...V.consumed[V.consumed.length-1].parameters}:ae;return{matched:!0,consumedSegments:V.consumed,remainingSegments:_.slice(V.consumed.length),parameters:Oe,positionalParamSegments:V.posParams??{}}}function xs(w,D,_,O,V="corrected"){if(_.length>0&&function na(w,D,_){return _.some(O=>ho(w,D,O)&&qi(O)!==zt)}(w,_,O)){const Oe=new hn(D,function ta(w,D,_,O){const V={};V[zt]=O,O._sourceSegment=w,O._segmentIndexShift=D.length;for(const ae of _)if(""===ae.path&&qi(ae)!==zt){const Oe=new hn([],{});Oe._sourceSegment=w,Oe._segmentIndexShift=D.length,V[qi(ae)]=Oe}return V}(w,D,O,new hn(_,w.children)));return Oe._sourceSegment=w,Oe._segmentIndexShift=D.length,{segmentGroup:Oe,slicedSegments:[]}}if(0===_.length&&function Co(w,D,_){return _.some(O=>ho(w,D,O))}(w,_,O)){const Oe=new hn(w.segments,function ea(w,D,_,O,V,ae){const Oe={};for(const $e of O)if(ho(w,_,$e)&&!V[qi($e)]){const St=new hn([],{});St._sourceSegment=w,St._segmentIndexShift="legacy"===ae?w.segments.length:D.length,Oe[qi($e)]=St}return{...V,...Oe}}(w,D,_,O,w.children,V));return Oe._sourceSegment=w,Oe._segmentIndexShift=D.length,{segmentGroup:Oe,slicedSegments:_}}const ae=new hn(w.segments,w.children);return ae._sourceSegment=w,ae._segmentIndexShift=D.length,{segmentGroup:ae,slicedSegments:_}}function ho(w,D,_){return(!(w.hasChildren()||D.length>0)||"full"!==_.pathMatch)&&""===_.path}function T(w,D,_,O){return!!(qi(w)===O||O!==zt&&ho(D,_,w))&&("**"===w.path||wo(D,w,_).matched)}function K(w,D,_){return 0===D.length&&!w.children[_]}const P=!1;class le{constructor(D){this.segmentGroup=D||null}}class Ke{constructor(D){this.urlTree=D}}function Dt(w){return(0,De._)(new le(w))}function Vt(w){return(0,De._)(new Ke(w))}class Kr{constructor(D,_,O,V,ae){this.injector=D,this.configLoader=_,this.urlSerializer=O,this.urlTree=V,this.config=ae,this.allowRedirects=!0}apply(){const D=xs(this.urlTree.root,[],[],this.config).segmentGroup,_=new hn(D.segments,D.children);return this.expandSegmentGroup(this.injector,this.config,_,zt).pipe((0,Je.U)(ae=>this.createUrlTree(Ce(ae),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ye.K)(ae=>{if(ae instanceof Ke)return this.allowRedirects=!1,this.match(ae.urlTree);throw ae instanceof le?this.noMatchError(ae):ae}))}match(D){return this.expandSegmentGroup(this.injector,this.config,D.root,zt).pipe((0,Je.U)(V=>this.createUrlTree(Ce(V),D.queryParams,D.fragment))).pipe((0,ye.K)(V=>{throw V instanceof le?this.noMatchError(V):V}))}noMatchError(D){return new c.vHH(4002,P)}createUrlTree(D,_,O){const V=ie(D);return new _n(V,_,O)}expandSegmentGroup(D,_,O,V){return 0===O.segments.length&&O.hasChildren()?this.expandChildren(D,_,O).pipe((0,Je.U)(ae=>new hn([],ae))):this.expandSegment(D,O,_,O.segments,V,!0)}expandChildren(D,_,O){const V=[];for(const ae of Object.keys(O.children))"primary"===ae?V.unshift(ae):V.push(ae);return(0,C.D)(V).pipe((0,tt.b)(ae=>{const Oe=O.children[ae],$e=fs(_,ae);return this.expandSegmentGroup(D,$e,Oe,ae).pipe((0,Je.U)(St=>({segment:St,outlet:ae})))}),(0,pt.R)((ae,Oe)=>(ae[Oe.outlet]=Oe.segment,ae),{}),Kt())}expandSegment(D,_,O,V,ae,Oe){return(0,C.D)(O).pipe((0,tt.b)($e=>this.expandSegmentAgainstRoute(D,_,O,$e,V,ae,Oe).pipe((0,ye.K)(Xt=>{if(Xt instanceof le)return(0,I.of)(null);throw Xt}))),(0,Ie.P)($e=>!!$e),(0,ye.K)(($e,St)=>{if(Tn($e))return K(_,V,ae)?(0,I.of)(new hn([],{})):Dt(_);throw $e}))}expandSegmentAgainstRoute(D,_,O,V,ae,Oe,$e){return T(V,_,ae,Oe)?void 0===V.redirectTo?this.matchSegmentAgainstRoute(D,_,V,ae,Oe):$e&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,_,O,V,ae,Oe):Dt(_):Dt(_)}expandSegmentAgainstRouteUsingRedirect(D,_,O,V,ae,Oe){return"**"===V.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,O,V,Oe):this.expandRegularSegmentAgainstRouteUsingRedirect(D,_,O,V,ae,Oe)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,_,O,V){const ae=this.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?Vt(ae):this.lineralizeSegments(O,ae).pipe((0,we.z)(Oe=>{const $e=new hn(Oe,{});return this.expandSegment(D,$e,_,Oe,V,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,_,O,V,ae,Oe){const{matched:$e,consumedSegments:St,remainingSegments:Xt,positionalParamSegments:Tr}=wo(_,V,ae);if(!$e)return Dt(_);const Fn=this.applyRedirectCommands(St,V.redirectTo,Tr);return V.redirectTo.startsWith("/")?Vt(Fn):this.lineralizeSegments(V,Fn).pipe((0,we.z)(Mr=>this.expandSegment(D,_,O,Mr.concat(Xt),Oe,!1)))}matchSegmentAgainstRoute(D,_,O,V,ae){return"**"===O.path?(D=Ks(O,D),O.loadChildren?(O._loadedRoutes?(0,I.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):this.configLoader.loadChildren(D,O)).pipe((0,Je.U)($e=>(O._loadedRoutes=$e.routes,O._loadedInjector=$e.injector,new hn(V,{})))):(0,I.of)(new hn(V,{}))):Po(_,O,V,D).pipe((0,at.w)(({matched:Oe,consumedSegments:$e,remainingSegments:St})=>Oe?this.getChildConfig(D=O._injector??D,O,V).pipe((0,we.z)(Tr=>{const Fn=Tr.injector??D,Mr=Tr.routes,{segmentGroup:Us,slicedSegments:mi}=xs(_,$e,St,Mr),Ta=new hn(Us.segments,Us.children);if(0===mi.length&&Ta.hasChildren())return this.expandChildren(Fn,Mr,Ta).pipe((0,Je.U)(ha=>new hn($e,ha)));if(0===Mr.length&&0===mi.length)return(0,I.of)(new hn($e,{}));const Es=qi(O)===ae;return this.expandSegment(Fn,Ta,Mr,mi,Es?zt:ae,!0).pipe((0,Je.U)(Js=>new hn($e.concat(Js.segments),Js.children)))})):Dt(_)))}getChildConfig(D,_,O){return _.children?(0,I.of)({routes:_.children,injector:D}):_.loadChildren?void 0!==_._loadedRoutes?(0,I.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function ya(w,D,_,O){const V=D.canLoad;if(void 0===V||0===V.length)return(0,I.of)(!0);const ae=V.map(Oe=>{const $e=Ys(Oe,w);return Qn(function is(w){return w&&Er(w.canLoad)}($e)?$e.canLoad(D,_):w.runInContext(()=>$e(D,_)))});return(0,I.of)(ae).pipe(ss(),zo())}(D,_,O).pipe((0,we.z)(V=>V?this.configLoader.loadChildren(D,_).pipe((0,Et.b)(ae=>{_._loadedRoutes=ae.routes,_._loadedInjector=ae.injector})):function Wr(w){return(0,De._)(cs(P,3))}())):(0,I.of)({routes:[],injector:D})}lineralizeSegments(D,_){let O=[],V=_.root;for(;;){if(O=O.concat(V.segments),0===V.numberOfChildren)return(0,I.of)(O);if(V.numberOfChildren>1||!V.children[zt])return(0,De._)(new c.vHH(4e3,P));V=V.children[zt]}}applyRedirectCommands(D,_,O){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),D,O)}applyRedirectCreateUrlTree(D,_,O,V){const ae=this.createSegmentGroup(D,_.root,O,V);return new _n(ae,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(D,_){const O={};return Bn(D,(V,ae)=>{if("string"==typeof V&&V.startsWith(":")){const $e=V.substring(1);O[ae]=_[$e]}else O[ae]=V}),O}createSegmentGroup(D,_,O,V){const ae=this.createSegments(D,_.segments,O,V);let Oe={};return Bn(_.children,($e,St)=>{Oe[St]=this.createSegmentGroup(D,$e,O,V)}),new hn(ae,Oe)}createSegments(D,_,O,V){return _.map(ae=>ae.path.startsWith(":")?this.findPosParam(D,ae,V):this.findOrReturn(ae,O))}findPosParam(D,_,O){const V=O[_.path.substring(1)];if(!V)throw new c.vHH(4001,P);return V}findOrReturn(D,_){let O=0;for(const V of _){if(V.path===D.path)return _.splice(O),V;O++}return D}}class li{}class Zs{constructor(D,_,O,V,ae,Oe,$e,St){this.injector=D,this.rootComponentType=_,this.config=O,this.urlTree=V,this.url=ae,this.paramsInheritanceStrategy=Oe,this.relativeLinkResolution=$e,this.urlSerializer=St}recognize(){const D=xs(this.urlTree.root,[],[],this.config.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,zt).pipe((0,Je.U)(_=>{if(null===_)return null;const O=new Kn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),V=new un(O,_),ae=new bi(this.url,V);return this.inheritParamsAndData(ae._root),ae}))}inheritParamsAndData(D){const _=D.value,O=bt(_,this.paramsInheritanceStrategy);_.params=Object.freeze(O.params),_.data=Object.freeze(O.data),D.children.forEach(V=>this.inheritParamsAndData(V))}processSegmentGroup(D,_,O,V){return 0===O.segments.length&&O.hasChildren()?this.processChildren(D,_,O):this.processSegment(D,_,O,O.segments,V)}processChildren(D,_,O){return(0,C.D)(Object.keys(O.children)).pipe((0,tt.b)(V=>{const ae=O.children[V],Oe=fs(_,V);return this.processSegmentGroup(D,Oe,ae,V)}),(0,pt.R)((V,ae)=>V&&ae?(V.push(...ae),V):null),function fn(w,D=!1){return(0,Re.e)((_,O)=>{let V=0;_.subscribe((0,Ye.x)(O,ae=>{const Oe=w(ae,V++);(Oe||D)&&O.next(ae),!Oe&&O.complete()}))})}(V=>null!==V),(0,jt.d)(null),Kt(),(0,Je.U)(V=>{if(null===V)return null;const ae=F(V);return function z(w){w.sort((D,_)=>D.value.outlet===zt?-1:_.value.outlet===zt?1:D.value.outlet.localeCompare(_.value.outlet))}(ae),ae}))}processSegment(D,_,O,V,ae){return(0,C.D)(_).pipe((0,tt.b)(Oe=>this.processSegmentAgainstRoute(Oe._injector??D,Oe,O,V,ae)),(0,Ie.P)(Oe=>!!Oe),(0,ye.K)(Oe=>{if(Tn(Oe))return K(O,V,ae)?(0,I.of)([]):(0,I.of)(null);throw Oe}))}processSegmentAgainstRoute(D,_,O,V,ae){if(_.redirectTo||!T(_,O,V,ae))return(0,I.of)(null);let Oe;if("**"===_.path){const $e=V.length>0?Zn(V).parameters:{},St=We(O)+V.length,Xt=new Kn(V,$e,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,It(_),qi(_),_.component??_._loadedComponent??null,_,Se(O),St,qt(_),St);Oe=(0,I.of)({snapshot:Xt,consumedSegments:[],remainingSegments:[]})}else Oe=Po(O,_,V,D).pipe((0,Je.U)(({matched:$e,consumedSegments:St,remainingSegments:Xt,parameters:Tr})=>{if(!$e)return null;const Fn=We(O)+St.length;return{snapshot:new Kn(St,Tr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,It(_),qi(_),_.component??_._loadedComponent??null,_,Se(O),Fn,qt(_),Fn),consumedSegments:St,remainingSegments:Xt}}));return Oe.pipe((0,at.w)($e=>{if(null===$e)return(0,I.of)(null);const{snapshot:St,consumedSegments:Xt,remainingSegments:Tr}=$e;D=_._injector??D;const Fn=_._loadedInjector??D,Mr=function y(w){return w.children?w.children:w.loadChildren?w._loadedRoutes:[]}(_),{segmentGroup:Us,slicedSegments:mi}=xs(O,Xt,Tr,Mr.filter(Es=>void 0===Es.redirectTo),this.relativeLinkResolution);if(0===mi.length&&Us.hasChildren())return this.processChildren(Fn,Mr,Us).pipe((0,Je.U)(Es=>null===Es?null:[new un(St,Es)]));if(0===Mr.length&&0===mi.length)return(0,I.of)([new un(St,[])]);const Ta=qi(_)===ae;return this.processSegment(Fn,Mr,Us,mi,Ta?zt:ae).pipe((0,Je.U)(Es=>null===Es?null:[new un(St,Es)]))}))}}function b(w){const D=w.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function F(w){const D=[],_=new Set;for(const O of w){if(!b(O)){D.push(O);continue}const V=D.find(ae=>O.value.routeConfig===ae.value.routeConfig);void 0!==V?(V.children.push(...O.children),_.add(V)):D.push(O)}for(const O of _){const V=F(O.children);D.push(new un(O.value,V))}return D.filter(O=>!_.has(O))}function Se(w){let D=w;for(;D._sourceSegment;)D=D._sourceSegment;return D}function We(w){let D=w,_=D._segmentIndexShift??0;for(;D._sourceSegment;)D=D._sourceSegment,_+=D._segmentIndexShift??0;return _-1}function It(w){return w.data||{}}function qt(w){return w.resolve||{}}function ii(w){return"string"==typeof w.title||null===w.title}function ui(w){return(0,at.w)(D=>{const _=w(D);return _?(0,C.D)(_).pipe((0,Je.U)(()=>D)):(0,I.of)(D)})}let ur=(()=>{class w{buildTitle(_){let O,V=_.root;for(;void 0!==V;)O=this.getResolvedTitleForRoute(V)??O,V=V.children.find(ae=>ae.outlet===zt);return O}getResolvedTitleForRoute(_){return _.data[Hn]}}return w.\u0275fac=function(_){return new(_||w)},w.\u0275prov=c.Yz7({token:w,factory:function(){return(0,c.f3M)(Ni)},providedIn:"root"}),w})(),Ni=(()=>{class w extends ur{constructor(_){super(),this.title=_}updateTitle(_){const O=this.buildTitle(_);void 0!==O&&this.title.setTitle(O)}}return w.\u0275fac=function(_){return new(_||w)(c.LFG(gn.Dx))},w.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class bs{}class rn extends class Bs{shouldDetach(D){return!1}store(D,_){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,_){return D.routeConfig===_.routeConfig}}{}const zi=new c.OlP("",{providedIn:"root",factory:()=>({})}),In=new c.OlP("ROUTES");let Yn=(()=>{class w{constructor(_,O){this.injector=_,this.compiler=O,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,I.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const O=Qn(_.loadComponent()).pipe((0,Et.b)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=ae}),(0,Nt.x)(()=>{this.componentLoaders.delete(_)})),V=new nt.c(O,()=>new ze.x).pipe((0,Rn.x)());return this.componentLoaders.set(_,V),V}loadChildren(_,O){if(this.childrenLoaders.get(O))return this.childrenLoaders.get(O);if(O._loadedRoutes)return(0,I.of)({routes:O._loadedRoutes,injector:O._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(O);const ae=this.loadModuleFactoryOrRoutes(O.loadChildren).pipe((0,Je.U)($e=>{this.onLoadEndListener&&this.onLoadEndListener(O);let St,Xt,Tr=!1;Array.isArray($e)?Xt=$e:(St=$e.create(_).injector,Xt=$n(St.get(In,[],c.XFs.Self|c.XFs.Optional)));return{routes:Xt.map(Ls),injector:St}}),(0,Nt.x)(()=>{this.childrenLoaders.delete(O)})),Oe=new nt.c(ae,()=>new ze.x).pipe((0,Rn.x)());return this.childrenLoaders.set(O,Oe),Oe}loadModuleFactoryOrRoutes(_){return Qn(_()).pipe((0,we.z)(O=>O instanceof c.YKP||Array.isArray(O)?(0,I.of)(O):(0,C.D)(this.compiler.compileModuleAsync(O))))}}return w.\u0275fac=function(_){return new(_||w)(c.LFG(c.zs3),c.LFG(c.Sil))},w.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class Qs{}class Cn{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,_){return D}}function wt(w){throw w}function On(w,D,_){return D.parse("/")}const fr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function ps(){const w=(0,c.f3M)(N),D=(0,c.f3M)(Ps),_=(0,c.f3M)(_t.Ye),O=(0,c.f3M)(c.zs3),V=(0,c.f3M)(c.Sil),ae=(0,c.f3M)(In,{optional:!0})??[],Oe=(0,c.f3M)(zi,{optional:!0})??{},$e=(0,c.f3M)(Ni),St=(0,c.f3M)(ur,{optional:!0}),Xt=(0,c.f3M)(Qs,{optional:!0}),Tr=(0,c.f3M)(bs,{optional:!0}),Fn=new Qr(null,w,D,_,O,V,$n(ae));return Xt&&(Fn.urlHandlingStrategy=Xt),Tr&&(Fn.routeReuseStrategy=Tr),Fn.titleStrategy=St??$e,function Yi(w,D){w.errorHandler&&(D.errorHandler=w.errorHandler),w.malformedUriErrorHandler&&(D.malformedUriErrorHandler=w.malformedUriErrorHandler),w.onSameUrlNavigation&&(D.onSameUrlNavigation=w.onSameUrlNavigation),w.paramsInheritanceStrategy&&(D.paramsInheritanceStrategy=w.paramsInheritanceStrategy),w.relativeLinkResolution&&(D.relativeLinkResolution=w.relativeLinkResolution),w.urlUpdateStrategy&&(D.urlUpdateStrategy=w.urlUpdateStrategy),w.canceledNavigationResolution&&(D.canceledNavigationResolution=w.canceledNavigationResolution)}(Oe,Fn),Fn}let Qr=(()=>{class w{constructor(_,O,V,ae,Oe,$e,St){this.rootComponentType=_,this.urlSerializer=O,this.rootContexts=V,this.location=ae,this.config=St,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ze.x,this.errorHandler=wt,this.malformedUriErrorHandler=On,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,I.of)(void 0),this.urlHandlingStrategy=new Cn,this.routeReuseStrategy=new rn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Oe.get(Yn),this.configLoader.onLoadEndListener=Mr=>this.triggerEvent(new Rs(Mr)),this.configLoader.onLoadStartListener=Mr=>this.triggerEvent(new Is(Mr)),this.ngModule=Oe.get(c.h0i),this.console=Oe.get(c.c2e);const Fn=Oe.get(c.R0b);this.isNgZoneEnabled=Fn instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(St),this.currentUrlTree=function rr(){return new _n(new hn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=te(this.currentUrlTree,this.rootComponentType),this.transitions=new re.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(_){const O=this.events;return _.pipe((0,Be.h)(V=>0!==V.id),(0,Je.U)(V=>({...V,extractedUrl:this.urlHandlingStrategy.extract(V.rawUrl)})),(0,at.w)(V=>{let ae=!1,Oe=!1;return(0,I.of)(V).pipe((0,Et.b)($e=>{this.currentNavigation={id:$e.id,initialUrl:$e.rawUrl,extractedUrl:$e.extractedUrl,trigger:$e.source,extras:$e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,at.w)($e=>{const St=this.browserUrlTree.toString(),Xt=!this.navigated||$e.extractedUrl.toString()!==St||St!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Xt)&&this.urlHandlingStrategy.shouldProcessUrl($e.rawUrl))return di($e.source)&&(this.browserUrlTree=$e.extractedUrl),(0,I.of)($e).pipe((0,at.w)(Fn=>{const Mr=this.transitions.getValue();return O.next(new xi(Fn.id,this.serializeUrl(Fn.extractedUrl),Fn.source,Fn.restoredState)),Mr!==this.transitions.getValue()?it.E:Promise.resolve(Fn)}),function Br(w,D,_,O){return(0,at.w)(V=>function Yr(w,D,_,O,V){return new Kr(w,D,_,O,V).apply()}(w,D,_,V.extractedUrl,O).pipe((0,Je.U)(ae=>({...V,urlAfterRedirects:ae}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Et.b)(Fn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Fn.urlAfterRedirects},V.urlAfterRedirects=Fn.urlAfterRedirects}),function kn(w,D,_,O,V,ae){return(0,we.z)(Oe=>function Ss(w,D,_,O,V,ae,Oe="emptyOnly",$e="legacy"){return new Zs(w,D,_,O,V,Oe,$e,ae).recognize().pipe((0,at.w)(St=>null===St?function Fi(w){return new Te.y(D=>D.error(w))}(new li):(0,I.of)(St)))}(w,D,_,Oe.urlAfterRedirects,O.serialize(Oe.urlAfterRedirects),O,V,ae).pipe((0,Je.U)($e=>({...Oe,targetSnapshot:$e}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Et.b)(Fn=>{if(V.targetSnapshot=Fn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Fn.extras.skipLocationChange){const Us=this.urlHandlingStrategy.merge(Fn.urlAfterRedirects,Fn.rawUrl);this.setBrowserUrl(Us,Fn)}this.browserUrlTree=Fn.urlAfterRedirects}const Mr=new oi(Fn.id,this.serializeUrl(Fn.extractedUrl),this.serializeUrl(Fn.urlAfterRedirects),Fn.targetSnapshot);O.next(Mr)}));if(Xt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Mr,extractedUrl:Us,source:mi,restoredState:Ta,extras:Es}=$e,Zi=new xi(Mr,this.serializeUrl(Us),mi,Ta);O.next(Zi);const Js=te(Us,this.rootComponentType).snapshot;return V={...$e,targetSnapshot:Js,urlAfterRedirects:Us,extras:{...Es,skipLocationChange:!1,replaceUrl:!1}},(0,I.of)(V)}return this.rawUrlTree=$e.rawUrl,$e.resolve(null),it.E}),(0,Et.b)($e=>{const St=new Ki($e.id,this.serializeUrl($e.extractedUrl),this.serializeUrl($e.urlAfterRedirects),$e.targetSnapshot);this.triggerEvent(St)}),(0,Je.U)($e=>V={...$e,guards:Vs($e.targetSnapshot,$e.currentSnapshot,this.rootContexts)}),function Fs(w,D){return(0,we.z)(_=>{const{targetSnapshot:O,currentSnapshot:V,guards:{canActivateChecks:ae,canDeactivateChecks:Oe}}=_;return 0===Oe.length&&0===ae.length?(0,I.of)({..._,guardsResult:!0}):function ri(w,D,_,O){return(0,C.D)(w).pipe((0,we.z)(V=>function $o(w,D,_,O,V){const ae=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,I.of)(!0);const Oe=ae.map($e=>{const St=wi(D)??V,Xt=Ys($e,St);return Qn(function L(w){return w&&Er(w.canDeactivate)}(Xt)?Xt.canDeactivate(w,D,_,O):St.runInContext(()=>Xt(w,D,_,O))).pipe((0,Ie.P)())});return(0,I.of)(Oe).pipe(ss())}(V.component,V.route,_,D,O)),(0,Ie.P)(V=>!0!==V,!0))}(Oe,O,V,w).pipe((0,we.z)($e=>$e&&function Eo(w){return"boolean"==typeof w}($e)?function _s(w,D,_,O){return(0,C.D)(D).pipe((0,tt.b)(V=>(0,Ne.z)(function Ei(w,D){return null!==w&&D&&D(new ls(w)),(0,I.of)(!0)}(V.route.parent,O),function ma(w,D){return null!==w&&D&&D(new oe(w)),(0,I.of)(!0)}(V.route,O),function Xa(w,D,_){const O=D[D.length-1],ae=D.slice(0,D.length-1).reverse().map(Oe=>function bo(w){const D=w.routeConfig?w.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:w,guards:D}:null}(Oe)).filter(Oe=>null!==Oe).map(Oe=>ce(()=>{const $e=Oe.guards.map(St=>{const Xt=wi(Oe.node)??_,Tr=Ys(St,Xt);return Qn(function U(w){return w&&Er(w.canActivateChild)}(Tr)?Tr.canActivateChild(O,w):Xt.runInContext(()=>Tr(O,w))).pipe((0,Ie.P)())});return(0,I.of)($e).pipe(ss())}));return(0,I.of)(ae).pipe(ss())}(w,V.path,_),function io(w,D,_){const O=D.routeConfig?D.routeConfig.canActivate:null;if(!O||0===O.length)return(0,I.of)(!0);const V=O.map(ae=>ce(()=>{const Oe=wi(D)??_,$e=Ys(ae,Oe);return Qn(function ai(w){return w&&Er(w.canActivate)}($e)?$e.canActivate(D,w):Oe.runInContext(()=>$e(D,w))).pipe((0,Ie.P)())}));return(0,I.of)(V).pipe(ss())}(w,V.route,_))),(0,Ie.P)(V=>!0!==V,!0))}(O,ae,w,D):(0,I.of)($e)),(0,Je.U)($e=>({..._,guardsResult:$e})))})}(this.ngModule.injector,$e=>this.triggerEvent($e)),(0,Et.b)($e=>{if(V.guardsResult=$e.guardsResult,_e($e.guardsResult))throw _o(0,$e.guardsResult);const St=new Pi($e.id,this.serializeUrl($e.extractedUrl),this.serializeUrl($e.urlAfterRedirects),$e.targetSnapshot,!!$e.guardsResult);this.triggerEvent(St)}),(0,Be.h)($e=>!!$e.guardsResult||(this.restoreHistory($e),this.cancelNavigationTransition($e,"",3),!1)),ui($e=>{if($e.guards.canActivateChecks.length)return(0,I.of)($e).pipe((0,Et.b)(St=>{const Xt=new es(St.id,this.serializeUrl(St.extractedUrl),this.serializeUrl(St.urlAfterRedirects),St.targetSnapshot);this.triggerEvent(Xt)}),(0,at.w)(St=>{let Xt=!1;return(0,I.of)(St).pipe(function jn(w,D){return(0,we.z)(_=>{const{targetSnapshot:O,guards:{canActivateChecks:V}}=_;if(!V.length)return(0,I.of)(_);let ae=0;return(0,C.D)(V).pipe((0,tt.b)(Oe=>function Or(w,D,_,O){const V=w.routeConfig,ae=w._resolve;return void 0!==V?.title&&!ii(V)&&(ae[Hn]=V.title),function wr(w,D,_,O){const V=function lr(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===V.length)return(0,I.of)({});const ae={};return(0,C.D)(V).pipe((0,we.z)(Oe=>function dr(w,D,_,O){const V=wi(D)??O,ae=Ys(w,V);return Qn(ae.resolve?ae.resolve(D,_):V.runInContext(()=>ae(D,_)))}(w[Oe],D,_,O).pipe((0,Ie.P)(),(0,Et.b)($e=>{ae[Oe]=$e}))),ct(1),function tn(w){return(0,Je.U)(()=>w)}(ae),(0,ye.K)(Oe=>Tn(Oe)?it.E:(0,De._)(Oe)))}(ae,w,D,O).pipe((0,Je.U)(Oe=>(w._resolvedData=Oe,w.data=bt(w,_).resolve,V&&ii(V)&&(w.data[Hn]=V.title),null)))}(Oe.route,O,w,D)),(0,Et.b)(()=>ae++),ct(1),(0,we.z)(Oe=>ae===V.length?(0,I.of)(_):it.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Et.b)({next:()=>Xt=!0,complete:()=>{Xt||(this.restoreHistory(St),this.cancelNavigationTransition(St,"",2))}}))}),(0,Et.b)(St=>{const Xt=new _i(St.id,this.serializeUrl(St.extractedUrl),this.serializeUrl(St.urlAfterRedirects),St.targetSnapshot);this.triggerEvent(Xt)}))}),ui($e=>{const St=Xt=>{const Tr=[];Xt.routeConfig?.loadComponent&&!Xt.routeConfig._loadedComponent&&Tr.push(this.configLoader.loadComponent(Xt.routeConfig).pipe((0,Et.b)(Fn=>{Xt.component=Fn}),(0,Je.U)(()=>{})));for(const Fn of Xt.children)Tr.push(...St(Fn));return Tr};return(0,Me.a)(St($e.targetSnapshot.root)).pipe((0,jt.d)(),(0,Fe.q)(1))}),ui(()=>this.afterPreactivation()),(0,Je.U)($e=>{const St=function As(w,D,_){const O=Os(w,D._root,_?_._root:void 0);return new Sr(O,D)}(this.routeReuseStrategy,$e.targetSnapshot,$e.currentRouterState);return V={...$e,targetRouterState:St}}),(0,Et.b)($e=>{this.currentUrlTree=$e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge($e.urlAfterRedirects,$e.rawUrl),this.routerState=$e.targetRouterState,"deferred"===this.urlUpdateStrategy&&($e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,$e),this.browserUrlTree=$e.urlAfterRedirects)}),((w,D,_)=>(0,Je.U)(O=>(new tr(D,O.targetRouterState,O.currentRouterState,_).activate(w),O)))(this.rootContexts,this.routeReuseStrategy,$e=>this.triggerEvent($e)),(0,Et.b)({next(){ae=!0},complete(){ae=!0}}),(0,Nt.x)(()=>{ae||Oe||this.cancelNavigationTransition(V,"",1),this.currentNavigation?.id===V.id&&(this.currentNavigation=null)}),(0,ye.K)($e=>{if(Oe=!0,ys($e)){ds($e)||(this.navigated=!0,this.restoreHistory(V,!0));const St=new ji(V.id,this.serializeUrl(V.extractedUrl),$e.message,$e.cancellationCode);if(O.next(St),ds($e)){const Xt=this.urlHandlingStrategy.merge($e.url,this.rawUrlTree),Tr={skipLocationChange:V.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||di(V.source)};this.scheduleNavigation(Xt,"imperative",null,Tr,{resolve:V.resolve,reject:V.reject,promise:V.promise})}else V.resolve(!1)}else{this.restoreHistory(V,!0);const St=new ti(V.id,this.serializeUrl(V.extractedUrl),$e,V.targetSnapshot??void 0);O.next(St);try{V.resolve(this.errorHandler($e))}catch(Xt){V.reject(Xt)}}return it.E}))}))}resetRootComponentType(_){this.rootComponentType=_,this.routerState.root.component=this.rootComponentType}setTransition(_){this.transitions.next({...this.transitions.value,..._})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const O="popstate"===_.type?"popstate":"hashchange";"popstate"===O&&setTimeout(()=>{const V={replaceUrl:!0},ae=_.state?.navigationId?_.state:null;if(ae){const $e={...ae};delete $e.navigationId,delete $e.\u0275routerPageId,0!==Object.keys($e).length&&(V.state=$e)}const Oe=this.parseUrl(_.url);this.scheduleNavigation(Oe,O,ae,V)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(_){this.events.next(_)}resetConfig(_){this.config=_.map(Ls),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,O={}){const{relativeTo:V,queryParams:ae,fragment:Oe,queryParamsHandling:$e,preserveFragment:St}=O,Xt=V||this.routerState.root,Tr=St?this.currentUrlTree.fragment:Oe;let Fn=null;switch($e){case"merge":Fn={...this.currentUrlTree.queryParams,...ae};break;case"preserve":Fn=this.currentUrlTree.queryParams;break;default:Fn=ae||null}return null!==Fn&&(Fn=this.removeEmptyProps(Fn)),Lt(Xt,this.currentUrlTree,_,Fn,Tr??null)}navigateByUrl(_,O={skipLocationChange:!1}){const V=_e(_)?_:this.parseUrl(_),ae=this.urlHandlingStrategy.merge(V,this.rawUrlTree);return this.scheduleNavigation(ae,"imperative",null,O)}navigate(_,O={skipLocationChange:!1}){return function Do(w){for(let D=0;D<w.length;D++){if(null==w[D])throw new c.vHH(4008,false)}}(_),this.navigateByUrl(this.createUrlTree(_,O),O)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let O;try{O=this.urlSerializer.parse(_)}catch(V){O=this.malformedUriErrorHandler(V,this.urlSerializer,_)}return O}isActive(_,O){let V;if(V=!0===O?{...fr}:!1===O?{...Nr}:O,_e(_))return cr(this.currentUrlTree,_,V);const ae=this.parseUrl(_);return cr(this.currentUrlTree,ae,V)}removeEmptyProps(_){return Object.keys(_).reduce((O,V)=>{const ae=_[V];return null!=ae&&(O[V]=ae),O},{})}processNavigations(){this.navigations.subscribe(_=>{this.navigated=!0,this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId,this.events.next(new _r(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),_.resolve(!0)},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}scheduleNavigation(_,O,V,ae,Oe){if(this.disposed)return Promise.resolve(!1);let $e,St,Xt;Oe?($e=Oe.resolve,St=Oe.reject,Xt=Oe.promise):Xt=new Promise((Mr,Us)=>{$e=Mr,St=Us});const Tr=++this.navigationId;let Fn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(V=this.location.getState()),Fn=V&&V.\u0275routerPageId?V.\u0275routerPageId:ae.replaceUrl||ae.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Fn=0,this.setTransition({id:Tr,targetPageId:Fn,source:O,restoredState:V,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:_,extras:ae,resolve:$e,reject:St,promise:Xt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Xt.catch(Mr=>Promise.reject(Mr))}setBrowserUrl(_,O){const V=this.urlSerializer.serialize(_),ae={...O.extras.state,...this.generateNgRouterState(O.id,O.targetPageId)};this.location.isCurrentPathEqualTo(V)||O.extras.replaceUrl?this.location.replaceState(V,"",ae):this.location.go(V,"",ae)}restoreHistory(_,O=!1){if("computed"===this.canceledNavigationResolution){const V=this.currentPageId-_.targetPageId;"popstate"!==_.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===V?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===V&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(V)}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(_,O,V){const ae=new ji(_.id,this.serializeUrl(_.extractedUrl),O,V);this.triggerEvent(ae),_.resolve(!1)}generateNgRouterState(_,O){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:O}:{navigationId:_}}}return w.\u0275fac=function(_){c.$Z()},w.\u0275prov=c.Yz7({token:w,factory:function(){return ps()},providedIn:"root"}),w})();function di(w){return"imperative"!==w}let so=(()=>{class w{constructor(_,O,V,ae,Oe){this.router=_,this.route=O,this.tabIndexAttribute=V,this.renderer=ae,this.el=Oe,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ze.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(_){this._preserveFragment=(0,c.D6c)(_)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(_){this._skipLocationChange=(0,c.D6c)(_)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(_){this._replaceUrl=(0,c.D6c)(_)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(_){if(null!=this.tabIndexAttribute)return;const O=this.renderer,V=this.el.nativeElement;null!==_?O.setAttribute(V,"tabindex",_):O.removeAttribute(V,"tabindex")}ngOnChanges(_){this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return w.\u0275fac=function(_){return new(_||w)(c.Y36(Qr),c.Y36(Ue),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},w.\u0275dir=c.lG2({type:w,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(_,O){1&_&&c.NdJ("click",function(){return O.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),w})(),va=(()=>{class w{constructor(_,O,V){this.router=_,this.route=O,this.locationStrategy=V,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ze.x,this.subscription=_.events.subscribe(ae=>{ae instanceof _r&&this.updateTargetUrlAndHref()})}set preserveFragment(_){this._preserveFragment=(0,c.D6c)(_)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(_){this._skipLocationChange=(0,c.D6c)(_)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(_){this._replaceUrl=(0,c.D6c)(_)}get replaceUrl(){return this._replaceUrl}set routerLink(_){this.commands=null!=_?Array.isArray(_)?_:[_]:null}ngOnChanges(_){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(_,O,V,ae,Oe){return!!(0!==_||O||V||ae||Oe||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return w.\u0275fac=function(_){return new(_||w)(c.Y36(Qr),c.Y36(Ue),c.Y36(_t.S$))},w.\u0275dir=c.lG2({type:w,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(_,O){1&_&&c.NdJ("click",function(ae){return O.onClick(ae.button,ae.ctrlKey,ae.shiftKey,ae.altKey,ae.metaKey)}),2&_&&c.uIk("target",O.target)("href",O.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),w})();class Wn{}let Ri=(()=>{class w{constructor(_,O,V,ae,Oe){this.router=_,this.injector=V,this.preloadingStrategy=ae,this.loader=Oe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Be.h)(_=>_ instanceof _r),(0,tt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,O){const V=[];for(const ae of O){ae.providers&&!ae._injector&&(ae._injector=(0,c.MMx)(ae.providers,_,`Route: ${ae.path}`));const Oe=ae._injector??_,$e=ae._loadedInjector??Oe;ae.loadChildren&&!ae._loadedRoutes&&void 0===ae.canLoad||ae.loadComponent&&!ae._loadedComponent?V.push(this.preloadConfig(Oe,ae)):(ae.children||ae._loadedRoutes)&&V.push(this.processRoutes($e,ae.children??ae._loadedRoutes))}return(0,C.D)(V).pipe((0,pn.J)())}preloadConfig(_,O){return this.preloadingStrategy.preload(O,()=>{let V;V=O.loadChildren&&void 0===O.canLoad?this.loader.loadChildren(_,O):(0,I.of)(null);const ae=V.pipe((0,we.z)(Oe=>null===Oe?(0,I.of)(void 0):(O._loadedRoutes=Oe.routes,O._loadedInjector=Oe.injector,this.processRoutes(Oe.injector??_,Oe.routes))));if(O.loadComponent&&!O._loadedComponent){const Oe=this.loader.loadComponent(O);return(0,C.D)([ae,Oe]).pipe((0,pn.J)())}return ae})}}return w.\u0275fac=function(_){return new(_||w)(c.LFG(Qr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Wn),c.LFG(Yn))},w.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Jn=new c.OlP("");let ra=(()=>{class w{constructor(_,O,V={}){this.router=_,this.viewportScroller=O,this.options=V,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},V.scrollPositionRestoration=V.scrollPositionRestoration||"disabled",V.anchorScrolling=V.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof xi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof _r&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.router.parseUrl(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof X&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,O){this.router.triggerEvent(new X(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return w.\u0275fac=function(_){c.$Z()},w.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac}),w})();function yn(w,D){return{\u0275kind:w,\u0275providers:D}}function No(w){return[{provide:In,multi:!0,useValue:w}]}function oo(){const w=(0,c.f3M)(c.zs3);return D=>{const _=w.get(c.z2F);if(D!==_.components[0])return;const O=w.get(Qr),V=w.get(ia);1===w.get(Lo)&&O.initialNavigation(),w.get(El,null,c.XFs.Optional)?.setUpPreloading(),w.get(Jn,null,c.XFs.Optional)?.init(),O.resetRootComponentType(_.componentTypes[0]),V.next(),V.complete()}}const ia=new c.OlP("",{factory:()=>new ze.x}),Lo=new c.OlP("",{providedIn:"root",factory:()=>1});const El=new c.OlP("");function Io(w){return yn(0,[{provide:El,useExisting:Ri},{provide:Wn,useExisting:w}])}const Ao=new c.OlP("ROUTER_FORROOT_GUARD"),$l=[_t.Ye,{provide:N,useClass:Z},{provide:Qr,useFactory:ps},Ps,{provide:Ue,useFactory:function gi(w){return w.routerState.root},deps:[Qr]},Yn];function Ot(){return new c.PXZ("Router",Qr)}let as=(()=>{class w{constructor(_){}static forRoot(_,O){return{ngModule:w,providers:[$l,[],No(_),{provide:Ao,useFactory:Vo,deps:[[Qr,new c.FiY,new c.tp0]]},{provide:zi,useValue:O||{}},O?.useHash?{provide:_t.S$,useClass:_t.Do}:{provide:_t.S$,useClass:_t.b0},{provide:Jn,useFactory:()=>{const w=(0,c.f3M)(Qr),D=(0,c.f3M)(_t.EM),_=(0,c.f3M)(zi);return _.scrollOffset&&D.setOffset(_.scrollOffset),new ra(w,D,_)}},O?.preloadingStrategy?Io(O.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:Ot},O?.initialNavigation?go(O):[],[{provide:Ts,useFactory:oo},{provide:c.tb,multi:!0,useExisting:Ts}]]}}static forChild(_){return{ngModule:w,providers:[No(_)]}}}return w.\u0275fac=function(_){return new(_||w)(c.LFG(Ao,8))},w.\u0275mod=c.oAB({type:w}),w.\u0275inj=c.cJS({imports:[ni]}),w})();function Vo(w){return"guarded"}function go(w){return["disabled"===w.initialNavigation?yn(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const D=(0,c.f3M)(Qr);return()=>{D.setUpLocationChangeListener()}}},{provide:Lo,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?yn(2,[{provide:Lo,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:D=>{const _=D.get(_t.V_,Promise.resolve());let O=!1;return()=>_.then(()=>new Promise(ae=>{const Oe=D.get(Qr),$e=D.get(ia);(function V(ae){D.get(Qr).events.pipe((0,Be.h)($e=>$e instanceof _r||$e instanceof ji||$e instanceof ti),(0,Je.U)($e=>$e instanceof _r||$e instanceof ji&&(0===$e.code||1===$e.code)&&null),(0,Be.h)($e=>null!==$e),(0,Fe.q)(1)).subscribe(()=>{ae()})})(()=>{ae(!0),O=!0}),Oe.afterPreactivation=()=>(ae(!0),O||$e.closed?(0,I.of)(void 0):$e),Oe.initialNavigation()}))}}]).\u0275providers:[]]}const Ts=new c.OlP("")},3942:(en,rt,S)=>{"use strict";S.d(rt,{Z:()=>ze});var c=S(2090),C=S(3475),I=S(9681),re=S(1877);class ge{constructor(Je,at){this._delegate=Je,this.firebase=at,(0,I._addComponent)(Je,new C.wA("app-compat",()=>this,"PUBLIC")),this.container=Je.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Je){this._delegate.automaticDataCollectionEnabled=Je}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Je=>{this._delegate.checkDestroyed(),Je()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,I.deleteApp)(this._delegate)))}_getService(Je,at=I._DEFAULT_ENTRY_NAME){var Fe;this._delegate.checkDestroyed();const Rt=this._delegate.container.getProvider(Je);return!Rt.isInitialized()&&"EXPLICIT"===(null===(Fe=Rt.getComponent())||void 0===Fe?void 0:Fe.instantiationMode)&&Rt.initialize(),Rt.getImmediate({identifier:at})}_removeServiceInstance(Je,at=I._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Je).clearInstance(at)}_addComponent(Je){(0,I._addComponent)(this._delegate,Je)}_addOrOverwriteComponent(Je){(0,I._addOrOverwriteComponent)(this._delegate,Je)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ne=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ce=function ke(){const _t=function Te(_t){const Je={},at={__esModule:!0,initializeApp:function Be(Et,ye={}){const pt=I.initializeApp(Et,ye);if((0,c.r3)(Je,pt.name))return Je[pt.name];const Re=new _t(pt,at);return Je[pt.name]=Re,Re},app:Rt,registerVersion:I.registerVersion,setLogLevel:I.setLogLevel,onLog:I.onLog,apps:null,SDK_VERSION:I.SDK_VERSION,INTERNAL:{registerComponent:function Ie(Et){const ye=Et.name,pt=ye.replace("-compat","");if(I._registerComponent(Et)&&"PUBLIC"===Et.type){const Re=(Ye=Rt())=>{if("function"!=typeof Ye[pt])throw Ne.create("invalid-app-argument",{appName:ye});return Ye[pt]()};void 0!==Et.serviceProps&&(0,c.ZB)(Re,Et.serviceProps),at[pt]=Re,_t.prototype[pt]=function(...Ye){return this._getService.bind(this,ye).apply(this,Et.multipleInstances?Ye:[])}}return"PUBLIC"===Et.type?at[pt]:null},removeApp:function Fe(Et){delete Je[Et]},useAsService:function tt(Et,ye){return"serverAuth"===ye?null:ye},modularAPIs:I}};function Rt(Et){if(!(0,c.r3)(Je,Et=Et||I._DEFAULT_ENTRY_NAME))throw Ne.create("no-app",{appName:Et});return Je[Et]}return at.default=at,Object.defineProperty(at,"apps",{get:function we(){return Object.keys(Je).map(Et=>Je[Et])}}),Rt.App=_t,at}(ge);return _t.INTERNAL=Object.assign(Object.assign({},_t.INTERNAL),{createFirebaseNamespace:ke,extendNamespace:function Je(at){(0,c.ZB)(_t,at)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),_t}(),be=new re.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){be.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _t=self.firebase.SDK_VERSION;_t&&_t.indexOf("LITE")>=0&&be.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ze=ce;!function nt(_t){(0,I.registerVersion)("@firebase/app-compat","0.1.34",_t)}()},9681:(en,rt,S)=>{"use strict";S.r(rt),S.d(rt,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>$n,_DEFAULT_ENTRY_NAME:()=>tn,_addComponent:()=>gn,_addOrOverwriteComponent:()=>zt,_apps:()=>Rn,_clearComponents:()=>xr,_components:()=>pn,_getProvider:()=>Nn,_registerComponent:()=>Hn,_removeServiceInstance:()=>wn,deleteApp:()=>Qn,getApp:()=>hr,getApps:()=>Bn,initializeApp:()=>Zn,onLog:()=>Xn,registerVersion:()=>rr,setLogLevel:()=>ir});var c=S(5861),C=S(3475),I=S(1877),re=S(2090),ge=S(8766);class Me{constructor($){this.container=$}getPlatformInfoString(){return this.container.getProviders().map(fe=>{if(function Ne(ee){return"VERSION"===ee.getComponent()?.type}(fe)){const xe=fe.getImmediate();return`${xe.library}/${xe.version}`}return null}).filter(fe=>fe).join(" ")}}const Te="@firebase/app",ce=new I.Yd("@firebase/app"),tn="[DEFAULT]",Nt={[Te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Rn=new Map,pn=new Map;function gn(ee,$){try{ee.container.addComponent($)}catch(fe){ce.debug(`Component ${$.name} failed to register with FirebaseApp ${ee.name}`,fe)}}function zt(ee,$){ee.container.addOrOverwriteComponent($)}function Hn(ee){const $=ee.name;if(pn.has($))return ce.debug(`There were multiple attempts to register component ${$}.`),!1;pn.set($,ee);for(const fe of Rn.values())gn(fe,ee);return!0}function Nn(ee,$){const fe=ee.container.getProvider("heartbeat").getImmediate({optional:!0});return fe&&fe.triggerHeartbeat(),ee.container.getProvider($)}function wn(ee,$,fe=tn){Nn(ee,$).clearInstance(fe)}function xr(){pn.clear()}const Gn=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class or{constructor($,fe,xe){this._isDeleted=!1,this._options=Object.assign({},$),this._config=Object.assign({},fe),this._name=fe.name,this._automaticDataCollectionEnabled=fe.automaticDataCollectionEnabled,this._container=xe,this.container.addComponent(new C.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($){this.checkDestroyed(),this._automaticDataCollectionEnabled=$}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($){this._isDeleted=$}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}const $n="9.10.0";function Zn(ee,$={}){"object"!=typeof $&&($={name:$});const fe=Object.assign({name:tn,automaticDataCollectionEnabled:!1},$),xe=fe.name;if("string"!=typeof xe||!xe)throw Gn.create("bad-app-name",{appName:String(xe)});const Ge=Rn.get(xe);if(Ge){if((0,re.vZ)(ee,Ge.options)&&(0,re.vZ)(fe,Ge.config))return Ge;throw Gn.create("duplicate-app",{appName:xe})}const ot=new C.H0(xe);for(const nn of pn.values())ot.addComponent(nn);const Qt=new or(ee,fe,ot);return Rn.set(xe,Qt),Qt}function hr(ee=tn){const $=Rn.get(ee);if(!$)throw Gn.create("no-app",{appName:ee});return $}function Bn(){return Array.from(Rn.values())}function Qn(ee){return $t.apply(this,arguments)}function $t(){return($t=(0,c.Z)(function*(ee){const $=ee.name;Rn.has($)&&(Rn.delete($),yield Promise.all(ee.container.getProviders().map(fe=>fe.delete())),ee.isDeleted=!0)})).apply(this,arguments)}function rr(ee,$,fe){var xe;let Ge=null!==(xe=Nt[ee])&&void 0!==xe?xe:ee;fe&&(Ge+=`-${fe}`);const ot=Ge.match(/\s|\//),Qt=$.match(/\s|\//);if(ot||Qt){const nn=[`Unable to register library "${Ge}" with version "${$}":`];return ot&&nn.push(`library name "${Ge}" contains illegal characters (whitespace or "/")`),ot&&Qt&&nn.push("and"),Qt&&nn.push(`version name "${$}" contains illegal characters (whitespace or "/")`),void ce.warn(nn.join(" "))}Hn(new C.wA(`${Ge}-version`,()=>({library:Ge,version:$}),"VERSION"))}function Xn(ee,$){if(null!==ee&&"function"!=typeof ee)throw Gn.create("invalid-log-argument");(0,I.Am)(ee,$)}function ir(ee){(0,I.Ub)(ee)}const Ct="firebase-heartbeat-store";let st=null;function Pt(){return st||(st=(0,ge.X3)("firebase-heartbeat-database",1,{upgrade:(ee,$)=>{0===$&&ee.createObjectStore(Ct)}}).catch(ee=>{throw Gn.create("idb-open",{originalErrorMessage:ee.message})})),st}function Bt(){return(Bt=(0,c.Z)(function*(ee){var $;try{return(yield Pt()).transaction(Ct).objectStore(Ct).get(Ln(ee))}catch(fe){if(fe instanceof re.ZR)ce.warn(fe.message);else{const xe=Gn.create("idb-get",{originalErrorMessage:null===($=fe)||void 0===$?void 0:$.message});ce.warn(xe.message)}}})).apply(this,arguments)}function _n(ee,$){return hn.apply(this,arguments)}function hn(){return(hn=(0,c.Z)(function*(ee,$){var fe;try{const Ge=(yield Pt()).transaction(Ct,"readwrite");return yield Ge.objectStore(Ct).put($,Ln(ee)),Ge.done}catch(xe){if(xe instanceof re.ZR)ce.warn(xe.message);else{const Ge=Gn.create("idb-set",{originalErrorMessage:null===(fe=xe)||void 0===fe?void 0:fe.message});ce.warn(Ge.message)}}})).apply(this,arguments)}function Ln(ee){return`${ee.name}!${ee.options.appId}`}class qe{constructor($){this.container=$,this._heartbeatsCache=null;const fe=this.container.getProvider("app").getImmediate();this._storage=new q(fe),this._heartbeatsCachePromise=this._storage.read().then(xe=>(this._heartbeatsCache=xe,xe))}triggerHeartbeat(){var $=this;return(0,c.Z)(function*(){const xe=$.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ge=N();if(null===$._heartbeatsCache&&($._heartbeatsCache=yield $._heartbeatsCachePromise),$._heartbeatsCache.lastSentHeartbeatDate!==Ge&&!$._heartbeatsCache.heartbeats.some(ot=>ot.date===Ge))return $._heartbeatsCache.heartbeats.push({date:Ge,agent:xe}),$._heartbeatsCache.heartbeats=$._heartbeatsCache.heartbeats.filter(ot=>{const Qt=new Date(ot.date).valueOf();return Date.now()-Qt<=2592e6}),$._storage.overwrite($._heartbeatsCache)})()}getHeartbeatsHeader(){var $=this;return(0,c.Z)(function*(){if(null===$._heartbeatsCache&&(yield $._heartbeatsCachePromise),null===$._heartbeatsCache||0===$._heartbeatsCache.heartbeats.length)return"";const fe=N(),{heartbeatsToSend:xe,unsentEntries:Ge}=function Z(ee,$=1024){const fe=[];let xe=ee.slice();for(const Ge of ee){const ot=fe.find(Qt=>Qt.agent===Ge.agent);if(ot){if(ot.dates.push(Ge.date),Y(fe)>$){ot.dates.pop();break}}else if(fe.push({agent:Ge.agent,dates:[Ge.date]}),Y(fe)>$){fe.pop();break}xe=xe.slice(1)}return{heartbeatsToSend:fe,unsentEntries:xe}}($._heartbeatsCache.heartbeats),ot=(0,re.L)(JSON.stringify({version:2,heartbeats:xe}));return $._heartbeatsCache.lastSentHeartbeatDate=fe,Ge.length>0?($._heartbeatsCache.heartbeats=Ge,yield $._storage.overwrite($._heartbeatsCache)):($._heartbeatsCache.heartbeats=[],$._storage.overwrite($._heartbeatsCache)),ot})()}}function N(){return(new Date).toISOString().substring(0,10)}class q{constructor($){this.app=$,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $=this;return(0,c.Z)(function*(){return(yield $._canUseIndexedDBPromise)&&(yield function Tt(ee){return Bt.apply(this,arguments)}($.app))||{heartbeats:[]}})()}overwrite($){var fe=this;return(0,c.Z)(function*(){var xe;if(yield fe._canUseIndexedDBPromise){const ot=yield fe.read();return _n(fe.app,{lastSentHeartbeatDate:null!==(xe=$.lastSentHeartbeatDate)&&void 0!==xe?xe:ot.lastSentHeartbeatDate,heartbeats:$.heartbeats})}})()}add($){var fe=this;return(0,c.Z)(function*(){var xe;if(yield fe._canUseIndexedDBPromise){const ot=yield fe.read();return _n(fe.app,{lastSentHeartbeatDate:null!==(xe=$.lastSentHeartbeatDate)&&void 0!==xe?xe:ot.lastSentHeartbeatDate,heartbeats:[...ot.heartbeats,...$.heartbeats]})}})()}}function Y(ee){return(0,re.L)(JSON.stringify({version:2,heartbeats:ee})).length}!function j(ee){Hn(new C.wA("platform-logger",$=>new Me($),"PRIVATE")),Hn(new C.wA("heartbeat",$=>new qe($),"PRIVATE")),rr(Te,"0.7.33",ee),rr(Te,"0.7.33","esm2017"),rr("fire-js","")}("")},3475:(en,rt,S)=>{"use strict";S.d(rt,{H0:()=>Te,wA:()=>I});var c=S(5861),C=S(2090);class I{constructor(ce,be,De){this.name=ce,this.instanceFactory=be,this.type=De,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const re="[DEFAULT]";class ge{constructor(ce,be){this.name=ce,this.container=be,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const be=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(be)){const De=new C.BH;if(this.instancesDeferred.set(be,De),this.isInitialized(be)||this.shouldAutoInitialize())try{const it=this.getOrInitializeService({instanceIdentifier:be});it&&De.resolve(it)}catch{}}return this.instancesDeferred.get(be).promise}getImmediate(ce){var be;const De=this.normalizeInstanceIdentifier(ce?.identifier),it=null!==(be=ce?.optional)&&void 0!==be&&be;if(!this.isInitialized(De)&&!this.shouldAutoInitialize()){if(it)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:De})}catch(nt){if(it)return null;throw nt}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function Ne(ke){return"EAGER"===ke.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[be,De]of this.instancesDeferred.entries()){const it=this.normalizeInstanceIdentifier(be);try{const nt=this.getOrInitializeService({instanceIdentifier:it});De.resolve(nt)}catch{}}}}clearInstance(ce=re){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,c.Z)(function*(){const be=Array.from(ce.instances.values());yield Promise.all([...be.filter(De=>"INTERNAL"in De).map(De=>De.INTERNAL.delete()),...be.filter(De=>"_delete"in De).map(De=>De._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=re){return this.instances.has(ce)}getOptions(ce=re){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:be={}}=ce,De=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(De))throw Error(`${this.name}(${De}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const it=this.getOrInitializeService({instanceIdentifier:De,options:be});for(const[nt,ze]of this.instancesDeferred.entries())De===this.normalizeInstanceIdentifier(nt)&&ze.resolve(it);return it}onInit(ce,be){var De;const it=this.normalizeInstanceIdentifier(be),nt=null!==(De=this.onInitCallbacks.get(it))&&void 0!==De?De:new Set;nt.add(ce),this.onInitCallbacks.set(it,nt);const ze=this.instances.get(it);return ze&&ce(ze,it),()=>{nt.delete(ce)}}invokeOnInitCallbacks(ce,be){const De=this.onInitCallbacks.get(be);if(De)for(const it of De)try{it(ce,be)}catch{}}getOrInitializeService({instanceIdentifier:ce,options:be={}}){let De=this.instances.get(ce);if(!De&&this.component&&(De=this.component.instanceFactory(this.container,{instanceIdentifier:(ke=ce,ke===re?void 0:ke),options:be}),this.instances.set(ce,De),this.instancesOptions.set(ce,be),this.invokeOnInitCallbacks(De,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,De)}catch{}var ke;return De||null}normalizeInstanceIdentifier(ce=re){return this.component?this.component.multipleInstances?ce:re:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const be=this.getProvider(ce.name);if(be.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);be.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const be=new ge(ce,this);return this.providers.set(ce,be),be}getProviders(){return Array.from(this.providers.values())}}},1877:(en,rt,S)=>{"use strict";S.d(rt,{Am:()=>ke,Ub:()=>Te,Yd:()=>Ne,in:()=>C});const c=[];var C=(()=>{return(ce=C||(C={}))[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",C;var ce})();const I={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},re=C.INFO,ge={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},Me=(ce,be,...De)=>{if(be<ce.logLevel)return;const it=(new Date).toISOString(),nt=ge[be];if(!nt)throw new Error(`Attempted to log a message with an invalid logType (value: ${be})`);console[nt](`[${it}]  ${ce.name}:`,...De)};class Ne{constructor(be){this.name=be,this._logLevel=re,this._logHandler=Me,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(be){if(!(be in C))throw new TypeError(`Invalid value "${be}" assigned to \`logLevel\``);this._logLevel=be}setLogLevel(be){this._logLevel="string"==typeof be?I[be]:be}get logHandler(){return this._logHandler}set logHandler(be){if("function"!=typeof be)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=be}get userLogHandler(){return this._userLogHandler}set userLogHandler(be){this._userLogHandler=be}debug(...be){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...be),this._logHandler(this,C.DEBUG,...be)}log(...be){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...be),this._logHandler(this,C.VERBOSE,...be)}info(...be){this._userLogHandler&&this._userLogHandler(this,C.INFO,...be),this._logHandler(this,C.INFO,...be)}warn(...be){this._userLogHandler&&this._userLogHandler(this,C.WARN,...be),this._logHandler(this,C.WARN,...be)}error(...be){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...be),this._logHandler(this,C.ERROR,...be)}}function Te(ce){c.forEach(be=>{be.setLogLevel(ce)})}function ke(ce,be){for(const De of c){let it=null;be&&be.level&&(it=I[be.level]),De.userLogHandler=null===ce?null:(nt,ze,..._t)=>{const Je=_t.map(at=>{if(null==at)return null;if("string"==typeof at)return at;if("number"==typeof at||"boolean"==typeof at)return at.toString();if(at instanceof Error)return at.message;try{return JSON.stringify(at)}catch{return null}}).filter(at=>at).join(" ");ze>=(it??nt.logLevel)&&ce({level:C[ze].toLowerCase(),message:Je,args:_t,type:nt.name})}}}},8766:(en,rt,S)=>{"use strict";S.d(rt,{Lj:()=>Be,X3:()=>Rt});var c=S(5861);let I,re;const Ne=new WeakMap,Te=new WeakMap,ke=new WeakMap,ce=new WeakMap,be=new WeakMap;let nt={get(ye,pt,Re){if(ye instanceof IDBTransaction){if("done"===pt)return Te.get(ye);if("objectStoreNames"===pt)return ye.objectStoreNames||ke.get(ye);if("store"===pt)return Re.objectStoreNames[1]?void 0:Re.objectStore(Re.objectStoreNames[0])}return at(ye[pt])},set:(ye,pt,Re)=>(ye[pt]=Re,!0),has:(ye,pt)=>ye instanceof IDBTransaction&&("done"===pt||"store"===pt)||pt in ye};function Je(ye){return"function"==typeof ye?function _t(ye){return ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ye)?function(...pt){return ye.apply(Fe(this),pt),at(Ne.get(this))}:function(...pt){return at(ye.apply(Fe(this),pt))}:function(pt,...Re){const Ye=ye.call(Fe(this),pt,...Re);return ke.set(Ye,pt.sort?pt.sort():[pt]),at(Ye)}}(ye):(ye instanceof IDBTransaction&&function it(ye){if(Te.has(ye))return;const pt=new Promise((Re,Ye)=>{const ct=()=>{ye.removeEventListener("complete",dt),ye.removeEventListener("error",jt),ye.removeEventListener("abort",jt)},dt=()=>{Re(),ct()},jt=()=>{Ye(ye.error||new DOMException("AbortError","AbortError")),ct()};ye.addEventListener("complete",dt),ye.addEventListener("error",jt),ye.addEventListener("abort",jt)});Te.set(ye,pt)}(ye),((ye,pt)=>pt.some(Re=>ye instanceof Re))(ye,function ge(){return I||(I=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ye,nt):ye)}function at(ye){if(ye instanceof IDBRequest)return function De(ye){const pt=new Promise((Re,Ye)=>{const ct=()=>{ye.removeEventListener("success",dt),ye.removeEventListener("error",jt)},dt=()=>{Re(at(ye.result)),ct()},jt=()=>{Ye(ye.error),ct()};ye.addEventListener("success",dt),ye.addEventListener("error",jt)});return pt.then(Re=>{Re instanceof IDBCursor&&Ne.set(Re,ye)}).catch(()=>{}),be.set(pt,ye),pt}(ye);if(ce.has(ye))return ce.get(ye);const pt=Je(ye);return pt!==ye&&(ce.set(ye,pt),be.set(pt,ye)),pt}const Fe=ye=>be.get(ye);function Rt(ye,pt,{blocked:Re,upgrade:Ye,blocking:ct,terminated:dt}={}){const jt=indexedDB.open(ye,pt),Gt=at(jt);return Ye&&jt.addEventListener("upgradeneeded",Kt=>{Ye(at(jt.result),Kt.oldVersion,Kt.newVersion,at(jt.transaction))}),Re&&jt.addEventListener("blocked",()=>Re()),Gt.then(Kt=>{dt&&Kt.addEventListener("close",()=>dt()),ct&&Kt.addEventListener("versionchange",()=>ct())}).catch(()=>{}),Gt}function Be(ye,{blocked:pt}={}){const Re=indexedDB.deleteDatabase(ye);return pt&&Re.addEventListener("blocked",()=>pt()),at(Re).then(()=>{})}const we=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],tt=new Map;function Et(ye,pt){if(!(ye instanceof IDBDatabase)||pt in ye||"string"!=typeof pt)return;if(tt.get(pt))return tt.get(pt);const Re=pt.replace(/FromIndex$/,""),Ye=pt!==Re,ct=Ie.includes(Re);if(!(Re in(Ye?IDBIndex:IDBObjectStore).prototype)||!ct&&!we.includes(Re))return;const dt=function(){var jt=(0,c.Z)(function*(Gt,...Kt){const fn=this.transaction(Gt,ct?"readwrite":"readonly");let tn=fn.store;return Ye&&(tn=tn.index(Kt.shift())),(yield Promise.all([tn[Re](...Kt),ct&&fn.done]))[0]});return function(Kt){return jt.apply(this,arguments)}}();return tt.set(pt,dt),dt}!function ze(ye){nt=ye(nt)}(ye=>({...ye,get:(pt,Re,Ye)=>Et(pt,Re)||ye.get(pt,Re,Ye),has:(pt,Re)=>!!Et(pt,Re)||ye.has(pt,Re)}))},5861:(en,rt,S)=>{"use strict";function c(I,re,ge,Me,Ne,Te,ke){try{var ce=I[Te](ke),be=ce.value}catch(De){return void ge(De)}ce.done?re(be):Promise.resolve(be).then(Me,Ne)}function C(I){return function(){var re=this,ge=arguments;return new Promise(function(Me,Ne){var Te=I.apply(re,ge);function ke(be){c(Te,Me,Ne,ke,ce,"next",be)}function ce(be){c(Te,Me,Ne,ke,ce,"throw",be)}ke(void 0)})}}S.d(rt,{Z:()=>C})}},en=>{en(en.s=5804)}]);